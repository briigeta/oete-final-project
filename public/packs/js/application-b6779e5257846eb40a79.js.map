{"version":3,"file":"js/application-b6779e5257846eb40a79.js","sources":["webpack:///webpack/bootstrap","webpack:///./app/javascript/packs/application.js","webpack:///./app/javascript/stylesheets/application.scss","webpack:///./node_modules/@rails/actiontext/app/assets/javascripts/actiontext.js","webpack:///./node_modules/@rails/activestorage/app/assets/javascripts/activestorage.esm.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/trix/dist/trix.esm.min.js","webpack:///./node_modules/turbolinks/dist/turbolinks.js","webpack:///(webpack)/buildin/global.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./app/javascript/packs/application.js\");\n","// app/javascript/packs/application.js\r\n\r\nrequire(\"@rails/ujs\").start()\r\nrequire(\"turbolinks\").start()\r\nrequire(\"channels\")\r\nrequire(\"@rails/activestorage\").start()\r\n\r\nimport 'bootstrap'\r\nimport '../stylesheets/application.scss'\r\n\r\n\r\nrequire(\"trix\")\r\nrequire(\"@rails/actiontext\")\r\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-1!../../../node_modules/postcss-loader/src/index.js??ref--6-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-3!./application.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\nvar activestorage = {\n  exports: {}\n};\n(function (module, exports) {\n  (function (global, factory) {\n    factory(exports);\n  })(commonjsGlobal, function (exports) {\n    var sparkMd5 = {\n      exports: {}\n    };\n    (function (module, exports) {\n      (function (factory) {\n        {\n          module.exports = factory();\n        }\n      })(function (undefined$1) {\n        var hex_chr = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        function md5cycle(x, k) {\n          var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n          a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n          a = (a << 7 | a >>> 25) + b | 0;\n          d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n          d = (d << 12 | d >>> 20) + a | 0;\n          c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n          c = (c << 17 | c >>> 15) + d | 0;\n          b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n          b = (b << 22 | b >>> 10) + c | 0;\n          a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n          a = (a << 7 | a >>> 25) + b | 0;\n          d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n          d = (d << 12 | d >>> 20) + a | 0;\n          c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n          c = (c << 17 | c >>> 15) + d | 0;\n          b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n          b = (b << 22 | b >>> 10) + c | 0;\n          a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n          a = (a << 7 | a >>> 25) + b | 0;\n          d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n          d = (d << 12 | d >>> 20) + a | 0;\n          c += (d & a | ~d & b) + k[10] - 42063 | 0;\n          c = (c << 17 | c >>> 15) + d | 0;\n          b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n          b = (b << 22 | b >>> 10) + c | 0;\n          a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n          a = (a << 7 | a >>> 25) + b | 0;\n          d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n          d = (d << 12 | d >>> 20) + a | 0;\n          c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n          c = (c << 17 | c >>> 15) + d | 0;\n          b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n          b = (b << 22 | b >>> 10) + c | 0;\n          a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n          a = (a << 5 | a >>> 27) + b | 0;\n          d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n          d = (d << 9 | d >>> 23) + a | 0;\n          c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n          c = (c << 14 | c >>> 18) + d | 0;\n          b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n          b = (b << 20 | b >>> 12) + c | 0;\n          a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n          a = (a << 5 | a >>> 27) + b | 0;\n          d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n          d = (d << 9 | d >>> 23) + a | 0;\n          c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n          c = (c << 14 | c >>> 18) + d | 0;\n          b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n          b = (b << 20 | b >>> 12) + c | 0;\n          a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n          a = (a << 5 | a >>> 27) + b | 0;\n          d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n          d = (d << 9 | d >>> 23) + a | 0;\n          c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n          c = (c << 14 | c >>> 18) + d | 0;\n          b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n          b = (b << 20 | b >>> 12) + c | 0;\n          a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n          a = (a << 5 | a >>> 27) + b | 0;\n          d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n          d = (d << 9 | d >>> 23) + a | 0;\n          c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n          c = (c << 14 | c >>> 18) + d | 0;\n          b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n          b = (b << 20 | b >>> 12) + c | 0;\n          a += (b ^ c ^ d) + k[5] - 378558 | 0;\n          a = (a << 4 | a >>> 28) + b | 0;\n          d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n          d = (d << 11 | d >>> 21) + a | 0;\n          c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n          c = (c << 16 | c >>> 16) + d | 0;\n          b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n          b = (b << 23 | b >>> 9) + c | 0;\n          a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n          a = (a << 4 | a >>> 28) + b | 0;\n          d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n          d = (d << 11 | d >>> 21) + a | 0;\n          c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n          c = (c << 16 | c >>> 16) + d | 0;\n          b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n          b = (b << 23 | b >>> 9) + c | 0;\n          a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n          a = (a << 4 | a >>> 28) + b | 0;\n          d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n          d = (d << 11 | d >>> 21) + a | 0;\n          c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n          c = (c << 16 | c >>> 16) + d | 0;\n          b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n          b = (b << 23 | b >>> 9) + c | 0;\n          a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n          a = (a << 4 | a >>> 28) + b | 0;\n          d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n          d = (d << 11 | d >>> 21) + a | 0;\n          c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n          c = (c << 16 | c >>> 16) + d | 0;\n          b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n          b = (b << 23 | b >>> 9) + c | 0;\n          a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n          a = (a << 6 | a >>> 26) + b | 0;\n          d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n          d = (d << 10 | d >>> 22) + a | 0;\n          c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n          c = (c << 15 | c >>> 17) + d | 0;\n          b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n          b = (b << 21 | b >>> 11) + c | 0;\n          a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n          a = (a << 6 | a >>> 26) + b | 0;\n          d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n          d = (d << 10 | d >>> 22) + a | 0;\n          c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n          c = (c << 15 | c >>> 17) + d | 0;\n          b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n          b = (b << 21 | b >>> 11) + c | 0;\n          a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n          a = (a << 6 | a >>> 26) + b | 0;\n          d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n          d = (d << 10 | d >>> 22) + a | 0;\n          c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n          c = (c << 15 | c >>> 17) + d | 0;\n          b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n          b = (b << 21 | b >>> 11) + c | 0;\n          a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n          a = (a << 6 | a >>> 26) + b | 0;\n          d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n          d = (d << 10 | d >>> 22) + a | 0;\n          c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n          c = (c << 15 | c >>> 17) + d | 0;\n          b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n          b = (b << 21 | b >>> 11) + c | 0;\n          x[0] = a + x[0] | 0;\n          x[1] = b + x[1] | 0;\n          x[2] = c + x[2] | 0;\n          x[3] = d + x[3] | 0;\n        }\n        function md5blk(s) {\n          var md5blks = [],\n            i;\n          for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n          }\n          return md5blks;\n        }\n        function md5blk_array(a) {\n          var md5blks = [],\n            i;\n          for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n          }\n          return md5blks;\n        }\n        function md51(s) {\n          var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n          for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n          }\n          s = s.substring(i - 64);\n          length = s.length;\n          tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n          for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n          }\n          tail[i >> 2] |= 128 << (i % 4 << 3);\n          if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n              tail[i] = 0;\n            }\n          }\n          tmp = n * 8;\n          tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n          lo = parseInt(tmp[2], 16);\n          hi = parseInt(tmp[1], 16) || 0;\n          tail[14] = lo;\n          tail[15] = hi;\n          md5cycle(state, tail);\n          return state;\n        }\n        function md51_array(a) {\n          var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n          for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n          }\n          a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n          length = a.length;\n          tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n          for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << (i % 4 << 3);\n          }\n          tail[i >> 2] |= 128 << (i % 4 << 3);\n          if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n              tail[i] = 0;\n            }\n          }\n          tmp = n * 8;\n          tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n          lo = parseInt(tmp[2], 16);\n          hi = parseInt(tmp[1], 16) || 0;\n          tail[14] = lo;\n          tail[15] = hi;\n          md5cycle(state, tail);\n          return state;\n        }\n        function rhex(n) {\n          var s = \"\",\n            j;\n          for (j = 0; j < 4; j += 1) {\n            s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n          }\n          return s;\n        }\n        function hex(x) {\n          var i;\n          for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n          }\n          return x.join(\"\");\n        }\n        if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n        if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n          (function () {\n            function clamp(val, length) {\n              val = val | 0 || 0;\n              if (val < 0) {\n                return Math.max(val + length, 0);\n              }\n              return Math.min(val, length);\n            }\n            ArrayBuffer.prototype.slice = function (from, to) {\n              var length = this.byteLength,\n                begin = clamp(from, length),\n                end = length,\n                num,\n                target,\n                targetArray,\n                sourceArray;\n              if (to !== undefined$1) {\n                end = clamp(to, length);\n              }\n              if (begin > end) {\n                return new ArrayBuffer(0);\n              }\n              num = end - begin;\n              target = new ArrayBuffer(num);\n              targetArray = new Uint8Array(target);\n              sourceArray = new Uint8Array(this, begin, num);\n              targetArray.set(sourceArray);\n              return target;\n            };\n          })();\n        }\n        function toUtf8(str) {\n          if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n          }\n          return str;\n        }\n        function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n          var length = str.length,\n            buff = new ArrayBuffer(length),\n            arr = new Uint8Array(buff),\n            i;\n          for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n          }\n          return returnUInt8Array ? arr : buff;\n        }\n        function arrayBuffer2Utf8Str(buff) {\n          return String.fromCharCode.apply(null, new Uint8Array(buff));\n        }\n        function concatenateArrayBuffers(first, second, returnUInt8Array) {\n          var result = new Uint8Array(first.byteLength + second.byteLength);\n          result.set(new Uint8Array(first));\n          result.set(new Uint8Array(second), first.byteLength);\n          return returnUInt8Array ? result : result.buffer;\n        }\n        function hexToBinaryString(hex) {\n          var bytes = [],\n            length = hex.length,\n            x;\n          for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n          }\n          return String.fromCharCode.apply(String, bytes);\n        }\n        function SparkMD5() {\n          this.reset();\n        }\n        SparkMD5.prototype.append = function (str) {\n          this.appendBinary(toUtf8(str));\n          return this;\n        };\n        SparkMD5.prototype.appendBinary = function (contents) {\n          this._buff += contents;\n          this._length += contents.length;\n          var length = this._buff.length,\n            i;\n          for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n          }\n          this._buff = this._buff.substring(i - 64);\n          return this;\n        };\n        SparkMD5.prototype.end = function (raw) {\n          var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n          for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n          }\n          this._finish(tail, length);\n          ret = hex(this._hash);\n          if (raw) {\n            ret = hexToBinaryString(ret);\n          }\n          this.reset();\n          return ret;\n        };\n        SparkMD5.prototype.reset = function () {\n          this._buff = \"\";\n          this._length = 0;\n          this._hash = [1732584193, -271733879, -1732584194, 271733878];\n          return this;\n        };\n        SparkMD5.prototype.getState = function () {\n          return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n          };\n        };\n        SparkMD5.prototype.setState = function (state) {\n          this._buff = state.buff;\n          this._length = state.length;\n          this._hash = state.hash;\n          return this;\n        };\n        SparkMD5.prototype.destroy = function () {\n          delete this._hash;\n          delete this._buff;\n          delete this._length;\n        };\n        SparkMD5.prototype._finish = function (tail, length) {\n          var i = length,\n            tmp,\n            lo,\n            hi;\n          tail[i >> 2] |= 128 << (i % 4 << 3);\n          if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n              tail[i] = 0;\n            }\n          }\n          tmp = this._length * 8;\n          tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n          lo = parseInt(tmp[2], 16);\n          hi = parseInt(tmp[1], 16) || 0;\n          tail[14] = lo;\n          tail[15] = hi;\n          md5cycle(this._hash, tail);\n        };\n        SparkMD5.hash = function (str, raw) {\n          return SparkMD5.hashBinary(toUtf8(str), raw);\n        };\n        SparkMD5.hashBinary = function (content, raw) {\n          var hash = md51(content),\n            ret = hex(hash);\n          return raw ? hexToBinaryString(ret) : ret;\n        };\n        SparkMD5.ArrayBuffer = function () {\n          this.reset();\n        };\n        SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n          var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n          this._length += arr.byteLength;\n          for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n          }\n          this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n          return this;\n        };\n        SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n          var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n          for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << (i % 4 << 3);\n          }\n          this._finish(tail, length);\n          ret = hex(this._hash);\n          if (raw) {\n            ret = hexToBinaryString(ret);\n          }\n          this.reset();\n          return ret;\n        };\n        SparkMD5.ArrayBuffer.prototype.reset = function () {\n          this._buff = new Uint8Array(0);\n          this._length = 0;\n          this._hash = [1732584193, -271733879, -1732584194, 271733878];\n          return this;\n        };\n        SparkMD5.ArrayBuffer.prototype.getState = function () {\n          var state = SparkMD5.prototype.getState.call(this);\n          state.buff = arrayBuffer2Utf8Str(state.buff);\n          return state;\n        };\n        SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n          state.buff = utf8Str2ArrayBuffer(state.buff, true);\n          return SparkMD5.prototype.setState.call(this, state);\n        };\n        SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n        SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n        SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n          var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n          return raw ? hexToBinaryString(ret) : ret;\n        };\n        return SparkMD5;\n      });\n    })(sparkMd5);\n    var SparkMD5 = sparkMd5.exports;\n    const fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n    class FileChecksum {\n      static create(file, callback) {\n        const instance = new FileChecksum(file);\n        instance.create(callback);\n      }\n      constructor(file) {\n        this.file = file;\n        this.chunkSize = 2097152;\n        this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n        this.chunkIndex = 0;\n      }\n      create(callback) {\n        this.callback = callback;\n        this.md5Buffer = new SparkMD5.ArrayBuffer();\n        this.fileReader = new FileReader();\n        this.fileReader.addEventListener(\"load\", event => this.fileReaderDidLoad(event));\n        this.fileReader.addEventListener(\"error\", event => this.fileReaderDidError(event));\n        this.readNextChunk();\n      }\n      fileReaderDidLoad(event) {\n        this.md5Buffer.append(event.target.result);\n        if (!this.readNextChunk()) {\n          const binaryDigest = this.md5Buffer.end(true);\n          const base64digest = btoa(binaryDigest);\n          this.callback(null, base64digest);\n        }\n      }\n      fileReaderDidError(event) {\n        this.callback(`Error reading ${this.file.name}`);\n      }\n      readNextChunk() {\n        if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n          const start = this.chunkIndex * this.chunkSize;\n          const end = Math.min(start + this.chunkSize, this.file.size);\n          const bytes = fileSlice.call(this.file, start, end);\n          this.fileReader.readAsArrayBuffer(bytes);\n          this.chunkIndex++;\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n    function getMetaValue(name) {\n      const element = findElement(document.head, `meta[name=\"${name}\"]`);\n      if (element) {\n        return element.getAttribute(\"content\");\n      }\n    }\n    function findElements(root, selector) {\n      if (typeof root == \"string\") {\n        selector = root;\n        root = document;\n      }\n      const elements = root.querySelectorAll(selector);\n      return toArray(elements);\n    }\n    function findElement(root, selector) {\n      if (typeof root == \"string\") {\n        selector = root;\n        root = document;\n      }\n      return root.querySelector(selector);\n    }\n    function dispatchEvent(element, type) {\n      let eventInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      const disabled = element.disabled;\n      const bubbles = eventInit.bubbles,\n        cancelable = eventInit.cancelable,\n        detail = eventInit.detail;\n      const event = document.createEvent(\"Event\");\n      event.initEvent(type, bubbles || true, cancelable || true);\n      event.detail = detail || {};\n      try {\n        element.disabled = false;\n        element.dispatchEvent(event);\n      } finally {\n        element.disabled = disabled;\n      }\n      return event;\n    }\n    function toArray(value) {\n      if (Array.isArray(value)) {\n        return value;\n      } else if (Array.from) {\n        return Array.from(value);\n      } else {\n        return [].slice.call(value);\n      }\n    }\n    class BlobRecord {\n      constructor(file, checksum, url) {\n        this.file = file;\n        this.attributes = {\n          filename: file.name,\n          content_type: file.type || \"application/octet-stream\",\n          byte_size: file.size,\n          checksum: checksum\n        };\n        this.xhr = new XMLHttpRequest();\n        this.xhr.open(\"POST\", url, true);\n        this.xhr.responseType = \"json\";\n        this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n        this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n        this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n        const csrfToken = getMetaValue(\"csrf-token\");\n        if (csrfToken != undefined) {\n          this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n        }\n        this.xhr.addEventListener(\"load\", event => this.requestDidLoad(event));\n        this.xhr.addEventListener(\"error\", event => this.requestDidError(event));\n      }\n      get status() {\n        return this.xhr.status;\n      }\n      get response() {\n        const _this$xhr = this.xhr,\n          responseType = _this$xhr.responseType,\n          response = _this$xhr.response;\n        if (responseType == \"json\") {\n          return response;\n        } else {\n          return JSON.parse(response);\n        }\n      }\n      create(callback) {\n        this.callback = callback;\n        this.xhr.send(JSON.stringify({\n          blob: this.attributes\n        }));\n      }\n      requestDidLoad(event) {\n        if (this.status >= 200 && this.status < 300) {\n          const response = this.response;\n          const direct_upload = response.direct_upload;\n          delete response.direct_upload;\n          this.attributes = response;\n          this.directUploadData = direct_upload;\n          this.callback(null, this.toJSON());\n        } else {\n          this.requestDidError(event);\n        }\n      }\n      requestDidError(event) {\n        this.callback(`Error creating Blob for \"${this.file.name}\". Status: ${this.status}`);\n      }\n      toJSON() {\n        const result = {};\n        for (const key in this.attributes) {\n          result[key] = this.attributes[key];\n        }\n        return result;\n      }\n    }\n    class BlobUpload {\n      constructor(blob) {\n        this.blob = blob;\n        this.file = blob.file;\n        const _blob$directUploadDat = blob.directUploadData,\n          url = _blob$directUploadDat.url,\n          headers = _blob$directUploadDat.headers;\n        this.xhr = new XMLHttpRequest();\n        this.xhr.open(\"PUT\", url, true);\n        this.xhr.responseType = \"text\";\n        for (const key in headers) {\n          this.xhr.setRequestHeader(key, headers[key]);\n        }\n        this.xhr.addEventListener(\"load\", event => this.requestDidLoad(event));\n        this.xhr.addEventListener(\"error\", event => this.requestDidError(event));\n      }\n      create(callback) {\n        this.callback = callback;\n        this.xhr.send(this.file.slice());\n      }\n      requestDidLoad(event) {\n        const _this$xhr2 = this.xhr,\n          status = _this$xhr2.status,\n          response = _this$xhr2.response;\n        if (status >= 200 && status < 300) {\n          this.callback(null, response);\n        } else {\n          this.requestDidError(event);\n        }\n      }\n      requestDidError(event) {\n        this.callback(`Error storing \"${this.file.name}\". Status: ${this.xhr.status}`);\n      }\n    }\n    let id = 0;\n    class DirectUpload {\n      constructor(file, url, delegate) {\n        this.id = ++id;\n        this.file = file;\n        this.url = url;\n        this.delegate = delegate;\n      }\n      create(callback) {\n        FileChecksum.create(this.file, (error, checksum) => {\n          if (error) {\n            callback(error);\n            return;\n          }\n          const blob = new BlobRecord(this.file, checksum, this.url);\n          notify(this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n          blob.create(error => {\n            if (error) {\n              callback(error);\n            } else {\n              const upload = new BlobUpload(blob);\n              notify(this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n              upload.create(error => {\n                if (error) {\n                  callback(error);\n                } else {\n                  callback(null, blob.toJSON());\n                }\n              });\n            }\n          });\n        });\n      }\n    }\n    function notify(object, methodName) {\n      if (object && typeof object[methodName] == \"function\") {\n        for (var _len = arguments.length, messages = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          messages[_key - 2] = arguments[_key];\n        }\n        return object[methodName](...messages);\n      }\n    }\n    class DirectUploadController {\n      constructor(input, file) {\n        this.input = input;\n        this.file = file;\n        this.directUpload = new DirectUpload(this.file, this.url, this);\n        this.dispatch(\"initialize\");\n      }\n      start(callback) {\n        const hiddenInput = document.createElement(\"input\");\n        hiddenInput.type = \"hidden\";\n        hiddenInput.name = this.input.name;\n        this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n        this.dispatch(\"start\");\n        this.directUpload.create((error, attributes) => {\n          if (error) {\n            hiddenInput.parentNode.removeChild(hiddenInput);\n            this.dispatchError(error);\n          } else {\n            hiddenInput.value = attributes.signed_id;\n          }\n          this.dispatch(\"end\");\n          callback(error);\n        });\n      }\n      uploadRequestDidProgress(event) {\n        const progress = event.loaded / event.total * 100;\n        if (progress) {\n          this.dispatch(\"progress\", {\n            progress: progress\n          });\n        }\n      }\n      get url() {\n        return this.input.getAttribute(\"data-direct-upload-url\");\n      }\n      dispatch(name) {\n        let detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        detail.file = this.file;\n        detail.id = this.directUpload.id;\n        return dispatchEvent(this.input, `direct-upload:${name}`, {\n          detail: detail\n        });\n      }\n      dispatchError(error) {\n        const event = this.dispatch(\"error\", {\n          error: error\n        });\n        if (!event.defaultPrevented) {\n          alert(error);\n        }\n      }\n      directUploadWillCreateBlobWithXHR(xhr) {\n        this.dispatch(\"before-blob-request\", {\n          xhr: xhr\n        });\n      }\n      directUploadWillStoreFileWithXHR(xhr) {\n        this.dispatch(\"before-storage-request\", {\n          xhr: xhr\n        });\n        xhr.upload.addEventListener(\"progress\", event => this.uploadRequestDidProgress(event));\n      }\n    }\n    const inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\n    class DirectUploadsController {\n      constructor(form) {\n        this.form = form;\n        this.inputs = findElements(form, inputSelector).filter(input => input.files.length);\n      }\n      start(callback) {\n        const controllers = this.createDirectUploadControllers();\n        const startNextController = () => {\n          const controller = controllers.shift();\n          if (controller) {\n            controller.start(error => {\n              if (error) {\n                callback(error);\n                this.dispatch(\"end\");\n              } else {\n                startNextController();\n              }\n            });\n          } else {\n            callback();\n            this.dispatch(\"end\");\n          }\n        };\n        this.dispatch(\"start\");\n        startNextController();\n      }\n      createDirectUploadControllers() {\n        const controllers = [];\n        this.inputs.forEach(input => {\n          toArray(input.files).forEach(file => {\n            const controller = new DirectUploadController(input, file);\n            controllers.push(controller);\n          });\n        });\n        return controllers;\n      }\n      dispatch(name) {\n        let detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return dispatchEvent(this.form, `direct-uploads:${name}`, {\n          detail: detail\n        });\n      }\n    }\n    const processingAttribute = \"data-direct-uploads-processing\";\n    const submitButtonsByForm = new WeakMap();\n    let started = false;\n    function start() {\n      if (!started) {\n        started = true;\n        document.addEventListener(\"click\", didClick, true);\n        document.addEventListener(\"submit\", didSubmitForm, true);\n        document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n      }\n    }\n    function didClick(event) {\n      const target = event.target;\n      if ((target.tagName == \"INPUT\" || target.tagName == \"BUTTON\") && target.type == \"submit\" && target.form) {\n        submitButtonsByForm.set(target.form, target);\n      }\n    }\n    function didSubmitForm(event) {\n      handleFormSubmissionEvent(event);\n    }\n    function didSubmitRemoteElement(event) {\n      if (event.target.tagName == \"FORM\") {\n        handleFormSubmissionEvent(event);\n      }\n    }\n    function handleFormSubmissionEvent(event) {\n      const form = event.target;\n      if (form.hasAttribute(processingAttribute)) {\n        event.preventDefault();\n        return;\n      }\n      const controller = new DirectUploadsController(form);\n      const inputs = controller.inputs;\n      if (inputs.length) {\n        event.preventDefault();\n        form.setAttribute(processingAttribute, \"\");\n        inputs.forEach(disable);\n        controller.start(error => {\n          form.removeAttribute(processingAttribute);\n          if (error) {\n            inputs.forEach(enable);\n          } else {\n            submitForm(form);\n          }\n        });\n      }\n    }\n    function submitForm(form) {\n      let button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n      if (button) {\n        const _button = button,\n          disabled = _button.disabled;\n        button.disabled = false;\n        button.focus();\n        button.click();\n        button.disabled = disabled;\n      } else {\n        button = document.createElement(\"input\");\n        button.type = \"submit\";\n        button.style.display = \"none\";\n        form.appendChild(button);\n        button.click();\n        form.removeChild(button);\n      }\n      submitButtonsByForm.delete(form);\n    }\n    function disable(input) {\n      input.disabled = true;\n    }\n    function enable(input) {\n      input.disabled = false;\n    }\n    function autostart() {\n      if (window.ActiveStorage) {\n        start();\n      }\n    }\n    setTimeout(autostart, 1);\n    exports.DirectUpload = DirectUpload;\n    exports.start = start;\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n  });\n})(activestorage, activestorage.exports);\nclass AttachmentUpload {\n  constructor(attachment, element) {\n    this.attachment = attachment;\n    this.element = element;\n    this.directUpload = new activestorage.exports.DirectUpload(attachment.file, this.directUploadUrl, this);\n  }\n  start() {\n    this.directUpload.create(this.directUploadDidComplete.bind(this));\n  }\n  directUploadWillStoreFileWithXHR(xhr) {\n    xhr.upload.addEventListener(\"progress\", event => {\n      const progress = event.loaded / event.total * 100;\n      this.attachment.setUploadProgress(progress);\n    });\n  }\n  directUploadDidComplete(error, attributes) {\n    if (error) {\n      throw new Error(`Direct upload failed: ${error}`);\n    }\n    this.attachment.setAttributes({\n      sgid: attributes.attachable_sgid,\n      url: this.createBlobUrl(attributes.signed_id, attributes.filename)\n    });\n  }\n  createBlobUrl(signedId, filename) {\n    return this.blobUrlTemplate.replace(\":signed_id\", signedId).replace(\":filename\", encodeURIComponent(filename));\n  }\n  get directUploadUrl() {\n    return this.element.dataset.directUploadUrl;\n  }\n  get blobUrlTemplate() {\n    return this.element.dataset.blobUrlTemplate;\n  }\n}\naddEventListener(\"trix-attachment-add\", event => {\n  const attachment = event.attachment,\n    target = event.target;\n  if (attachment.file) {\n    const upload = new AttachmentUpload(attachment, target);\n    upload.start();\n  }\n});","var sparkMd5 = {\n  exports: {}\n};\n(function (module, exports) {\n  (function (factory) {\n    {\n      module.exports = factory();\n    }\n  })(function (undefined$1) {\n    var hex_chr = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n    function md5cycle(x, k) {\n      var a = x[0],\n        b = x[1],\n        c = x[2],\n        d = x[3];\n      a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n      a = (a << 7 | a >>> 25) + b | 0;\n      d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n      d = (d << 12 | d >>> 20) + a | 0;\n      c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n      c = (c << 17 | c >>> 15) + d | 0;\n      b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n      b = (b << 22 | b >>> 10) + c | 0;\n      a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n      a = (a << 7 | a >>> 25) + b | 0;\n      d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n      d = (d << 12 | d >>> 20) + a | 0;\n      c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n      c = (c << 17 | c >>> 15) + d | 0;\n      b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n      b = (b << 22 | b >>> 10) + c | 0;\n      a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n      a = (a << 7 | a >>> 25) + b | 0;\n      d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n      d = (d << 12 | d >>> 20) + a | 0;\n      c += (d & a | ~d & b) + k[10] - 42063 | 0;\n      c = (c << 17 | c >>> 15) + d | 0;\n      b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n      b = (b << 22 | b >>> 10) + c | 0;\n      a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n      a = (a << 7 | a >>> 25) + b | 0;\n      d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n      d = (d << 12 | d >>> 20) + a | 0;\n      c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n      c = (c << 17 | c >>> 15) + d | 0;\n      b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n      b = (b << 22 | b >>> 10) + c | 0;\n      a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n      a = (a << 5 | a >>> 27) + b | 0;\n      d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n      d = (d << 9 | d >>> 23) + a | 0;\n      c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n      c = (c << 14 | c >>> 18) + d | 0;\n      b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n      b = (b << 20 | b >>> 12) + c | 0;\n      a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n      a = (a << 5 | a >>> 27) + b | 0;\n      d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n      d = (d << 9 | d >>> 23) + a | 0;\n      c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n      c = (c << 14 | c >>> 18) + d | 0;\n      b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n      b = (b << 20 | b >>> 12) + c | 0;\n      a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n      a = (a << 5 | a >>> 27) + b | 0;\n      d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n      d = (d << 9 | d >>> 23) + a | 0;\n      c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n      c = (c << 14 | c >>> 18) + d | 0;\n      b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n      b = (b << 20 | b >>> 12) + c | 0;\n      a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n      a = (a << 5 | a >>> 27) + b | 0;\n      d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n      d = (d << 9 | d >>> 23) + a | 0;\n      c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n      c = (c << 14 | c >>> 18) + d | 0;\n      b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n      b = (b << 20 | b >>> 12) + c | 0;\n      a += (b ^ c ^ d) + k[5] - 378558 | 0;\n      a = (a << 4 | a >>> 28) + b | 0;\n      d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n      d = (d << 11 | d >>> 21) + a | 0;\n      c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n      c = (c << 16 | c >>> 16) + d | 0;\n      b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n      b = (b << 23 | b >>> 9) + c | 0;\n      a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n      a = (a << 4 | a >>> 28) + b | 0;\n      d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n      d = (d << 11 | d >>> 21) + a | 0;\n      c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n      c = (c << 16 | c >>> 16) + d | 0;\n      b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n      b = (b << 23 | b >>> 9) + c | 0;\n      a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n      a = (a << 4 | a >>> 28) + b | 0;\n      d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n      d = (d << 11 | d >>> 21) + a | 0;\n      c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n      c = (c << 16 | c >>> 16) + d | 0;\n      b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n      b = (b << 23 | b >>> 9) + c | 0;\n      a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n      a = (a << 4 | a >>> 28) + b | 0;\n      d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n      d = (d << 11 | d >>> 21) + a | 0;\n      c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n      c = (c << 16 | c >>> 16) + d | 0;\n      b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n      b = (b << 23 | b >>> 9) + c | 0;\n      a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n      a = (a << 6 | a >>> 26) + b | 0;\n      d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n      d = (d << 10 | d >>> 22) + a | 0;\n      c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n      c = (c << 15 | c >>> 17) + d | 0;\n      b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n      b = (b << 21 | b >>> 11) + c | 0;\n      a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n      a = (a << 6 | a >>> 26) + b | 0;\n      d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n      d = (d << 10 | d >>> 22) + a | 0;\n      c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n      c = (c << 15 | c >>> 17) + d | 0;\n      b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n      b = (b << 21 | b >>> 11) + c | 0;\n      a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n      a = (a << 6 | a >>> 26) + b | 0;\n      d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n      d = (d << 10 | d >>> 22) + a | 0;\n      c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n      c = (c << 15 | c >>> 17) + d | 0;\n      b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n      b = (b << 21 | b >>> 11) + c | 0;\n      a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n      a = (a << 6 | a >>> 26) + b | 0;\n      d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n      d = (d << 10 | d >>> 22) + a | 0;\n      c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n      c = (c << 15 | c >>> 17) + d | 0;\n      b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n      b = (b << 21 | b >>> 11) + c | 0;\n      x[0] = a + x[0] | 0;\n      x[1] = b + x[1] | 0;\n      x[2] = c + x[2] | 0;\n      x[3] = d + x[3] | 0;\n    }\n    function md5blk(s) {\n      var md5blks = [],\n        i;\n      for (i = 0; i < 64; i += 4) {\n        md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n      }\n      return md5blks;\n    }\n    function md5blk_array(a) {\n      var md5blks = [],\n        i;\n      for (i = 0; i < 64; i += 4) {\n        md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n      }\n      return md5blks;\n    }\n    function md51(s) {\n      var n = s.length,\n        state = [1732584193, -271733879, -1732584194, 271733878],\n        i,\n        length,\n        tail,\n        tmp,\n        lo,\n        hi;\n      for (i = 64; i <= n; i += 64) {\n        md5cycle(state, md5blk(s.substring(i - 64, i)));\n      }\n      s = s.substring(i - 64);\n      length = s.length;\n      tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      for (i = 0; i < length; i += 1) {\n        tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n      }\n      tail[i >> 2] |= 128 << (i % 4 << 3);\n      if (i > 55) {\n        md5cycle(state, tail);\n        for (i = 0; i < 16; i += 1) {\n          tail[i] = 0;\n        }\n      }\n      tmp = n * 8;\n      tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n      lo = parseInt(tmp[2], 16);\n      hi = parseInt(tmp[1], 16) || 0;\n      tail[14] = lo;\n      tail[15] = hi;\n      md5cycle(state, tail);\n      return state;\n    }\n    function md51_array(a) {\n      var n = a.length,\n        state = [1732584193, -271733879, -1732584194, 271733878],\n        i,\n        length,\n        tail,\n        tmp,\n        lo,\n        hi;\n      for (i = 64; i <= n; i += 64) {\n        md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n      }\n      a = i - 64 < n ? a.subarray(i - 64) : new Uint8Array(0);\n      length = a.length;\n      tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      for (i = 0; i < length; i += 1) {\n        tail[i >> 2] |= a[i] << (i % 4 << 3);\n      }\n      tail[i >> 2] |= 128 << (i % 4 << 3);\n      if (i > 55) {\n        md5cycle(state, tail);\n        for (i = 0; i < 16; i += 1) {\n          tail[i] = 0;\n        }\n      }\n      tmp = n * 8;\n      tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n      lo = parseInt(tmp[2], 16);\n      hi = parseInt(tmp[1], 16) || 0;\n      tail[14] = lo;\n      tail[15] = hi;\n      md5cycle(state, tail);\n      return state;\n    }\n    function rhex(n) {\n      var s = \"\",\n        j;\n      for (j = 0; j < 4; j += 1) {\n        s += hex_chr[n >> j * 8 + 4 & 15] + hex_chr[n >> j * 8 & 15];\n      }\n      return s;\n    }\n    function hex(x) {\n      var i;\n      for (i = 0; i < x.length; i += 1) {\n        x[i] = rhex(x[i]);\n      }\n      return x.join(\"\");\n    }\n    if (hex(md51(\"hello\")) !== \"5d41402abc4b2a76b9719d911017c592\") ;\n    if (typeof ArrayBuffer !== \"undefined\" && !ArrayBuffer.prototype.slice) {\n      (function () {\n        function clamp(val, length) {\n          val = val | 0 || 0;\n          if (val < 0) {\n            return Math.max(val + length, 0);\n          }\n          return Math.min(val, length);\n        }\n        ArrayBuffer.prototype.slice = function (from, to) {\n          var length = this.byteLength,\n            begin = clamp(from, length),\n            end = length,\n            num,\n            target,\n            targetArray,\n            sourceArray;\n          if (to !== undefined$1) {\n            end = clamp(to, length);\n          }\n          if (begin > end) {\n            return new ArrayBuffer(0);\n          }\n          num = end - begin;\n          target = new ArrayBuffer(num);\n          targetArray = new Uint8Array(target);\n          sourceArray = new Uint8Array(this, begin, num);\n          targetArray.set(sourceArray);\n          return target;\n        };\n      })();\n    }\n    function toUtf8(str) {\n      if (/[\\u0080-\\uFFFF]/.test(str)) {\n        str = unescape(encodeURIComponent(str));\n      }\n      return str;\n    }\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n      var length = str.length,\n        buff = new ArrayBuffer(length),\n        arr = new Uint8Array(buff),\n        i;\n      for (i = 0; i < length; i += 1) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return returnUInt8Array ? arr : buff;\n    }\n    function arrayBuffer2Utf8Str(buff) {\n      return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n      var result = new Uint8Array(first.byteLength + second.byteLength);\n      result.set(new Uint8Array(first));\n      result.set(new Uint8Array(second), first.byteLength);\n      return returnUInt8Array ? result : result.buffer;\n    }\n    function hexToBinaryString(hex) {\n      var bytes = [],\n        length = hex.length,\n        x;\n      for (x = 0; x < length - 1; x += 2) {\n        bytes.push(parseInt(hex.substr(x, 2), 16));\n      }\n      return String.fromCharCode.apply(String, bytes);\n    }\n    function SparkMD5() {\n      this.reset();\n    }\n    SparkMD5.prototype.append = function (str) {\n      this.appendBinary(toUtf8(str));\n      return this;\n    };\n    SparkMD5.prototype.appendBinary = function (contents) {\n      this._buff += contents;\n      this._length += contents.length;\n      var length = this._buff.length,\n        i;\n      for (i = 64; i <= length; i += 64) {\n        md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n      }\n      this._buff = this._buff.substring(i - 64);\n      return this;\n    };\n    SparkMD5.prototype.end = function (raw) {\n      var buff = this._buff,\n        length = buff.length,\n        i,\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        ret;\n      for (i = 0; i < length; i += 1) {\n        tail[i >> 2] |= buff.charCodeAt(i) << (i % 4 << 3);\n      }\n      this._finish(tail, length);\n      ret = hex(this._hash);\n      if (raw) {\n        ret = hexToBinaryString(ret);\n      }\n      this.reset();\n      return ret;\n    };\n    SparkMD5.prototype.reset = function () {\n      this._buff = \"\";\n      this._length = 0;\n      this._hash = [1732584193, -271733879, -1732584194, 271733878];\n      return this;\n    };\n    SparkMD5.prototype.getState = function () {\n      return {\n        buff: this._buff,\n        length: this._length,\n        hash: this._hash.slice()\n      };\n    };\n    SparkMD5.prototype.setState = function (state) {\n      this._buff = state.buff;\n      this._length = state.length;\n      this._hash = state.hash;\n      return this;\n    };\n    SparkMD5.prototype.destroy = function () {\n      delete this._hash;\n      delete this._buff;\n      delete this._length;\n    };\n    SparkMD5.prototype._finish = function (tail, length) {\n      var i = length,\n        tmp,\n        lo,\n        hi;\n      tail[i >> 2] |= 128 << (i % 4 << 3);\n      if (i > 55) {\n        md5cycle(this._hash, tail);\n        for (i = 0; i < 16; i += 1) {\n          tail[i] = 0;\n        }\n      }\n      tmp = this._length * 8;\n      tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n      lo = parseInt(tmp[2], 16);\n      hi = parseInt(tmp[1], 16) || 0;\n      tail[14] = lo;\n      tail[15] = hi;\n      md5cycle(this._hash, tail);\n    };\n    SparkMD5.hash = function (str, raw) {\n      return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n    SparkMD5.hashBinary = function (content, raw) {\n      var hash = md51(content),\n        ret = hex(hash);\n      return raw ? hexToBinaryString(ret) : ret;\n    };\n    SparkMD5.ArrayBuffer = function () {\n      this.reset();\n    };\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n      var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n        length = buff.length,\n        i;\n      this._length += arr.byteLength;\n      for (i = 64; i <= length; i += 64) {\n        md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n      }\n      this._buff = i - 64 < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n      return this;\n    };\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n      var buff = this._buff,\n        length = buff.length,\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n        i,\n        ret;\n      for (i = 0; i < length; i += 1) {\n        tail[i >> 2] |= buff[i] << (i % 4 << 3);\n      }\n      this._finish(tail, length);\n      ret = hex(this._hash);\n      if (raw) {\n        ret = hexToBinaryString(ret);\n      }\n      this.reset();\n      return ret;\n    };\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n      this._buff = new Uint8Array(0);\n      this._length = 0;\n      this._hash = [1732584193, -271733879, -1732584194, 271733878];\n      return this;\n    };\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n      var state = SparkMD5.prototype.getState.call(this);\n      state.buff = arrayBuffer2Utf8Str(state.buff);\n      return state;\n    };\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n      state.buff = utf8Str2ArrayBuffer(state.buff, true);\n      return SparkMD5.prototype.setState.call(this, state);\n    };\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n      var hash = md51_array(new Uint8Array(arr)),\n        ret = hex(hash);\n      return raw ? hexToBinaryString(ret) : ret;\n    };\n    return SparkMD5;\n  });\n})(sparkMd5);\nvar SparkMD5 = sparkMd5.exports;\nconst fileSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\nclass FileChecksum {\n  static create(file, callback) {\n    const instance = new FileChecksum(file);\n    instance.create(callback);\n  }\n  constructor(file) {\n    this.file = file;\n    this.chunkSize = 2097152;\n    this.chunkCount = Math.ceil(this.file.size / this.chunkSize);\n    this.chunkIndex = 0;\n  }\n  create(callback) {\n    this.callback = callback;\n    this.md5Buffer = new SparkMD5.ArrayBuffer();\n    this.fileReader = new FileReader();\n    this.fileReader.addEventListener(\"load\", event => this.fileReaderDidLoad(event));\n    this.fileReader.addEventListener(\"error\", event => this.fileReaderDidError(event));\n    this.readNextChunk();\n  }\n  fileReaderDidLoad(event) {\n    this.md5Buffer.append(event.target.result);\n    if (!this.readNextChunk()) {\n      const binaryDigest = this.md5Buffer.end(true);\n      const base64digest = btoa(binaryDigest);\n      this.callback(null, base64digest);\n    }\n  }\n  fileReaderDidError(event) {\n    this.callback(`Error reading ${this.file.name}`);\n  }\n  readNextChunk() {\n    if (this.chunkIndex < this.chunkCount || this.chunkIndex == 0 && this.chunkCount == 0) {\n      const start = this.chunkIndex * this.chunkSize;\n      const end = Math.min(start + this.chunkSize, this.file.size);\n      const bytes = fileSlice.call(this.file, start, end);\n      this.fileReader.readAsArrayBuffer(bytes);\n      this.chunkIndex++;\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\nfunction getMetaValue(name) {\n  const element = findElement(document.head, `meta[name=\"${name}\"]`);\n  if (element) {\n    return element.getAttribute(\"content\");\n  }\n}\nfunction findElements(root, selector) {\n  if (typeof root == \"string\") {\n    selector = root;\n    root = document;\n  }\n  const elements = root.querySelectorAll(selector);\n  return toArray(elements);\n}\nfunction findElement(root, selector) {\n  if (typeof root == \"string\") {\n    selector = root;\n    root = document;\n  }\n  return root.querySelector(selector);\n}\nfunction dispatchEvent(element, type) {\n  let eventInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const disabled = element.disabled;\n  const bubbles = eventInit.bubbles,\n    cancelable = eventInit.cancelable,\n    detail = eventInit.detail;\n  const event = document.createEvent(\"Event\");\n  event.initEvent(type, bubbles || true, cancelable || true);\n  event.detail = detail || {};\n  try {\n    element.disabled = false;\n    element.dispatchEvent(event);\n  } finally {\n    element.disabled = disabled;\n  }\n  return event;\n}\nfunction toArray(value) {\n  if (Array.isArray(value)) {\n    return value;\n  } else if (Array.from) {\n    return Array.from(value);\n  } else {\n    return [].slice.call(value);\n  }\n}\nclass BlobRecord {\n  constructor(file, checksum, url) {\n    this.file = file;\n    this.attributes = {\n      filename: file.name,\n      content_type: file.type || \"application/octet-stream\",\n      byte_size: file.size,\n      checksum: checksum\n    };\n    this.xhr = new XMLHttpRequest();\n    this.xhr.open(\"POST\", url, true);\n    this.xhr.responseType = \"json\";\n    this.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    this.xhr.setRequestHeader(\"Accept\", \"application/json\");\n    this.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n    const csrfToken = getMetaValue(\"csrf-token\");\n    if (csrfToken != undefined) {\n      this.xhr.setRequestHeader(\"X-CSRF-Token\", csrfToken);\n    }\n    this.xhr.addEventListener(\"load\", event => this.requestDidLoad(event));\n    this.xhr.addEventListener(\"error\", event => this.requestDidError(event));\n  }\n  get status() {\n    return this.xhr.status;\n  }\n  get response() {\n    const _this$xhr = this.xhr,\n      responseType = _this$xhr.responseType,\n      response = _this$xhr.response;\n    if (responseType == \"json\") {\n      return response;\n    } else {\n      return JSON.parse(response);\n    }\n  }\n  create(callback) {\n    this.callback = callback;\n    this.xhr.send(JSON.stringify({\n      blob: this.attributes\n    }));\n  }\n  requestDidLoad(event) {\n    if (this.status >= 200 && this.status < 300) {\n      const response = this.response;\n      const direct_upload = response.direct_upload;\n      delete response.direct_upload;\n      this.attributes = response;\n      this.directUploadData = direct_upload;\n      this.callback(null, this.toJSON());\n    } else {\n      this.requestDidError(event);\n    }\n  }\n  requestDidError(event) {\n    this.callback(`Error creating Blob for \"${this.file.name}\". Status: ${this.status}`);\n  }\n  toJSON() {\n    const result = {};\n    for (const key in this.attributes) {\n      result[key] = this.attributes[key];\n    }\n    return result;\n  }\n}\nclass BlobUpload {\n  constructor(blob) {\n    this.blob = blob;\n    this.file = blob.file;\n    const _blob$directUploadDat = blob.directUploadData,\n      url = _blob$directUploadDat.url,\n      headers = _blob$directUploadDat.headers;\n    this.xhr = new XMLHttpRequest();\n    this.xhr.open(\"PUT\", url, true);\n    this.xhr.responseType = \"text\";\n    for (const key in headers) {\n      this.xhr.setRequestHeader(key, headers[key]);\n    }\n    this.xhr.addEventListener(\"load\", event => this.requestDidLoad(event));\n    this.xhr.addEventListener(\"error\", event => this.requestDidError(event));\n  }\n  create(callback) {\n    this.callback = callback;\n    this.xhr.send(this.file.slice());\n  }\n  requestDidLoad(event) {\n    const _this$xhr2 = this.xhr,\n      status = _this$xhr2.status,\n      response = _this$xhr2.response;\n    if (status >= 200 && status < 300) {\n      this.callback(null, response);\n    } else {\n      this.requestDidError(event);\n    }\n  }\n  requestDidError(event) {\n    this.callback(`Error storing \"${this.file.name}\". Status: ${this.xhr.status}`);\n  }\n}\nlet id = 0;\nclass DirectUpload {\n  constructor(file, url, delegate) {\n    this.id = ++id;\n    this.file = file;\n    this.url = url;\n    this.delegate = delegate;\n  }\n  create(callback) {\n    FileChecksum.create(this.file, (error, checksum) => {\n      if (error) {\n        callback(error);\n        return;\n      }\n      const blob = new BlobRecord(this.file, checksum, this.url);\n      notify(this.delegate, \"directUploadWillCreateBlobWithXHR\", blob.xhr);\n      blob.create(error => {\n        if (error) {\n          callback(error);\n        } else {\n          const upload = new BlobUpload(blob);\n          notify(this.delegate, \"directUploadWillStoreFileWithXHR\", upload.xhr);\n          upload.create(error => {\n            if (error) {\n              callback(error);\n            } else {\n              callback(null, blob.toJSON());\n            }\n          });\n        }\n      });\n    });\n  }\n}\nfunction notify(object, methodName) {\n  if (object && typeof object[methodName] == \"function\") {\n    for (var _len = arguments.length, messages = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      messages[_key - 2] = arguments[_key];\n    }\n    return object[methodName](...messages);\n  }\n}\nclass DirectUploadController {\n  constructor(input, file) {\n    this.input = input;\n    this.file = file;\n    this.directUpload = new DirectUpload(this.file, this.url, this);\n    this.dispatch(\"initialize\");\n  }\n  start(callback) {\n    const hiddenInput = document.createElement(\"input\");\n    hiddenInput.type = \"hidden\";\n    hiddenInput.name = this.input.name;\n    this.input.insertAdjacentElement(\"beforebegin\", hiddenInput);\n    this.dispatch(\"start\");\n    this.directUpload.create((error, attributes) => {\n      if (error) {\n        hiddenInput.parentNode.removeChild(hiddenInput);\n        this.dispatchError(error);\n      } else {\n        hiddenInput.value = attributes.signed_id;\n      }\n      this.dispatch(\"end\");\n      callback(error);\n    });\n  }\n  uploadRequestDidProgress(event) {\n    const progress = event.loaded / event.total * 100;\n    if (progress) {\n      this.dispatch(\"progress\", {\n        progress: progress\n      });\n    }\n  }\n  get url() {\n    return this.input.getAttribute(\"data-direct-upload-url\");\n  }\n  dispatch(name) {\n    let detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    detail.file = this.file;\n    detail.id = this.directUpload.id;\n    return dispatchEvent(this.input, `direct-upload:${name}`, {\n      detail: detail\n    });\n  }\n  dispatchError(error) {\n    const event = this.dispatch(\"error\", {\n      error: error\n    });\n    if (!event.defaultPrevented) {\n      alert(error);\n    }\n  }\n  directUploadWillCreateBlobWithXHR(xhr) {\n    this.dispatch(\"before-blob-request\", {\n      xhr: xhr\n    });\n  }\n  directUploadWillStoreFileWithXHR(xhr) {\n    this.dispatch(\"before-storage-request\", {\n      xhr: xhr\n    });\n    xhr.upload.addEventListener(\"progress\", event => this.uploadRequestDidProgress(event));\n  }\n}\nconst inputSelector = \"input[type=file][data-direct-upload-url]:not([disabled])\";\nclass DirectUploadsController {\n  constructor(form) {\n    this.form = form;\n    this.inputs = findElements(form, inputSelector).filter(input => input.files.length);\n  }\n  start(callback) {\n    const controllers = this.createDirectUploadControllers();\n    const startNextController = () => {\n      const controller = controllers.shift();\n      if (controller) {\n        controller.start(error => {\n          if (error) {\n            callback(error);\n            this.dispatch(\"end\");\n          } else {\n            startNextController();\n          }\n        });\n      } else {\n        callback();\n        this.dispatch(\"end\");\n      }\n    };\n    this.dispatch(\"start\");\n    startNextController();\n  }\n  createDirectUploadControllers() {\n    const controllers = [];\n    this.inputs.forEach(input => {\n      toArray(input.files).forEach(file => {\n        const controller = new DirectUploadController(input, file);\n        controllers.push(controller);\n      });\n    });\n    return controllers;\n  }\n  dispatch(name) {\n    let detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return dispatchEvent(this.form, `direct-uploads:${name}`, {\n      detail: detail\n    });\n  }\n}\nconst processingAttribute = \"data-direct-uploads-processing\";\nconst submitButtonsByForm = new WeakMap();\nlet started = false;\nfunction start() {\n  if (!started) {\n    started = true;\n    document.addEventListener(\"click\", didClick, true);\n    document.addEventListener(\"submit\", didSubmitForm, true);\n    document.addEventListener(\"ajax:before\", didSubmitRemoteElement);\n  }\n}\nfunction didClick(event) {\n  const target = event.target;\n  if ((target.tagName == \"INPUT\" || target.tagName == \"BUTTON\") && target.type == \"submit\" && target.form) {\n    submitButtonsByForm.set(target.form, target);\n  }\n}\nfunction didSubmitForm(event) {\n  handleFormSubmissionEvent(event);\n}\nfunction didSubmitRemoteElement(event) {\n  if (event.target.tagName == \"FORM\") {\n    handleFormSubmissionEvent(event);\n  }\n}\nfunction handleFormSubmissionEvent(event) {\n  const form = event.target;\n  if (form.hasAttribute(processingAttribute)) {\n    event.preventDefault();\n    return;\n  }\n  const controller = new DirectUploadsController(form);\n  const inputs = controller.inputs;\n  if (inputs.length) {\n    event.preventDefault();\n    form.setAttribute(processingAttribute, \"\");\n    inputs.forEach(disable);\n    controller.start(error => {\n      form.removeAttribute(processingAttribute);\n      if (error) {\n        inputs.forEach(enable);\n      } else {\n        submitForm(form);\n      }\n    });\n  }\n}\nfunction submitForm(form) {\n  let button = submitButtonsByForm.get(form) || findElement(form, \"input[type=submit], button[type=submit]\");\n  if (button) {\n    const _button = button,\n      disabled = _button.disabled;\n    button.disabled = false;\n    button.focus();\n    button.click();\n    button.disabled = disabled;\n  } else {\n    button = document.createElement(\"input\");\n    button.type = \"submit\";\n    button.style.display = \"none\";\n    form.appendChild(button);\n    button.click();\n    form.removeChild(button);\n  }\n  submitButtonsByForm.delete(form);\n}\nfunction disable(input) {\n  input.disabled = true;\n}\nfunction enable(input) {\n  input.disabled = false;\n}\nfunction autostart() {\n  if (window.ActiveStorage) {\n    start();\n  }\n}\nsetTimeout(autostart, 1);\nexport { DirectUpload, start };","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","function _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/*\nTrix 2.0.4\nCopyright © 2022 37signals, LLC\n */\nconst t = {\n    preview: {\n      presentation: \"gallery\",\n      caption: {\n        name: !0,\n        size: !0\n      }\n    },\n    file: {\n      caption: {\n        size: !0\n      }\n    }\n  },\n  e = {\n    default: {\n      tagName: \"div\",\n      parse: !1\n    },\n    quote: {\n      tagName: \"blockquote\",\n      nestable: !0\n    },\n    heading1: {\n      tagName: \"h1\",\n      terminal: !0,\n      breakOnReturn: !0,\n      group: !1\n    },\n    code: {\n      tagName: \"pre\",\n      terminal: !0,\n      text: {\n        plaintext: !0\n      }\n    },\n    bulletList: {\n      tagName: \"ul\",\n      parse: !1\n    },\n    bullet: {\n      tagName: \"li\",\n      listAttribute: \"bulletList\",\n      group: !1,\n      nestable: !0,\n      test(t) {\n        return i(t.parentNode) === e[this.listAttribute].tagName;\n      }\n    },\n    numberList: {\n      tagName: \"ol\",\n      parse: !1\n    },\n    number: {\n      tagName: \"li\",\n      listAttribute: \"numberList\",\n      group: !1,\n      nestable: !0,\n      test(t) {\n        return i(t.parentNode) === e[this.listAttribute].tagName;\n      }\n    },\n    attachmentGallery: {\n      tagName: \"div\",\n      exclusive: !0,\n      terminal: !0,\n      parse: !1,\n      group: !1\n    }\n  },\n  i = t => {\n    var e;\n    return null == t || null === (e = t.tagName) || void 0 === e ? void 0 : e.toLowerCase();\n  },\n  n = navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i),\n  r = n && parseInt(n[1]);\nvar o = {\n    composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n    recentAndroid: r && r > 12,\n    samsungAndroid: r && navigator.userAgent.match(/Android.*SM-/),\n    forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n    supportsInputEvents: \"undefined\" != typeof InputEvent && [\"data\", \"getTargetRanges\", \"inputType\"].every(t => t in InputEvent.prototype)\n  },\n  s = {\n    attachFiles: \"Attach Files\",\n    bold: \"Bold\",\n    bullets: \"Bullets\",\n    byte: \"Byte\",\n    bytes: \"Bytes\",\n    captionPlaceholder: \"Add a caption…\",\n    code: \"Code\",\n    heading1: \"Heading\",\n    indent: \"Increase Level\",\n    italic: \"Italic\",\n    link: \"Link\",\n    numbers: \"Numbers\",\n    outdent: \"Decrease Level\",\n    quote: \"Quote\",\n    redo: \"Redo\",\n    remove: \"Remove\",\n    strike: \"Strikethrough\",\n    undo: \"Undo\",\n    unlink: \"Unlink\",\n    url: \"URL\",\n    urlPlaceholder: \"Enter a URL…\",\n    GB: \"GB\",\n    KB: \"KB\",\n    MB: \"MB\",\n    PB: \"PB\",\n    TB: \"TB\"\n  };\nconst a = [s.bytes, s.KB, s.MB, s.GB, s.TB, s.PB];\nvar l = {\n  prefix: \"IEC\",\n  precision: 2,\n  formatter(t) {\n    switch (t) {\n      case 0:\n        return \"0 \".concat(s.bytes);\n      case 1:\n        return \"1 \".concat(s.byte);\n      default:\n        let e;\n        \"SI\" === this.prefix ? e = 1e3 : \"IEC\" === this.prefix && (e = 1024);\n        const i = Math.floor(Math.log(t) / Math.log(e)),\n          n = (t / Math.pow(e, i)).toFixed(this.precision).replace(/0*$/, \"\").replace(/\\.$/, \"\");\n        return \"\".concat(n, \" \").concat(a[i]);\n    }\n  }\n};\nconst c = function (t) {\n    for (const e in t) {\n      const i = t[e];\n      this[e] = i;\n    }\n    return this;\n  },\n  h = document.documentElement,\n  u = h.matches,\n  d = function (t) {\n    let _ref = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref.onElement,\n      i = _ref.matchingSelector,\n      n = _ref.withCallback,\n      r = _ref.inPhase,\n      o = _ref.preventDefault,\n      s = _ref.times;\n    const a = e || h,\n      l = i,\n      c = \"capturing\" === r,\n      u = function (t) {\n        null != s && 0 == --s && u.destroy();\n        const e = p(t.target, {\n          matchingSelector: l\n        });\n        null != e && (null == n || n.call(e, t, e), o && t.preventDefault());\n      };\n    return u.destroy = () => a.removeEventListener(t, u, c), a.addEventListener(t, u, c), u;\n  },\n  g = function (t) {\n    let _ref2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref2.onElement,\n      i = _ref2.bubbles,\n      n = _ref2.cancelable,\n      r = _ref2.attributes;\n    const o = null != e ? e : h;\n    i = !1 !== i, n = !1 !== n;\n    const s = document.createEvent(\"Events\");\n    return s.initEvent(t, i, n), null != r && c.call(s, r), o.dispatchEvent(s);\n  },\n  m = function (t, e) {\n    if (1 === (null == t ? void 0 : t.nodeType)) return u.call(t, e);\n  },\n  p = function (t) {\n    let _ref3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref3.matchingSelector,\n      i = _ref3.untilNode;\n    for (; t && t.nodeType !== Node.ELEMENT_NODE;) t = t.parentNode;\n    if (null != t) {\n      if (null == e) return t;\n      if (t.closest && null == i) return t.closest(e);\n      for (; t && t !== i;) {\n        if (m(t, e)) return t;\n        t = t.parentNode;\n      }\n    }\n  },\n  f = t => document.activeElement !== t && b(t, document.activeElement),\n  b = function (t, e) {\n    if (t && e) for (; e;) {\n      if (e === t) return !0;\n      e = e.parentNode;\n    }\n  },\n  v = function (t) {\n    var e;\n    if (null === (e = t) || void 0 === e || !e.parentNode) return;\n    let i = 0;\n    for (t = t.previousSibling; t;) i++, t = t.previousSibling;\n    return i;\n  },\n  A = t => {\n    var e;\n    return null == t || null === (e = t.parentNode) || void 0 === e ? void 0 : e.removeChild(t);\n  },\n  x = function (t) {\n    let _ref4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref4.onlyNodesOfType,\n      i = _ref4.usingFilter,\n      n = _ref4.expandEntityReferences;\n    const r = (() => {\n      switch (e) {\n        case \"element\":\n          return NodeFilter.SHOW_ELEMENT;\n        case \"text\":\n          return NodeFilter.SHOW_TEXT;\n        case \"comment\":\n          return NodeFilter.SHOW_COMMENT;\n        default:\n          return NodeFilter.SHOW_ALL;\n      }\n    })();\n    return document.createTreeWalker(t, r, null != i ? i : null, !0 === n);\n  },\n  y = t => {\n    var e;\n    return null == t || null === (e = t.tagName) || void 0 === e ? void 0 : e.toLowerCase();\n  },\n  C = function (t) {\n    let e,\n      i,\n      n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    \"object\" == typeof t ? (n = t, t = n.tagName) : n = {\n      attributes: n\n    };\n    const r = document.createElement(t);\n    if (null != n.editable && (null == n.attributes && (n.attributes = {}), n.attributes.contenteditable = n.editable), n.attributes) for (e in n.attributes) i = n.attributes[e], r.setAttribute(e, i);\n    if (n.style) for (e in n.style) i = n.style[e], r.style[e] = i;\n    if (n.data) for (e in n.data) i = n.data[e], r.dataset[e] = i;\n    return n.className && n.className.split(\" \").forEach(t => {\n      r.classList.add(t);\n    }), n.textContent && (r.textContent = n.textContent), n.childNodes && [].concat(n.childNodes).forEach(t => {\n      r.appendChild(t);\n    }), r;\n  };\nlet R;\nconst E = function () {\n    if (null != R) return R;\n    R = [];\n    for (const t in e) {\n      const i = e[t];\n      i.tagName && R.push(i.tagName);\n    }\n    return R;\n  },\n  S = t => D(null == t ? void 0 : t.firstChild),\n  k = function (t) {\n    return E().includes(y(t)) && !E().includes(y(t.firstChild));\n  },\n  L = function (t) {\n    let _ref5 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n        strict: !0\n      },\n      e = _ref5.strict;\n    return e ? D(t) : D(t) || !D(t.firstChild) && k(t);\n  },\n  D = t => w(t) && \"block\" === (null == t ? void 0 : t.data),\n  w = t => (null == t ? void 0 : t.nodeType) === Node.COMMENT_NODE,\n  T = function (t) {\n    let _ref6 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref6.name;\n    if (t) return I(t) ? \"\\ufeff\" === t.data ? !e || t.parentNode.dataset.trixCursorTarget === e : void 0 : T(t.firstChild);\n  },\n  F = t => m(t, \"[data-trix-attachment]\"),\n  B = t => I(t) && \"\" === (null == t ? void 0 : t.data),\n  I = t => (null == t ? void 0 : t.nodeType) === Node.TEXT_NODE,\n  P = {\n    level2Enabled: !0,\n    getLevel() {\n      return this.level2Enabled && o.supportsInputEvents ? 2 : 0;\n    },\n    pickFiles(t) {\n      const e = C(\"input\", {\n        type: \"file\",\n        multiple: !0,\n        hidden: !0,\n        id: this.fileInputId\n      });\n      e.addEventListener(\"change\", () => {\n        t(e.files), A(e);\n      }), A(document.getElementById(this.fileInputId)), document.body.appendChild(e), e.click();\n    }\n  };\nvar N = {\n    removeBlankTableCells: !1,\n    tableCellSeparator: \" | \",\n    tableRowSeparator: \"\\n\"\n  },\n  O = {\n    bold: {\n      tagName: \"strong\",\n      inheritable: !0,\n      parser(t) {\n        const e = window.getComputedStyle(t);\n        return \"bold\" === e.fontWeight || e.fontWeight >= 600;\n      }\n    },\n    italic: {\n      tagName: \"em\",\n      inheritable: !0,\n      parser: t => \"italic\" === window.getComputedStyle(t).fontStyle\n    },\n    href: {\n      groupTagName: \"a\",\n      parser(t) {\n        const e = \"a:not(\".concat(\"[data-trix-attachment]\", \")\"),\n          i = t.closest(e);\n        if (i) return i.getAttribute(\"href\");\n      }\n    },\n    strike: {\n      tagName: \"del\",\n      inheritable: !0\n    },\n    frozen: {\n      style: {\n        backgroundColor: \"highlight\"\n      }\n    }\n  },\n  M = {\n    getDefaultHTML: () => '<div class=\"trix-button-row\">\\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"'.concat(s.bold, '\" tabindex=\"-1\">').concat(s.bold, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"').concat(s.italic, '\" tabindex=\"-1\">').concat(s.italic, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"').concat(s.strike, '\" tabindex=\"-1\">').concat(s.strike, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"').concat(s.link, '\" tabindex=\"-1\">').concat(s.link, '</button>\\n      </span>\\n\\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"').concat(s.heading1, '\" tabindex=\"-1\">').concat(s.heading1, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"').concat(s.quote, '\" tabindex=\"-1\">').concat(s.quote, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"').concat(s.code, '\" tabindex=\"-1\">').concat(s.code, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"').concat(s.bullets, '\" tabindex=\"-1\">').concat(s.bullets, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"').concat(s.numbers, '\" tabindex=\"-1\">').concat(s.numbers, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"').concat(s.outdent, '\" tabindex=\"-1\">').concat(s.outdent, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"').concat(s.indent, '\" tabindex=\"-1\">').concat(s.indent, '</button>\\n      </span>\\n\\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"').concat(s.attachFiles, '\" tabindex=\"-1\">').concat(s.attachFiles, '</button>\\n      </span>\\n\\n      <span class=\"trix-button-group-spacer\"></span>\\n\\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"').concat(s.undo, '\" tabindex=\"-1\">').concat(s.undo, '</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"').concat(s.redo, '\" tabindex=\"-1\">').concat(s.redo, '</button>\\n      </span>\\n    </div>\\n\\n    <div class=\"trix-dialogs\" data-trix-dialogs>\\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\\n        <div class=\"trix-dialog__link-fields\">\\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"').concat(s.urlPlaceholder, '\" aria-label=\"').concat(s.url, '\" required data-trix-input>\\n          <div class=\"trix-button-group\">\\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"').concat(s.link, '\" data-trix-method=\"setAttribute\">\\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"').concat(s.unlink, '\" data-trix-method=\"removeAttribute\">\\n          </div>\\n        </div>\\n      </div>\\n    </div>')\n  };\nconst j = {\n  interval: 5e3\n};\nvar W = Object.freeze({\n  __proto__: null,\n  attachments: t,\n  blockAttributes: e,\n  browser: o,\n  css: {\n    attachment: \"attachment\",\n    attachmentCaption: \"attachment__caption\",\n    attachmentCaptionEditor: \"attachment__caption-editor\",\n    attachmentMetadata: \"attachment__metadata\",\n    attachmentMetadataContainer: \"attachment__metadata-container\",\n    attachmentName: \"attachment__name\",\n    attachmentProgress: \"attachment__progress\",\n    attachmentSize: \"attachment__size\",\n    attachmentToolbar: \"attachment__toolbar\",\n    attachmentGallery: \"attachment-gallery\"\n  },\n  fileSize: l,\n  input: P,\n  keyNames: {\n    8: \"backspace\",\n    9: \"tab\",\n    13: \"return\",\n    27: \"escape\",\n    37: \"left\",\n    39: \"right\",\n    46: \"delete\",\n    68: \"d\",\n    72: \"h\",\n    79: \"o\"\n  },\n  lang: s,\n  parser: N,\n  textAttributes: O,\n  toolbar: M,\n  undo: j\n});\nclass U {\n  static proxyMethod(t) {\n    const _q = q(t),\n      e = _q.name,\n      i = _q.toMethod,\n      n = _q.toProperty,\n      r = _q.optional;\n    this.prototype[e] = function () {\n      let t, o;\n      var s, a;\n      i ? o = r ? null === (s = this[i]) || void 0 === s ? void 0 : s.call(this) : this[i]() : n && (o = this[n]);\n      return r ? (t = null === (a = o) || void 0 === a ? void 0 : a[e], t ? V.call(t, o, arguments) : void 0) : (t = o[e], V.call(t, o, arguments));\n    };\n  }\n}\nconst q = function (t) {\n    const e = t.match(z);\n    if (!e) throw new Error(\"can't parse @proxyMethod expression: \".concat(t));\n    const i = {\n      name: e[4]\n    };\n    return null != e[2] ? i.toMethod = e[1] : i.toProperty = e[1], null != e[3] && (i.optional = !0), i;\n  },\n  V = Function.prototype.apply,\n  z = new RegExp(\"^(.+?)(\\\\(\\\\))?(\\\\?)?\\\\.(.+?)$\");\nvar _, H, J;\nclass K extends U {\n  static box() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\";\n    return t instanceof this ? t : this.fromUCS2String(null == t ? void 0 : t.toString());\n  }\n  static fromUCS2String(t) {\n    return new this(t, Y(t));\n  }\n  static fromCodepoints(t) {\n    return new this(Q(t), t);\n  }\n  constructor(t, e) {\n    super(...arguments), this.ucs2String = t, this.codepoints = e, this.length = this.codepoints.length, this.ucs2Length = this.ucs2String.length;\n  }\n  offsetToUCS2Offset(t) {\n    return Q(this.codepoints.slice(0, Math.max(0, t))).length;\n  }\n  offsetFromUCS2Offset(t) {\n    return Y(this.ucs2String.slice(0, Math.max(0, t))).length;\n  }\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments));\n  }\n  charAt(t) {\n    return this.slice(t, t + 1);\n  }\n  isEqualTo(t) {\n    return this.constructor.box(t).ucs2String === this.ucs2String;\n  }\n  toJSON() {\n    return this.ucs2String;\n  }\n  getCacheKey() {\n    return this.ucs2String;\n  }\n  toString() {\n    return this.ucs2String;\n  }\n}\nconst G = 1 === (null === (_ = Array.from) || void 0 === _ ? void 0 : _.call(Array, \"👼\").length),\n  $ = null != (null === (H = \" \".codePointAt) || void 0 === H ? void 0 : H.call(\" \", 0)),\n  X = \" 👼\" === (null === (J = String.fromCodePoint) || void 0 === J ? void 0 : J.call(String, 32, 128124));\nlet Y, Q;\nY = G && $ ? t => Array.from(t).map(t => t.codePointAt(0)) : function (t) {\n  const e = [];\n  let i = 0;\n  const n = t.length;\n  for (; i < n;) {\n    let r = t.charCodeAt(i++);\n    if (55296 <= r && r <= 56319 && i < n) {\n      const e = t.charCodeAt(i++);\n      56320 == (64512 & e) ? r = ((1023 & r) << 10) + (1023 & e) + 65536 : i--;\n    }\n    e.push(r);\n  }\n  return e;\n}, Q = X ? t => String.fromCodePoint(...Array.from(t || [])) : function (t) {\n  return (() => {\n    const e = [];\n    return Array.from(t).forEach(t => {\n      let i = \"\";\n      t > 65535 && (t -= 65536, i += String.fromCharCode(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e.push(i + String.fromCharCode(t));\n    }), e;\n  })().join(\"\");\n};\nlet Z = 0;\nclass tt extends U {\n  static fromJSONString(t) {\n    return this.fromJSON(JSON.parse(t));\n  }\n  constructor() {\n    super(...arguments), this.id = ++Z;\n  }\n  hasSameConstructorAs(t) {\n    return this.constructor === (null == t ? void 0 : t.constructor);\n  }\n  isEqualTo(t) {\n    return this === t;\n  }\n  inspect() {\n    const t = [],\n      e = this.contentsForInspection() || {};\n    for (const i in e) {\n      const n = e[i];\n      t.push(\"\".concat(i, \"=\").concat(n));\n    }\n    return \"#<\".concat(this.constructor.name, \":\").concat(this.id).concat(t.length ? \" \".concat(t.join(\", \")) : \"\", \">\");\n  }\n  contentsForInspection() {}\n  toJSONString() {\n    return JSON.stringify(this);\n  }\n  toUTF16String() {\n    return K.box(this);\n  }\n  getCacheKey() {\n    return this.id.toString();\n  }\n}\nconst et = function () {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n      e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n    if (t.length !== e.length) return !1;\n    for (let i = 0; i < t.length; i++) {\n      if (t[i] !== e[i]) return !1;\n    }\n    return !0;\n  },\n  it = function (t) {\n    const e = t.slice(0);\n    for (var i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) n[r - 1] = arguments[r];\n    return e.splice(...n), e;\n  },\n  nt = /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/,\n  rt = function () {\n    const t = C(\"input\", {\n        dir: \"auto\",\n        name: \"x\",\n        dirName: \"x.dir\"\n      }),\n      e = C(\"form\");\n    e.appendChild(t);\n    const i = function () {\n        try {\n          return new FormData(e).has(t.dirName);\n        } catch (t) {\n          return !1;\n        }\n      }(),\n      n = function () {\n        try {\n          return t.matches(\":dir(ltr),:dir(rtl)\");\n        } catch (t) {\n          return !1;\n        }\n      }();\n    return i ? function (i) {\n      return t.value = i, new FormData(e).get(t.dirName);\n    } : n ? function (e) {\n      return t.value = e, t.matches(\":dir(rtl)\") ? \"rtl\" : \"ltr\";\n    } : function (t) {\n      const e = t.trim().charAt(0);\n      return nt.test(e) ? \"rtl\" : \"ltr\";\n    };\n  }();\nlet ot = null,\n  st = null,\n  at = null,\n  lt = null;\nconst ct = () => (ot || (ot = gt().concat(ut())), ot),\n  ht = t => e[t],\n  ut = () => (st || (st = Object.keys(e)), st),\n  dt = t => O[t],\n  gt = () => (at || (at = Object.keys(O)), at),\n  mt = function (t, e) {\n    pt(t).textContent = e.replace(/%t/g, t);\n  },\n  pt = function (t) {\n    const e = document.createElement(\"style\");\n    e.setAttribute(\"type\", \"text/css\"), e.setAttribute(\"data-tag-name\", t.toLowerCase());\n    const i = ft();\n    return i && e.setAttribute(\"nonce\", i), document.head.insertBefore(e, document.head.firstChild), e;\n  },\n  ft = function () {\n    const t = bt(\"trix-csp-nonce\") || bt(\"csp-nonce\");\n    if (t) return t.getAttribute(\"content\");\n  },\n  bt = t => document.head.querySelector(\"meta[name=\".concat(t, \"]\")),\n  vt = {\n    \"application/x-trix-feature-detection\": \"test\"\n  },\n  At = function (t) {\n    const e = t.getData(\"text/plain\"),\n      i = t.getData(\"text/html\");\n    if (!e || !i) return null == e ? void 0 : e.length;\n    {\n      const _DOMParser$parseFromS = new DOMParser().parseFromString(i, \"text/html\"),\n        t = _DOMParser$parseFromS.body;\n      if (t.textContent === e) return !t.querySelector(\"*\");\n    }\n  },\n  xt = /Mac|^iP/.test(navigator.platform) ? t => t.metaKey : t => t.ctrlKey,\n  yt = t => setTimeout(t, 1),\n  Ct = function () {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    const e = {};\n    for (const i in t) {\n      const n = t[i];\n      e[i] = n;\n    }\n    return e;\n  },\n  Rt = function () {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n      e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    if (Object.keys(t).length !== Object.keys(e).length) return !1;\n    for (const i in t) {\n      if (t[i] !== e[i]) return !1;\n    }\n    return !0;\n  },\n  Et = function (t) {\n    if (null != t) return Array.isArray(t) || (t = [t, t]), [Lt(t[0]), Lt(null != t[1] ? t[1] : t[0])];\n  },\n  St = function (t) {\n    if (null == t) return;\n    const _Et = Et(t),\n      _Et2 = _slicedToArray(_Et, 2),\n      e = _Et2[0],\n      i = _Et2[1];\n    return Dt(e, i);\n  },\n  kt = function (t, e) {\n    if (null == t || null == e) return;\n    const _Et3 = Et(t),\n      _Et4 = _slicedToArray(_Et3, 2),\n      i = _Et4[0],\n      n = _Et4[1],\n      _Et5 = Et(e),\n      _Et6 = _slicedToArray(_Et5, 2),\n      r = _Et6[0],\n      o = _Et6[1];\n    return Dt(i, r) && Dt(n, o);\n  },\n  Lt = function (t) {\n    return \"number\" == typeof t ? t : Ct(t);\n  },\n  Dt = function (t, e) {\n    return \"number\" == typeof t ? t === e : Rt(t, e);\n  };\nclass wt extends U {\n  constructor() {\n    super(...arguments), this.update = this.update.bind(this), this.run = this.run.bind(this), this.selectionManagers = [];\n  }\n  start() {\n    if (!this.started) return this.started = !0, \"onselectionchange\" in document ? document.addEventListener(\"selectionchange\", this.update, !0) : this.run();\n  }\n  stop() {\n    if (this.started) return this.started = !1, document.removeEventListener(\"selectionchange\", this.update, !0);\n  }\n  registerSelectionManager(t) {\n    if (!this.selectionManagers.includes(t)) return this.selectionManagers.push(t), this.start();\n  }\n  unregisterSelectionManager(t) {\n    if (this.selectionManagers = this.selectionManagers.filter(e => e !== t), 0 === this.selectionManagers.length) return this.stop();\n  }\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map(t => t.selectionDidChange());\n  }\n  update() {\n    const t = It();\n    if (!Tt(t, this.domRange)) return this.domRange = t, this.notifySelectionManagersOfSelectionChange();\n  }\n  reset() {\n    return this.domRange = null, this.update();\n  }\n  run() {\n    if (this.started) return this.update(), requestAnimationFrame(this.run);\n  }\n}\nconst Tt = (t, e) => (null == t ? void 0 : t.startContainer) === (null == e ? void 0 : e.startContainer) && (null == t ? void 0 : t.startOffset) === (null == e ? void 0 : e.startOffset) && (null == t ? void 0 : t.endContainer) === (null == e ? void 0 : e.endContainer) && (null == t ? void 0 : t.endOffset) === (null == e ? void 0 : e.endOffset),\n  Ft = new wt(),\n  Bt = function () {\n    const t = window.getSelection();\n    if (t.rangeCount > 0) return t;\n  },\n  It = function () {\n    var t;\n    const e = null === (t = Bt()) || void 0 === t ? void 0 : t.getRangeAt(0);\n    if (e && !Nt(e)) return e;\n  },\n  Pt = function (t) {\n    const e = window.getSelection();\n    return e.removeAllRanges(), e.addRange(t), Ft.update();\n  },\n  Nt = t => Ot(t.startContainer) || Ot(t.endContainer),\n  Ot = t => !Object.getPrototypeOf(t),\n  Mt = t => t.replace(new RegExp(\"\".concat(\"\\ufeff\"), \"g\"), \"\").replace(new RegExp(\"\".concat(\" \"), \"g\"), \" \"),\n  jt = new RegExp(\"[^\\\\S\".concat(\" \", \"]\")),\n  Wt = t => t.replace(new RegExp(\"\".concat(jt.source), \"g\"), \" \").replace(/\\ {2,}/g, \" \"),\n  Ut = function (t, e) {\n    if (t.isEqualTo(e)) return [\"\", \"\"];\n    const i = qt(t, e),\n      n = i.utf16String.length;\n    let r;\n    if (n) {\n      const o = i.offset,\n        s = t.codepoints.slice(0, o).concat(t.codepoints.slice(o + n));\n      r = qt(e, K.fromCodepoints(s));\n    } else r = qt(e, t);\n    return [i.utf16String.toString(), r.utf16String.toString()];\n  },\n  qt = function (t, e) {\n    let i = 0,\n      n = t.length,\n      r = e.length;\n    for (; i < n && t.charAt(i).isEqualTo(e.charAt(i));) i++;\n    for (; n > i + 1 && t.charAt(n - 1).isEqualTo(e.charAt(r - 1));) n--, r--;\n    return {\n      utf16String: t.slice(i, n),\n      offset: i\n    };\n  };\nclass Vt extends tt {\n  static fromCommonAttributesOfObjects() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    if (!t.length) return new this();\n    let e = Jt(t[0]),\n      i = e.getKeys();\n    return t.slice(1).forEach(t => {\n      i = e.getKeysCommonToHash(Jt(t)), e = e.slice(i);\n    }), e;\n  }\n  static box(t) {\n    return Jt(t);\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    super(...arguments), this.values = Ht(t);\n  }\n  add(t, e) {\n    return this.merge(zt(t, e));\n  }\n  remove(t) {\n    return new Vt(Ht(this.values, t));\n  }\n  get(t) {\n    return this.values[t];\n  }\n  has(t) {\n    return t in this.values;\n  }\n  merge(t) {\n    return new Vt(_t(this.values, Kt(t)));\n  }\n  slice(t) {\n    const e = {};\n    return Array.from(t).forEach(t => {\n      this.has(t) && (e[t] = this.values[t]);\n    }), new Vt(e);\n  }\n  getKeys() {\n    return Object.keys(this.values);\n  }\n  getKeysCommonToHash(t) {\n    return t = Jt(t), this.getKeys().filter(e => this.values[e] === t.values[e]);\n  }\n  isEqualTo(t) {\n    return et(this.toArray(), Jt(t).toArray());\n  }\n  isEmpty() {\n    return 0 === this.getKeys().length;\n  }\n  toArray() {\n    if (!this.array) {\n      const t = [];\n      for (const e in this.values) {\n        const i = this.values[e];\n        t.push(t.push(e, i));\n      }\n      this.array = t.slice(0);\n    }\n    return this.array;\n  }\n  toObject() {\n    return Ht(this.values);\n  }\n  toJSON() {\n    return this.toObject();\n  }\n  contentsForInspection() {\n    return {\n      values: JSON.stringify(this.values)\n    };\n  }\n}\nconst zt = function (t, e) {\n    const i = {};\n    return i[t] = e, i;\n  },\n  _t = function (t, e) {\n    const i = Ht(t);\n    for (const t in e) {\n      const n = e[t];\n      i[t] = n;\n    }\n    return i;\n  },\n  Ht = function (t, e) {\n    const i = {};\n    return Object.keys(t).sort().forEach(n => {\n      n !== e && (i[n] = t[n]);\n    }), i;\n  },\n  Jt = function (t) {\n    return t instanceof Vt ? t : new Vt(t);\n  },\n  Kt = function (t) {\n    return t instanceof Vt ? t.values : t;\n  };\nclass Gt {\n  static groupObjects() {\n    let t,\n      e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n      _ref7 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      i = _ref7.depth,\n      n = _ref7.asTree;\n    n && null == i && (i = 0);\n    const r = [];\n    return Array.from(e).forEach(e => {\n      var o;\n      if (t) {\n        var s, a, l;\n        if (null !== (s = e.canBeGrouped) && void 0 !== s && s.call(e, i) && null !== (a = (l = t[t.length - 1]).canBeGroupedWith) && void 0 !== a && a.call(l, e, i)) return void t.push(e);\n        r.push(new this(t, {\n          depth: i,\n          asTree: n\n        })), t = null;\n      }\n      null !== (o = e.canBeGrouped) && void 0 !== o && o.call(e, i) ? t = [e] : r.push(e);\n    }), t && r.push(new this(t, {\n      depth: i,\n      asTree: n\n    })), r;\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n      _ref8 = arguments.length > 1 ? arguments[1] : void 0,\n      e = _ref8.depth,\n      i = _ref8.asTree;\n    this.objects = t, i && (this.depth = e, this.objects = this.constructor.groupObjects(this.objects, {\n      asTree: i,\n      depth: this.depth + 1\n    }));\n  }\n  getObjects() {\n    return this.objects;\n  }\n  getDepth() {\n    return this.depth;\n  }\n  getCacheKey() {\n    const t = [\"objectGroup\"];\n    return Array.from(this.getObjects()).forEach(e => {\n      t.push(e.getCacheKey());\n    }), t.join(\"/\");\n  }\n}\nclass $t extends U {\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    super(...arguments), this.objects = {}, Array.from(t).forEach(t => {\n      const e = JSON.stringify(t);\n      null == this.objects[e] && (this.objects[e] = t);\n    });\n  }\n  find(t) {\n    const e = JSON.stringify(t);\n    return this.objects[e];\n  }\n}\nclass Xt {\n  constructor(t) {\n    this.reset(t);\n  }\n  add(t) {\n    const e = Yt(t);\n    this.elements[e] = t;\n  }\n  remove(t) {\n    const e = Yt(t),\n      i = this.elements[e];\n    if (i) return delete this.elements[e], i;\n  }\n  reset() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    return this.elements = {}, Array.from(t).forEach(t => {\n      this.add(t);\n    }), t;\n  }\n}\nconst Yt = t => t.dataset.trixStoreKey;\nclass Qt extends U {\n  isPerforming() {\n    return !0 === this.performing;\n  }\n  hasPerformed() {\n    return !0 === this.performed;\n  }\n  hasSucceeded() {\n    return this.performed && this.succeeded;\n  }\n  hasFailed() {\n    return this.performed && !this.succeeded;\n  }\n  getPromise() {\n    return this.promise || (this.promise = new Promise((t, e) => (this.performing = !0, this.perform((i, n) => {\n      this.succeeded = i, this.performing = !1, this.performed = !0, this.succeeded ? t(n) : e(n);\n    })))), this.promise;\n  }\n  perform(t) {\n    return t(!1);\n  }\n  release() {\n    var t, e;\n    null === (t = this.promise) || void 0 === t || null === (e = t.cancel) || void 0 === e || e.call(t), this.promise = null, this.performing = null, this.performed = null, this.succeeded = null;\n  }\n}\nQt.proxyMethod(\"getPromise().then\"), Qt.proxyMethod(\"getPromise().catch\");\nclass Zt extends U {\n  constructor(t) {\n    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    super(...arguments), this.object = t, this.options = e, this.childViews = [], this.rootView = this;\n  }\n  getNodes() {\n    return this.nodes || (this.nodes = this.createNodes()), this.nodes.map(t => t.cloneNode(!0));\n  }\n  invalidate() {\n    var t;\n    return this.nodes = null, this.childViews = [], null === (t = this.parentView) || void 0 === t ? void 0 : t.invalidate();\n  }\n  invalidateViewForObject(t) {\n    var e;\n    return null === (e = this.findViewForObject(t)) || void 0 === e ? void 0 : e.invalidate();\n  }\n  findOrCreateCachedChildView(t, e, i) {\n    let n = this.getCachedViewForObject(e);\n    return n ? this.recordChildView(n) : (n = this.createChildView(...arguments), this.cacheViewForObject(n, e)), n;\n  }\n  createChildView(t, e) {\n    let i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n    e instanceof Gt && (i.viewClass = t, t = te);\n    const n = new t(e, i);\n    return this.recordChildView(n);\n  }\n  recordChildView(t) {\n    return t.parentView = this, t.rootView = this.rootView, this.childViews.push(t), t;\n  }\n  getAllChildViews() {\n    let t = [];\n    return this.childViews.forEach(e => {\n      t.push(e), t = t.concat(e.getAllChildViews());\n    }), t;\n  }\n  findElement() {\n    return this.findElementForObject(this.object);\n  }\n  findElementForObject(t) {\n    const e = null == t ? void 0 : t.id;\n    if (e) return this.rootView.element.querySelector(\"[data-trix-id='\".concat(e, \"']\"));\n  }\n  findViewForObject(t) {\n    for (const e of this.getAllChildViews()) if (e.object === t) return e;\n  }\n  getViewCache() {\n    return this.rootView !== this ? this.rootView.getViewCache() : this.isViewCachingEnabled() ? (this.viewCache || (this.viewCache = {}), this.viewCache) : void 0;\n  }\n  isViewCachingEnabled() {\n    return !1 !== this.shouldCacheViews;\n  }\n  enableViewCaching() {\n    this.shouldCacheViews = !0;\n  }\n  disableViewCaching() {\n    this.shouldCacheViews = !1;\n  }\n  getCachedViewForObject(t) {\n    var e;\n    return null === (e = this.getViewCache()) || void 0 === e ? void 0 : e[t.getCacheKey()];\n  }\n  cacheViewForObject(t, e) {\n    const i = this.getViewCache();\n    i && (i[e.getCacheKey()] = t);\n  }\n  garbageCollectCachedViews() {\n    const t = this.getViewCache();\n    if (t) {\n      const e = this.getAllChildViews().concat(this).map(t => t.object.getCacheKey());\n      for (const i in t) e.includes(i) || delete t[i];\n    }\n  }\n}\nclass te extends Zt {\n  constructor() {\n    super(...arguments), this.objectGroup = this.object, this.viewClass = this.options.viewClass, delete this.options.viewClass;\n  }\n  getChildViews() {\n    return this.childViews.length || Array.from(this.objectGroup.getObjects()).forEach(t => {\n      this.findOrCreateCachedChildView(this.viewClass, t, this.options);\n    }), this.childViews;\n  }\n  createNodes() {\n    const t = this.createContainerElement();\n    return this.getChildViews().forEach(e => {\n      Array.from(e.getNodes()).forEach(e => {\n        t.appendChild(e);\n      });\n    }), [t];\n  }\n  createContainerElement() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.objectGroup.getDepth();\n    return this.getChildViews()[0].createContainerElement(t);\n  }\n}\nconst ee = W.css;\nclass ie extends Zt {\n  constructor() {\n    super(...arguments), this.attachment = this.object, this.attachment.uploadProgressDelegate = this, this.attachmentPiece = this.options.piece;\n  }\n  createContentNodes() {\n    return [];\n  }\n  createNodes() {\n    let t;\n    const e = t = C({\n        tagName: \"figure\",\n        className: this.getClassName(),\n        data: this.getData(),\n        editable: !1\n      }),\n      i = this.getHref();\n    return i && (t = C({\n      tagName: \"a\",\n      editable: !1,\n      attributes: {\n        href: i,\n        tabindex: -1\n      }\n    }), e.appendChild(t)), this.attachment.hasContent() ? t.innerHTML = this.attachment.getContent() : this.createContentNodes().forEach(e => {\n      t.appendChild(e);\n    }), t.appendChild(this.createCaptionElement()), this.attachment.isPending() && (this.progressElement = C({\n      tagName: \"progress\",\n      attributes: {\n        class: ee.attachmentProgress,\n        value: this.attachment.getUploadProgress(),\n        max: 100\n      },\n      data: {\n        trixMutable: !0,\n        trixStoreKey: [\"progressElement\", this.attachment.id].join(\"/\")\n      }\n    }), e.appendChild(this.progressElement)), [ne(\"left\"), e, ne(\"right\")];\n  }\n  createCaptionElement() {\n    const t = C({\n        tagName: \"figcaption\",\n        className: ee.attachmentCaption\n      }),\n      e = this.attachmentPiece.getCaption();\n    if (e) t.classList.add(\"\".concat(ee.attachmentCaption, \"--edited\")), t.textContent = e;else {\n      let e, i;\n      const n = this.getCaptionConfig();\n      if (n.name && (e = this.attachment.getFilename()), n.size && (i = this.attachment.getFormattedFilesize()), e) {\n        const i = C({\n          tagName: \"span\",\n          className: ee.attachmentName,\n          textContent: e\n        });\n        t.appendChild(i);\n      }\n      if (i) {\n        e && t.appendChild(document.createTextNode(\" \"));\n        const n = C({\n          tagName: \"span\",\n          className: ee.attachmentSize,\n          textContent: i\n        });\n        t.appendChild(n);\n      }\n    }\n    return t;\n  }\n  getClassName() {\n    const t = [ee.attachment, \"\".concat(ee.attachment, \"--\").concat(this.attachment.getType())],\n      e = this.attachment.getExtension();\n    return e && t.push(\"\".concat(ee.attachment, \"--\").concat(e)), t.join(\" \");\n  }\n  getData() {\n    const t = {\n        trixAttachment: JSON.stringify(this.attachment),\n        trixContentType: this.attachment.getContentType(),\n        trixId: this.attachment.id\n      },\n      e = this.attachmentPiece.attributes;\n    return e.isEmpty() || (t.trixAttributes = JSON.stringify(e)), this.attachment.isPending() && (t.trixSerialize = !1), t;\n  }\n  getHref() {\n    if (!re(this.attachment.getContent(), \"a\")) return this.attachment.getHref();\n  }\n  getCaptionConfig() {\n    var e;\n    const i = this.attachment.getType(),\n      n = Ct(null === (e = t[i]) || void 0 === e ? void 0 : e.caption);\n    return \"file\" === i && (n.name = !0), n;\n  }\n  findProgressElement() {\n    var t;\n    return null === (t = this.findElement()) || void 0 === t ? void 0 : t.querySelector(\"progress\");\n  }\n  attachmentDidChangeUploadProgress() {\n    const t = this.attachment.getUploadProgress(),\n      e = this.findProgressElement();\n    e && (e.value = t);\n  }\n}\nconst ne = t => C({\n    tagName: \"span\",\n    textContent: \"\\ufeff\",\n    data: {\n      trixCursorTarget: t,\n      trixSerialize: !1\n    }\n  }),\n  re = function (t, e) {\n    const i = C(\"div\");\n    return i.innerHTML = t || \"\", i.querySelector(e);\n  };\nclass oe extends ie {\n  constructor() {\n    super(...arguments), this.attachment.previewDelegate = this;\n  }\n  createContentNodes() {\n    return this.image = C({\n      tagName: \"img\",\n      attributes: {\n        src: \"\"\n      },\n      data: {\n        trixMutable: !0\n      }\n    }), this.refresh(this.image), [this.image];\n  }\n  createCaptionElement() {\n    const t = super.createCaptionElement(...arguments);\n    return t.textContent || t.setAttribute(\"data-trix-placeholder\", s.captionPlaceholder), t;\n  }\n  refresh(t) {\n    var e;\n    t || (t = null === (e = this.findElement()) || void 0 === e ? void 0 : e.querySelector(\"img\"));\n    if (t) return this.updateAttributesForImage(t);\n  }\n  updateAttributesForImage(t) {\n    const e = this.attachment.getURL(),\n      i = this.attachment.getPreviewURL();\n    if (t.src = i || e, i === e) t.removeAttribute(\"data-trix-serialized-attributes\");else {\n      const i = JSON.stringify({\n        src: e\n      });\n      t.setAttribute(\"data-trix-serialized-attributes\", i);\n    }\n    const n = this.attachment.getWidth(),\n      r = this.attachment.getHeight();\n    null != n && (t.width = n), null != r && (t.height = r);\n    const o = [\"imageElement\", this.attachment.id, t.src, t.width, t.height].join(\"/\");\n    t.dataset.trixStoreKey = o;\n  }\n  attachmentDidChangeAttributes() {\n    return this.refresh(this.image), this.refresh();\n  }\n}\nclass se extends Zt {\n  constructor() {\n    super(...arguments), this.piece = this.object, this.attributes = this.piece.getAttributes(), this.textConfig = this.options.textConfig, this.context = this.options.context, this.piece.attachment ? this.attachment = this.piece.attachment : this.string = this.piece.toString();\n  }\n  createNodes() {\n    let t = this.attachment ? this.createAttachmentNodes() : this.createStringNodes();\n    const e = this.createElement();\n    if (e) {\n      const i = function (t) {\n        for (; null !== (e = t) && void 0 !== e && e.firstElementChild;) {\n          var e;\n          t = t.firstElementChild;\n        }\n        return t;\n      }(e);\n      Array.from(t).forEach(t => {\n        i.appendChild(t);\n      }), t = [e];\n    }\n    return t;\n  }\n  createAttachmentNodes() {\n    const t = this.attachment.isPreviewable() ? oe : ie;\n    return this.createChildView(t, this.piece.attachment, {\n      piece: this.piece\n    }).getNodes();\n  }\n  createStringNodes() {\n    var t;\n    if (null !== (t = this.textConfig) && void 0 !== t && t.plaintext) return [document.createTextNode(this.string)];\n    {\n      const t = [],\n        e = this.string.split(\"\\n\");\n      for (let i = 0; i < e.length; i++) {\n        const n = e[i];\n        if (i > 0) {\n          const e = C(\"br\");\n          t.push(e);\n        }\n        if (n.length) {\n          const e = document.createTextNode(this.preserveSpaces(n));\n          t.push(e);\n        }\n      }\n      return t;\n    }\n  }\n  createElement() {\n    let t, e, i;\n    const n = {};\n    for (e in this.attributes) {\n      i = this.attributes[e];\n      const o = dt(e);\n      if (o) {\n        if (o.tagName) {\n          var r;\n          const e = C(o.tagName);\n          r ? (r.appendChild(e), r = e) : t = r = e;\n        }\n        if (o.styleProperty && (n[o.styleProperty] = i), o.style) for (e in o.style) i = o.style[e], n[e] = i;\n      }\n    }\n    if (Object.keys(n).length) for (e in t || (t = C(\"span\")), n) i = n[e], t.style[e] = i;\n    return t;\n  }\n  createContainerElement() {\n    for (const t in this.attributes) {\n      const e = this.attributes[t],\n        i = dt(t);\n      if (i && i.groupTagName) {\n        const n = {};\n        return n[t] = e, C(i.groupTagName, n);\n      }\n    }\n  }\n  preserveSpaces(t) {\n    return this.context.isLast && (t = t.replace(/\\ $/, \" \")), t = t.replace(/(\\S)\\ {3}(\\S)/g, \"$1 \".concat(\" \", \" $2\")).replace(/\\ {2}/g, \"\".concat(\" \", \" \")).replace(/\\ {2}/g, \" \".concat(\" \")), (this.context.isFirst || this.context.followsWhitespace) && (t = t.replace(/^\\ /, \" \")), t;\n  }\n}\nclass ae extends Zt {\n  constructor() {\n    super(...arguments), this.text = this.object, this.textConfig = this.options.textConfig;\n  }\n  createNodes() {\n    const t = [],\n      e = Gt.groupObjects(this.getPieces()),\n      i = e.length - 1;\n    for (let r = 0; r < e.length; r++) {\n      const o = e[r],\n        s = {};\n      0 === r && (s.isFirst = !0), r === i && (s.isLast = !0), le(n) && (s.followsWhitespace = !0);\n      const a = this.findOrCreateCachedChildView(se, o, {\n        textConfig: this.textConfig,\n        context: s\n      });\n      t.push(...Array.from(a.getNodes() || []));\n      var n = o;\n    }\n    return t;\n  }\n  getPieces() {\n    return Array.from(this.text.getPieces()).filter(t => !t.hasAttribute(\"blockBreak\"));\n  }\n}\nconst le = t => /\\s$/.test(null == t ? void 0 : t.toString()),\n  ce = W.css;\nclass he extends Zt {\n  constructor() {\n    super(...arguments), this.block = this.object, this.attributes = this.block.getAttributes();\n  }\n  createNodes() {\n    const t = [document.createComment(\"block\")];\n    if (this.block.isEmpty()) t.push(C(\"br\"));else {\n      var i;\n      const e = null === (i = ht(this.block.getLastAttribute())) || void 0 === i ? void 0 : i.text,\n        n = this.findOrCreateCachedChildView(ae, this.block.text, {\n          textConfig: e\n        });\n      t.push(...Array.from(n.getNodes() || [])), this.shouldAddExtraNewlineElement() && t.push(C(\"br\"));\n    }\n    if (this.attributes.length) return t;\n    {\n      let i;\n      const n = e.default.tagName;\n      this.block.isRTL() && (i = {\n        dir: \"rtl\"\n      });\n      const r = C({\n        tagName: n,\n        attributes: i\n      });\n      return t.forEach(t => r.appendChild(t)), [r];\n    }\n  }\n  createContainerElement(t) {\n    let e, i;\n    const n = this.attributes[t],\n      _ht = ht(n),\n      r = _ht.tagName;\n    if (0 === t && this.block.isRTL() && (e = {\n      dir: \"rtl\"\n    }), \"attachmentGallery\" === n) {\n      const t = this.block.getBlockBreakPosition();\n      i = \"\".concat(ce.attachmentGallery, \" \").concat(ce.attachmentGallery, \"--\").concat(t);\n    }\n    return C({\n      tagName: r,\n      className: i,\n      attributes: e\n    });\n  }\n  shouldAddExtraNewlineElement() {\n    return /\\n\\n$/.test(this.block.toString());\n  }\n}\nclass ue extends Zt {\n  static render(t) {\n    const e = C(\"div\"),\n      i = new this(t, {\n        element: e\n      });\n    return i.render(), i.sync(), e;\n  }\n  constructor() {\n    super(...arguments), this.element = this.options.element, this.elementStore = new Xt(), this.setDocument(this.object);\n  }\n  setDocument(t) {\n    t.isEqualTo(this.document) || (this.document = this.object = t);\n  }\n  render() {\n    if (this.childViews = [], this.shadowElement = C(\"div\"), !this.document.isEmpty()) {\n      const t = Gt.groupObjects(this.document.getBlocks(), {\n        asTree: !0\n      });\n      Array.from(t).forEach(t => {\n        const e = this.findOrCreateCachedChildView(he, t);\n        Array.from(e.getNodes()).map(t => this.shadowElement.appendChild(t));\n      });\n    }\n  }\n  isSynced() {\n    return ge(this.shadowElement, this.element);\n  }\n  sync() {\n    const t = this.createDocumentFragmentForSync();\n    for (; this.element.lastChild;) this.element.removeChild(this.element.lastChild);\n    return this.element.appendChild(t), this.didSync();\n  }\n  didSync() {\n    return this.elementStore.reset(de(this.element)), yt(() => this.garbageCollectCachedViews());\n  }\n  createDocumentFragmentForSync() {\n    const t = document.createDocumentFragment();\n    return Array.from(this.shadowElement.childNodes).forEach(e => {\n      t.appendChild(e.cloneNode(!0));\n    }), Array.from(de(t)).forEach(t => {\n      const e = this.elementStore.remove(t);\n      e && t.parentNode.replaceChild(e, t);\n    }), t;\n  }\n}\nconst de = t => t.querySelectorAll(\"[data-trix-store-key]\"),\n  ge = (t, e) => me(t.innerHTML) === me(e.innerHTML),\n  me = t => t.replace(/&nbsp;/g, \" \");\nfunction pe(t) {\n  this.wrapped = t;\n}\nfunction fe(t) {\n  var e, i;\n  function n(e, i) {\n    try {\n      var o = t[e](i),\n        s = o.value,\n        a = s instanceof pe;\n      Promise.resolve(a ? s.wrapped : s).then(function (t) {\n        a ? n(\"return\" === e ? \"return\" : \"next\", t) : r(o.done ? \"return\" : \"normal\", t);\n      }, function (t) {\n        n(\"throw\", t);\n      });\n    } catch (t) {\n      r(\"throw\", t);\n    }\n  }\n  function r(t, r) {\n    switch (t) {\n      case \"return\":\n        e.resolve({\n          value: r,\n          done: !0\n        });\n        break;\n      case \"throw\":\n        e.reject(r);\n        break;\n      default:\n        e.resolve({\n          value: r,\n          done: !1\n        });\n    }\n    (e = e.next) ? n(e.key, e.arg) : i = null;\n  }\n  this._invoke = function (t, r) {\n    return new Promise(function (o, s) {\n      var a = {\n        key: t,\n        arg: r,\n        resolve: o,\n        reject: s,\n        next: null\n      };\n      i ? i = i.next = a : (e = i = a, n(t, r));\n    });\n  }, \"function\" != typeof t.return && (this.return = void 0);\n}\nfunction be(t, e, i) {\n  return e in t ? Object.defineProperty(t, e, {\n    value: i,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : t[e] = i, t;\n}\nfe.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function () {\n  return this;\n}, fe.prototype.next = function (t) {\n  return this._invoke(\"next\", t);\n}, fe.prototype.throw = function (t) {\n  return this._invoke(\"throw\", t);\n}, fe.prototype.return = function (t) {\n  return this._invoke(\"return\", t);\n};\nclass ve extends tt {\n  static registerType(t, e) {\n    e.type = t, this.types[t] = e;\n  }\n  static fromJSON(t) {\n    const e = this.types[t.type];\n    if (e) return e.fromJSON(t);\n  }\n  constructor(t) {\n    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    super(...arguments), this.attributes = Vt.box(e);\n  }\n  copyWithAttributes(t) {\n    return new this.constructor(this.getValue(), t);\n  }\n  copyWithAdditionalAttributes(t) {\n    return this.copyWithAttributes(this.attributes.merge(t));\n  }\n  copyWithoutAttribute(t) {\n    return this.copyWithAttributes(this.attributes.remove(t));\n  }\n  copy() {\n    return this.copyWithAttributes(this.attributes);\n  }\n  getAttribute(t) {\n    return this.attributes.get(t);\n  }\n  getAttributesHash() {\n    return this.attributes;\n  }\n  getAttributes() {\n    return this.attributes.toObject();\n  }\n  hasAttribute(t) {\n    return this.attributes.has(t);\n  }\n  hasSameStringValueAsPiece(t) {\n    return t && this.toString() === t.toString();\n  }\n  hasSameAttributesAsPiece(t) {\n    return t && (this.attributes === t.attributes || this.attributes.isEqualTo(t.attributes));\n  }\n  isBlockBreak() {\n    return !1;\n  }\n  isEqualTo(t) {\n    return super.isEqualTo(...arguments) || this.hasSameConstructorAs(t) && this.hasSameStringValueAsPiece(t) && this.hasSameAttributesAsPiece(t);\n  }\n  isEmpty() {\n    return 0 === this.length;\n  }\n  isSerializable() {\n    return !0;\n  }\n  toJSON() {\n    return {\n      type: this.constructor.type,\n      attributes: this.getAttributes()\n    };\n  }\n  contentsForInspection() {\n    return {\n      type: this.constructor.type,\n      attributes: this.attributes.inspect()\n    };\n  }\n  canBeGrouped() {\n    return this.hasAttribute(\"href\");\n  }\n  canBeGroupedWith(t) {\n    return this.getAttribute(\"href\") === t.getAttribute(\"href\");\n  }\n  getLength() {\n    return this.length;\n  }\n  canBeConsolidatedWith(t) {\n    return !1;\n  }\n}\nbe(ve, \"types\", {});\nclass Ae extends Qt {\n  constructor(t) {\n    super(...arguments), this.url = t;\n  }\n  perform(t) {\n    const e = new Image();\n    e.onload = () => (e.width = this.width = e.naturalWidth, e.height = this.height = e.naturalHeight, t(!0, e)), e.onerror = () => t(!1), e.src = this.url;\n  }\n}\nclass xe extends tt {\n  static attachmentForFile(t) {\n    const e = new this(this.attributesForFile(t));\n    return e.setFile(t), e;\n  }\n  static attributesForFile(t) {\n    return new Vt({\n      filename: t.name,\n      filesize: t.size,\n      contentType: t.type\n    });\n  }\n  static fromJSON(t) {\n    return new this(t);\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    super(t), this.releaseFile = this.releaseFile.bind(this), this.attributes = Vt.box(t), this.didChangeAttributes();\n  }\n  getAttribute(t) {\n    return this.attributes.get(t);\n  }\n  hasAttribute(t) {\n    return this.attributes.has(t);\n  }\n  getAttributes() {\n    return this.attributes.toObject();\n  }\n  setAttributes() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    const e = this.attributes.merge(t);\n    var i, n, r, o;\n    if (!this.attributes.isEqualTo(e)) return this.attributes = e, this.didChangeAttributes(), null === (i = this.previewDelegate) || void 0 === i || null === (n = i.attachmentDidChangeAttributes) || void 0 === n || n.call(i, this), null === (r = this.delegate) || void 0 === r || null === (o = r.attachmentDidChangeAttributes) || void 0 === o ? void 0 : o.call(r, this);\n  }\n  didChangeAttributes() {\n    if (this.isPreviewable()) return this.preloadURL();\n  }\n  isPending() {\n    return null != this.file && !(this.getURL() || this.getHref());\n  }\n  isPreviewable() {\n    return this.attributes.has(\"previewable\") ? this.attributes.get(\"previewable\") : xe.previewablePattern.test(this.getContentType());\n  }\n  getType() {\n    return this.hasContent() ? \"content\" : this.isPreviewable() ? \"preview\" : \"file\";\n  }\n  getURL() {\n    return this.attributes.get(\"url\");\n  }\n  getHref() {\n    return this.attributes.get(\"href\");\n  }\n  getFilename() {\n    return this.attributes.get(\"filename\") || \"\";\n  }\n  getFilesize() {\n    return this.attributes.get(\"filesize\");\n  }\n  getFormattedFilesize() {\n    const t = this.attributes.get(\"filesize\");\n    return \"number\" == typeof t ? l.formatter(t) : \"\";\n  }\n  getExtension() {\n    var t;\n    return null === (t = this.getFilename().match(/\\.(\\w+)$/)) || void 0 === t ? void 0 : t[1].toLowerCase();\n  }\n  getContentType() {\n    return this.attributes.get(\"contentType\");\n  }\n  hasContent() {\n    return this.attributes.has(\"content\");\n  }\n  getContent() {\n    return this.attributes.get(\"content\");\n  }\n  getWidth() {\n    return this.attributes.get(\"width\");\n  }\n  getHeight() {\n    return this.attributes.get(\"height\");\n  }\n  getFile() {\n    return this.file;\n  }\n  setFile(t) {\n    if (this.file = t, this.isPreviewable()) return this.preloadFile();\n  }\n  releaseFile() {\n    this.releasePreloadedFile(), this.file = null;\n  }\n  getUploadProgress() {\n    return null != this.uploadProgress ? this.uploadProgress : 0;\n  }\n  setUploadProgress(t) {\n    var e, i;\n    if (this.uploadProgress !== t) return this.uploadProgress = t, null === (e = this.uploadProgressDelegate) || void 0 === e || null === (i = e.attachmentDidChangeUploadProgress) || void 0 === i ? void 0 : i.call(e, this);\n  }\n  toJSON() {\n    return this.getAttributes();\n  }\n  getCacheKey() {\n    return [super.getCacheKey(...arguments), this.attributes.getCacheKey(), this.getPreviewURL()].join(\"/\");\n  }\n  getPreviewURL() {\n    return this.previewURL || this.preloadingURL;\n  }\n  setPreviewURL(t) {\n    var e, i, n, r;\n    if (t !== this.getPreviewURL()) return this.previewURL = t, null === (e = this.previewDelegate) || void 0 === e || null === (i = e.attachmentDidChangeAttributes) || void 0 === i || i.call(e, this), null === (n = this.delegate) || void 0 === n || null === (r = n.attachmentDidChangePreviewURL) || void 0 === r ? void 0 : r.call(n, this);\n  }\n  preloadURL() {\n    return this.preload(this.getURL(), this.releaseFile);\n  }\n  preloadFile() {\n    if (this.file) return this.fileObjectURL = URL.createObjectURL(this.file), this.preload(this.fileObjectURL);\n  }\n  releasePreloadedFile() {\n    this.fileObjectURL && (URL.revokeObjectURL(this.fileObjectURL), this.fileObjectURL = null);\n  }\n  preload(t, e) {\n    if (t && t !== this.getPreviewURL()) {\n      this.preloadingURL = t;\n      return new Ae(t).then(i => {\n        let n = i.width,\n          r = i.height;\n        return this.getWidth() && this.getHeight() || this.setAttributes({\n          width: n,\n          height: r\n        }), this.preloadingURL = null, this.setPreviewURL(t), null == e ? void 0 : e();\n      }).catch(() => (this.preloadingURL = null, null == e ? void 0 : e()));\n    }\n  }\n}\nbe(xe, \"previewablePattern\", /^image(\\/(gif|png|jpe?g)|$)/);\nclass ye extends ve {\n  static fromJSON(t) {\n    return new this(xe.fromJSON(t.attachment), t.attributes);\n  }\n  constructor(t) {\n    super(...arguments), this.attachment = t, this.length = 1, this.ensureAttachmentExclusivelyHasAttribute(\"href\"), this.attachment.hasContent() || this.removeProhibitedAttributes();\n  }\n  ensureAttachmentExclusivelyHasAttribute(t) {\n    this.hasAttribute(t) && (this.attachment.hasAttribute(t) || this.attachment.setAttributes(this.attributes.slice([t])), this.attributes = this.attributes.remove(t));\n  }\n  removeProhibitedAttributes() {\n    const t = this.attributes.slice(ye.permittedAttributes);\n    t.isEqualTo(this.attributes) || (this.attributes = t);\n  }\n  getValue() {\n    return this.attachment;\n  }\n  isSerializable() {\n    return !this.attachment.isPending();\n  }\n  getCaption() {\n    return this.attributes.get(\"caption\") || \"\";\n  }\n  isEqualTo(t) {\n    var e;\n    return super.isEqualTo(t) && this.attachment.id === (null == t || null === (e = t.attachment) || void 0 === e ? void 0 : e.id);\n  }\n  toString() {\n    return \"￼\";\n  }\n  toJSON() {\n    const t = super.toJSON(...arguments);\n    return t.attachment = this.attachment, t;\n  }\n  getCacheKey() {\n    return [super.getCacheKey(...arguments), this.attachment.getCacheKey()].join(\"/\");\n  }\n  toConsole() {\n    return JSON.stringify(this.toString());\n  }\n}\nbe(ye, \"permittedAttributes\", [\"caption\", \"presentation\"]), ve.registerType(\"attachment\", ye);\nclass Ce extends ve {\n  static fromJSON(t) {\n    return new this(t.string, t.attributes);\n  }\n  constructor(t) {\n    super(...arguments), this.string = (t => t.replace(/\\r\\n/g, \"\\n\"))(t), this.length = this.string.length;\n  }\n  getValue() {\n    return this.string;\n  }\n  toString() {\n    return this.string.toString();\n  }\n  isBlockBreak() {\n    return \"\\n\" === this.toString() && !0 === this.getAttribute(\"blockBreak\");\n  }\n  toJSON() {\n    const t = super.toJSON(...arguments);\n    return t.string = this.string, t;\n  }\n  canBeConsolidatedWith(t) {\n    return t && this.hasSameConstructorAs(t) && this.hasSameAttributesAsPiece(t);\n  }\n  consolidateWith(t) {\n    return new this.constructor(this.toString() + t.toString(), this.attributes);\n  }\n  splitAtOffset(t) {\n    let e, i;\n    return 0 === t ? (e = null, i = this) : t === this.length ? (e = this, i = null) : (e = new this.constructor(this.string.slice(0, t), this.attributes), i = new this.constructor(this.string.slice(t), this.attributes)), [e, i];\n  }\n  toConsole() {\n    let t = this.string;\n    return t.length > 15 && (t = t.slice(0, 14) + \"…\"), JSON.stringify(t.toString());\n  }\n}\nve.registerType(\"string\", Ce);\nclass Re extends tt {\n  static box(t) {\n    return t instanceof this ? t : new this(t);\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    super(...arguments), this.objects = t.slice(0), this.length = this.objects.length;\n  }\n  indexOf(t) {\n    return this.objects.indexOf(t);\n  }\n  splice() {\n    for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];\n    return new this.constructor(it(this.objects, ...e));\n  }\n  eachObject(t) {\n    return this.objects.map((e, i) => t(e, i));\n  }\n  insertObjectAtIndex(t, e) {\n    return this.splice(e, 0, t);\n  }\n  insertSplittableListAtIndex(t, e) {\n    return this.splice(e, 0, ...t.objects);\n  }\n  insertSplittableListAtPosition(t, e) {\n    const _this$splitObjectAtPo = this.splitObjectAtPosition(e),\n      _this$splitObjectAtPo2 = _slicedToArray(_this$splitObjectAtPo, 2),\n      i = _this$splitObjectAtPo2[0],\n      n = _this$splitObjectAtPo2[1];\n    return new this.constructor(i).insertSplittableListAtIndex(t, n);\n  }\n  editObjectAtIndex(t, e) {\n    return this.replaceObjectAtIndex(e(this.objects[t]), t);\n  }\n  replaceObjectAtIndex(t, e) {\n    return this.splice(e, 1, t);\n  }\n  removeObjectAtIndex(t) {\n    return this.splice(t, 1);\n  }\n  getObjectAtIndex(t) {\n    return this.objects[t];\n  }\n  getSplittableListInRange(t) {\n    const _this$splitObjectsAtR = this.splitObjectsAtRange(t),\n      _this$splitObjectsAtR2 = _slicedToArray(_this$splitObjectsAtR, 3),\n      e = _this$splitObjectsAtR2[0],\n      i = _this$splitObjectsAtR2[1],\n      n = _this$splitObjectsAtR2[2];\n    return new this.constructor(e.slice(i, n + 1));\n  }\n  selectSplittableList(t) {\n    const e = this.objects.filter(e => t(e));\n    return new this.constructor(e);\n  }\n  removeObjectsInRange(t) {\n    const _this$splitObjectsAtR3 = this.splitObjectsAtRange(t),\n      _this$splitObjectsAtR4 = _slicedToArray(_this$splitObjectsAtR3, 3),\n      e = _this$splitObjectsAtR4[0],\n      i = _this$splitObjectsAtR4[1],\n      n = _this$splitObjectsAtR4[2];\n    return new this.constructor(e).splice(i, n - i + 1);\n  }\n  transformObjectsInRange(t, e) {\n    const _this$splitObjectsAtR5 = this.splitObjectsAtRange(t),\n      _this$splitObjectsAtR6 = _slicedToArray(_this$splitObjectsAtR5, 3),\n      i = _this$splitObjectsAtR6[0],\n      n = _this$splitObjectsAtR6[1],\n      r = _this$splitObjectsAtR6[2],\n      o = i.map((t, i) => n <= i && i <= r ? e(t) : t);\n    return new this.constructor(o);\n  }\n  splitObjectsAtRange(t) {\n    var _this$constructor$spl, _this$constructor$spl2;\n    let e,\n      _this$splitObjectAtPo3 = this.splitObjectAtPosition(Se(t)),\n      _this$splitObjectAtPo4 = _slicedToArray(_this$splitObjectAtPo3, 3),\n      i = _this$splitObjectAtPo4[0],\n      n = _this$splitObjectAtPo4[1],\n      r = _this$splitObjectAtPo4[2];\n    return (_this$constructor$spl = new this.constructor(i).splitObjectAtPosition(ke(t) + r), _this$constructor$spl2 = _slicedToArray(_this$constructor$spl, 2), i = _this$constructor$spl2[0], e = _this$constructor$spl2[1]), [i, n, e - 1];\n  }\n  getObjectAtPosition(t) {\n    const _this$findIndexAndOff = this.findIndexAndOffsetAtPosition(t),\n      e = _this$findIndexAndOff.index;\n    return this.objects[e];\n  }\n  splitObjectAtPosition(t) {\n    let e, i;\n    const _this$findIndexAndOff2 = this.findIndexAndOffsetAtPosition(t),\n      n = _this$findIndexAndOff2.index,\n      r = _this$findIndexAndOff2.offset,\n      o = this.objects.slice(0);\n    if (null != n) {\n      if (0 === r) e = n, i = 0;else {\n        const t = this.getObjectAtIndex(n),\n          _t$splitAtOffset = t.splitAtOffset(r),\n          _t$splitAtOffset2 = _slicedToArray(_t$splitAtOffset, 2),\n          s = _t$splitAtOffset2[0],\n          a = _t$splitAtOffset2[1];\n        o.splice(n, 1, s, a), e = n + 1, i = s.getLength() - r;\n      }\n    } else e = o.length, i = 0;\n    return [o, e, i];\n  }\n  consolidate() {\n    const t = [];\n    let e = this.objects[0];\n    return this.objects.slice(1).forEach(i => {\n      var n, r;\n      null !== (n = (r = e).canBeConsolidatedWith) && void 0 !== n && n.call(r, i) ? e = e.consolidateWith(i) : (t.push(e), e = i);\n    }), e && t.push(e), new this.constructor(t);\n  }\n  consolidateFromIndexToIndex(t, e) {\n    const i = this.objects.slice(0).slice(t, e + 1),\n      n = new this.constructor(i).consolidate().toArray();\n    return this.splice(t, i.length, ...n);\n  }\n  findIndexAndOffsetAtPosition(t) {\n    let e,\n      i = 0;\n    for (e = 0; e < this.objects.length; e++) {\n      const n = i + this.objects[e].getLength();\n      if (i <= t && t < n) return {\n        index: e,\n        offset: t - i\n      };\n      i = n;\n    }\n    return {\n      index: null,\n      offset: null\n    };\n  }\n  findPositionAtIndexAndOffset(t, e) {\n    let i = 0;\n    for (let n = 0; n < this.objects.length; n++) {\n      const r = this.objects[n];\n      if (n < t) i += r.getLength();else if (n === t) {\n        i += e;\n        break;\n      }\n    }\n    return i;\n  }\n  getEndPosition() {\n    return null == this.endPosition && (this.endPosition = 0, this.objects.forEach(t => this.endPosition += t.getLength())), this.endPosition;\n  }\n  toString() {\n    return this.objects.join(\"\");\n  }\n  toArray() {\n    return this.objects.slice(0);\n  }\n  toJSON() {\n    return this.toArray();\n  }\n  isEqualTo(t) {\n    return super.isEqualTo(...arguments) || Ee(this.objects, null == t ? void 0 : t.objects);\n  }\n  contentsForInspection() {\n    return {\n      objects: \"[\".concat(this.objects.map(t => t.inspect()).join(\", \"), \"]\")\n    };\n  }\n}\nconst Ee = function (t) {\n    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n    if (t.length !== e.length) return !1;\n    let i = !0;\n    for (let n = 0; n < t.length; n++) {\n      const r = t[n];\n      i && !r.isEqualTo(e[n]) && (i = !1);\n    }\n    return i;\n  },\n  Se = t => t[0],\n  ke = t => t[1];\nclass Le extends tt {\n  static textForAttachmentWithAttributes(t, e) {\n    return new this([new ye(t, e)]);\n  }\n  static textForStringWithAttributes(t, e) {\n    return new this([new Ce(t, e)]);\n  }\n  static fromJSON(t) {\n    return new this(Array.from(t).map(t => ve.fromJSON(t)));\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    super(...arguments);\n    const e = t.filter(t => !t.isEmpty());\n    this.pieceList = new Re(e);\n  }\n  copy() {\n    return this.copyWithPieceList(this.pieceList);\n  }\n  copyWithPieceList(t) {\n    return new this.constructor(t.consolidate().toArray());\n  }\n  copyUsingObjectMap(t) {\n    const e = this.getPieces().map(e => t.find(e) || e);\n    return new this.constructor(e);\n  }\n  appendText(t) {\n    return this.insertTextAtPosition(t, this.getLength());\n  }\n  insertTextAtPosition(t, e) {\n    return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList, e));\n  }\n  removeTextAtRange(t) {\n    return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t));\n  }\n  replaceTextAtRange(t, e) {\n    return this.removeTextAtRange(e).insertTextAtPosition(t, e[0]);\n  }\n  moveTextFromRangeToPosition(t, e) {\n    if (t[0] <= e && e <= t[1]) return;\n    const i = this.getTextAtRange(t),\n      n = i.getLength();\n    return t[0] < e && (e -= n), this.removeTextAtRange(t).insertTextAtPosition(i, e);\n  }\n  addAttributeAtRange(t, e, i) {\n    const n = {};\n    return n[t] = e, this.addAttributesAtRange(n, i);\n  }\n  addAttributesAtRange(t, e) {\n    return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e, e => e.copyWithAdditionalAttributes(t)));\n  }\n  removeAttributeAtRange(t, e) {\n    return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e, e => e.copyWithoutAttribute(t)));\n  }\n  setAttributesAtRange(t, e) {\n    return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e, e => e.copyWithAttributes(t)));\n  }\n  getAttributesAtPosition(t) {\n    var e;\n    return (null === (e = this.pieceList.getObjectAtPosition(t)) || void 0 === e ? void 0 : e.getAttributes()) || {};\n  }\n  getCommonAttributes() {\n    const t = Array.from(this.pieceList.toArray()).map(t => t.getAttributes());\n    return Vt.fromCommonAttributesOfObjects(t).toObject();\n  }\n  getCommonAttributesAtRange(t) {\n    return this.getTextAtRange(t).getCommonAttributes() || {};\n  }\n  getExpandedRangeForAttributeAtOffset(t, e) {\n    let i,\n      n = i = e;\n    const r = this.getLength();\n    for (; n > 0 && this.getCommonAttributesAtRange([n - 1, i])[t];) n--;\n    for (; i < r && this.getCommonAttributesAtRange([e, i + 1])[t];) i++;\n    return [n, i];\n  }\n  getTextAtRange(t) {\n    return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t));\n  }\n  getStringAtRange(t) {\n    return this.pieceList.getSplittableListInRange(t).toString();\n  }\n  getStringAtPosition(t) {\n    return this.getStringAtRange([t, t + 1]);\n  }\n  startsWithString(t) {\n    return this.getStringAtRange([0, t.length]) === t;\n  }\n  endsWithString(t) {\n    const e = this.getLength();\n    return this.getStringAtRange([e - t.length, e]) === t;\n  }\n  getAttachmentPieces() {\n    return this.pieceList.toArray().filter(t => !!t.attachment);\n  }\n  getAttachments() {\n    return this.getAttachmentPieces().map(t => t.attachment);\n  }\n  getAttachmentAndPositionById(t) {\n    let e = 0;\n    for (const n of this.pieceList.toArray()) {\n      var i;\n      if ((null === (i = n.attachment) || void 0 === i ? void 0 : i.id) === t) return {\n        attachment: n.attachment,\n        position: e\n      };\n      e += n.length;\n    }\n    return {\n      attachment: null,\n      position: null\n    };\n  }\n  getAttachmentById(t) {\n    const _this$getAttachmentAn = this.getAttachmentAndPositionById(t),\n      e = _this$getAttachmentAn.attachment;\n    return e;\n  }\n  getRangeOfAttachment(t) {\n    const e = this.getAttachmentAndPositionById(t.id),\n      i = e.position;\n    if (t = e.attachment) return [i, i + 1];\n  }\n  updateAttributesForAttachment(t, e) {\n    const i = this.getRangeOfAttachment(e);\n    return i ? this.addAttributesAtRange(t, i) : this;\n  }\n  getLength() {\n    return this.pieceList.getEndPosition();\n  }\n  isEmpty() {\n    return 0 === this.getLength();\n  }\n  isEqualTo(t) {\n    var e;\n    return super.isEqualTo(t) || (null == t || null === (e = t.pieceList) || void 0 === e ? void 0 : e.isEqualTo(this.pieceList));\n  }\n  isBlockBreak() {\n    return 1 === this.getLength() && this.pieceList.getObjectAtIndex(0).isBlockBreak();\n  }\n  eachPiece(t) {\n    return this.pieceList.eachObject(t);\n  }\n  getPieces() {\n    return this.pieceList.toArray();\n  }\n  getPieceAtPosition(t) {\n    return this.pieceList.getObjectAtPosition(t);\n  }\n  contentsForInspection() {\n    return {\n      pieceList: this.pieceList.inspect()\n    };\n  }\n  toSerializableText() {\n    const t = this.pieceList.selectSplittableList(t => t.isSerializable());\n    return this.copyWithPieceList(t);\n  }\n  toString() {\n    return this.pieceList.toString();\n  }\n  toJSON() {\n    return this.pieceList.toJSON();\n  }\n  toConsole() {\n    return JSON.stringify(this.pieceList.toArray().map(t => JSON.parse(t.toConsole())));\n  }\n  getDirection() {\n    return rt(this.toString());\n  }\n  isRTL() {\n    return \"rtl\" === this.getDirection();\n  }\n}\nclass De extends tt {\n  static fromJSON(t) {\n    return new this(Le.fromJSON(t.text), t.attributes);\n  }\n  constructor(t, e) {\n    super(...arguments), this.text = we(t || new Le()), this.attributes = e || [];\n  }\n  isEmpty() {\n    return this.text.isBlockBreak();\n  }\n  isEqualTo(t) {\n    return !!super.isEqualTo(t) || this.text.isEqualTo(null == t ? void 0 : t.text) && et(this.attributes, null == t ? void 0 : t.attributes);\n  }\n  copyWithText(t) {\n    return new De(t, this.attributes);\n  }\n  copyWithoutText() {\n    return this.copyWithText(null);\n  }\n  copyWithAttributes(t) {\n    return new De(this.text, t);\n  }\n  copyWithoutAttributes() {\n    return this.copyWithAttributes(null);\n  }\n  copyUsingObjectMap(t) {\n    const e = t.find(this.text);\n    return e ? this.copyWithText(e) : this.copyWithText(this.text.copyUsingObjectMap(t));\n  }\n  addAttribute(t) {\n    const e = this.attributes.concat(Ne(t));\n    return this.copyWithAttributes(e);\n  }\n  removeAttribute(t) {\n    const _ht2 = ht(t),\n      e = _ht2.listAttribute,\n      i = Me(Me(this.attributes, t), e);\n    return this.copyWithAttributes(i);\n  }\n  removeLastAttribute() {\n    return this.removeAttribute(this.getLastAttribute());\n  }\n  getLastAttribute() {\n    return Oe(this.attributes);\n  }\n  getAttributes() {\n    return this.attributes.slice(0);\n  }\n  getAttributeLevel() {\n    return this.attributes.length;\n  }\n  getAttributeAtLevel(t) {\n    return this.attributes[t - 1];\n  }\n  hasAttribute(t) {\n    return this.attributes.includes(t);\n  }\n  hasAttributes() {\n    return this.getAttributeLevel() > 0;\n  }\n  getLastNestableAttribute() {\n    return Oe(this.getNestableAttributes());\n  }\n  getNestableAttributes() {\n    return this.attributes.filter(t => ht(t).nestable);\n  }\n  getNestingLevel() {\n    return this.getNestableAttributes().length;\n  }\n  decreaseNestingLevel() {\n    const t = this.getLastNestableAttribute();\n    return t ? this.removeAttribute(t) : this;\n  }\n  increaseNestingLevel() {\n    const t = this.getLastNestableAttribute();\n    if (t) {\n      const e = this.attributes.lastIndexOf(t),\n        i = it(this.attributes, e + 1, 0, ...Ne(t));\n      return this.copyWithAttributes(i);\n    }\n    return this;\n  }\n  getListItemAttributes() {\n    return this.attributes.filter(t => ht(t).listAttribute);\n  }\n  isListItem() {\n    var t;\n    return null === (t = ht(this.getLastAttribute())) || void 0 === t ? void 0 : t.listAttribute;\n  }\n  isTerminalBlock() {\n    var t;\n    return null === (t = ht(this.getLastAttribute())) || void 0 === t ? void 0 : t.terminal;\n  }\n  breaksOnReturn() {\n    var t;\n    return null === (t = ht(this.getLastAttribute())) || void 0 === t ? void 0 : t.breakOnReturn;\n  }\n  findLineBreakInDirectionFromPosition(t, e) {\n    const i = this.toString();\n    let n;\n    switch (t) {\n      case \"forward\":\n        n = i.indexOf(\"\\n\", e);\n        break;\n      case \"backward\":\n        n = i.slice(0, e).lastIndexOf(\"\\n\");\n    }\n    if (-1 !== n) return n;\n  }\n  contentsForInspection() {\n    return {\n      text: this.text.inspect(),\n      attributes: this.attributes\n    };\n  }\n  toString() {\n    return this.text.toString();\n  }\n  toJSON() {\n    return {\n      text: this.text,\n      attributes: this.attributes\n    };\n  }\n  getDirection() {\n    return this.text.getDirection();\n  }\n  isRTL() {\n    return this.text.isRTL();\n  }\n  getLength() {\n    return this.text.getLength();\n  }\n  canBeConsolidatedWith(t) {\n    return !this.hasAttributes() && !t.hasAttributes() && this.getDirection() === t.getDirection();\n  }\n  consolidateWith(t) {\n    const e = Le.textForStringWithAttributes(\"\\n\"),\n      i = this.getTextWithoutBlockBreak().appendText(e);\n    return this.copyWithText(i.appendText(t.text));\n  }\n  splitAtOffset(t) {\n    let e, i;\n    return 0 === t ? (e = null, i = this) : t === this.getLength() ? (e = this, i = null) : (e = this.copyWithText(this.text.getTextAtRange([0, t])), i = this.copyWithText(this.text.getTextAtRange([t, this.getLength()]))), [e, i];\n  }\n  getBlockBreakPosition() {\n    return this.text.getLength() - 1;\n  }\n  getTextWithoutBlockBreak() {\n    return Ie(this.text) ? this.text.getTextAtRange([0, this.getBlockBreakPosition()]) : this.text.copy();\n  }\n  canBeGrouped(t) {\n    return this.attributes[t];\n  }\n  canBeGroupedWith(t, i) {\n    const n = t.getAttributes(),\n      r = n[i],\n      o = this.attributes[i];\n    return o === r && !(!1 === ht(o).group && !(() => {\n      if (!lt) {\n        lt = [];\n        for (const t in e) {\n          const i = e[t].listAttribute;\n          null != i && lt.push(i);\n        }\n      }\n      return lt;\n    })().includes(n[i + 1])) && (this.getDirection() === t.getDirection() || t.isEmpty());\n  }\n}\nconst we = function (t) {\n    return t = Te(t), t = Be(t);\n  },\n  Te = function (t) {\n    let e = !1;\n    const i = t.getPieces();\n    let n = i.slice(0, i.length - 1);\n    const r = i[i.length - 1];\n    return r ? (n = n.map(t => t.isBlockBreak() ? (e = !0, Pe(t)) : t), e ? new Le([...n, r]) : t) : t;\n  },\n  Fe = Le.textForStringWithAttributes(\"\\n\", {\n    blockBreak: !0\n  }),\n  Be = function (t) {\n    return Ie(t) ? t : t.appendText(Fe);\n  },\n  Ie = function (t) {\n    const e = t.getLength();\n    if (0 === e) return !1;\n    return t.getTextAtRange([e - 1, e]).isBlockBreak();\n  },\n  Pe = t => t.copyWithoutAttribute(\"blockBreak\"),\n  Ne = function (t) {\n    const _ht3 = ht(t),\n      e = _ht3.listAttribute;\n    return e ? [e, t] : [t];\n  },\n  Oe = t => t.slice(-1)[0],\n  Me = function (t, e) {\n    const i = t.lastIndexOf(e);\n    return -1 === i ? t : it(t, i, 1);\n  };\nclass je extends tt {\n  static fromJSON(t) {\n    return new this(Array.from(t).map(t => De.fromJSON(t)));\n  }\n  static fromString(t, e) {\n    const i = Le.textForStringWithAttributes(t, e);\n    return new this([new De(i)]);\n  }\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    super(...arguments), 0 === t.length && (t = [new De()]), this.blockList = Re.box(t);\n  }\n  isEmpty() {\n    const t = this.getBlockAtIndex(0);\n    return 1 === this.blockList.length && t.isEmpty() && !t.hasAttributes();\n  }\n  copy() {\n    const t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).consolidateBlocks ? this.blockList.consolidate().toArray() : this.blockList.toArray();\n    return new this.constructor(t);\n  }\n  copyUsingObjectsFromDocument(t) {\n    const e = new $t(t.getObjects());\n    return this.copyUsingObjectMap(e);\n  }\n  copyUsingObjectMap(t) {\n    const e = this.getBlocks().map(e => t.find(e) || e.copyUsingObjectMap(t));\n    return new this.constructor(e);\n  }\n  copyWithBaseBlockAttributes() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    const e = this.getBlocks().map(e => {\n      const i = t.concat(e.getAttributes());\n      return e.copyWithAttributes(i);\n    });\n    return new this.constructor(e);\n  }\n  replaceBlock(t, e) {\n    const i = this.blockList.indexOf(t);\n    return -1 === i ? this : new this.constructor(this.blockList.replaceObjectAtIndex(e, i));\n  }\n  insertDocumentAtRange(t, e) {\n    const i = t.blockList;\n    e = Et(e);\n    let _e2 = e,\n      _e3 = _slicedToArray(_e2, 1),\n      n = _e3[0];\n    const _this$locationFromPos = this.locationFromPosition(n),\n      r = _this$locationFromPos.index,\n      o = _this$locationFromPos.offset;\n    let s = this;\n    const a = this.getBlockAtPosition(n);\n    return St(e) && a.isEmpty() && !a.hasAttributes() ? s = new this.constructor(s.blockList.removeObjectAtIndex(r)) : a.getBlockBreakPosition() === o && n++, s = s.removeTextAtRange(e), new this.constructor(s.blockList.insertSplittableListAtPosition(i, n));\n  }\n  mergeDocumentAtRange(t, e) {\n    let i, n;\n    e = Et(e);\n    const _e4 = e,\n      _e5 = _slicedToArray(_e4, 1),\n      r = _e5[0],\n      o = this.locationFromPosition(r),\n      s = this.getBlockAtIndex(o.index).getAttributes(),\n      a = t.getBaseBlockAttributes(),\n      l = s.slice(-a.length);\n    if (et(a, l)) {\n      const e = s.slice(0, -a.length);\n      i = t.copyWithBaseBlockAttributes(e);\n    } else i = t.copy({\n      consolidateBlocks: !0\n    }).copyWithBaseBlockAttributes(s);\n    const c = i.getBlockCount(),\n      h = i.getBlockAtIndex(0);\n    if (et(s, h.getAttributes())) {\n      const t = h.getTextWithoutBlockBreak();\n      if (n = this.insertTextAtRange(t, e), c > 1) {\n        i = new this.constructor(i.getBlocks().slice(1));\n        const e = r + t.getLength();\n        n = n.insertDocumentAtRange(i, e);\n      }\n    } else n = this.insertDocumentAtRange(i, e);\n    return n;\n  }\n  insertTextAtRange(t, e) {\n    e = Et(e);\n    const _e6 = e,\n      _e7 = _slicedToArray(_e6, 1),\n      i = _e7[0],\n      _this$locationFromPos2 = this.locationFromPosition(i),\n      n = _this$locationFromPos2.index,\n      r = _this$locationFromPos2.offset,\n      o = this.removeTextAtRange(e);\n    return new this.constructor(o.blockList.editObjectAtIndex(n, e => e.copyWithText(e.text.insertTextAtPosition(t, r))));\n  }\n  removeTextAtRange(t) {\n    let e;\n    t = Et(t);\n    const _t2 = t,\n      _t3 = _slicedToArray(_t2, 2),\n      i = _t3[0],\n      n = _t3[1];\n    if (St(t)) return this;\n    const _Array$from = Array.from(this.locationRangeFromRange(t)),\n      _Array$from2 = _slicedToArray(_Array$from, 2),\n      r = _Array$from2[0],\n      o = _Array$from2[1],\n      s = r.index,\n      a = r.offset,\n      l = this.getBlockAtIndex(s),\n      c = o.index,\n      h = o.offset,\n      u = this.getBlockAtIndex(c);\n    if (n - i == 1 && l.getBlockBreakPosition() === a && u.getBlockBreakPosition() !== h && \"\\n\" === u.text.getStringAtPosition(h)) e = this.blockList.editObjectAtIndex(c, t => t.copyWithText(t.text.removeTextAtRange([h, h + 1])));else {\n      let t;\n      const i = l.text.getTextAtRange([0, a]),\n        n = u.text.getTextAtRange([h, u.getLength()]),\n        r = i.appendText(n);\n      t = s !== c && 0 === a && l.getAttributeLevel() >= u.getAttributeLevel() ? u.copyWithText(r) : l.copyWithText(r);\n      const o = c + 1 - s;\n      e = this.blockList.splice(s, o, t);\n    }\n    return new this.constructor(e);\n  }\n  moveTextFromRangeToPosition(t, e) {\n    let i;\n    t = Et(t);\n    const _t4 = t,\n      _t5 = _slicedToArray(_t4, 2),\n      n = _t5[0],\n      r = _t5[1];\n    if (n <= e && e <= r) return this;\n    let o = this.getDocumentAtRange(t),\n      s = this.removeTextAtRange(t);\n    const a = n < e;\n    a && (e -= o.getLength());\n    const _o$getBlocks = o.getBlocks(),\n      _o$getBlocks2 = _toArray(_o$getBlocks),\n      l = _o$getBlocks2[0],\n      c = _o$getBlocks2.slice(1);\n    return 0 === c.length ? (i = l.getTextWithoutBlockBreak(), a && (e += 1)) : i = l.text, s = s.insertTextAtRange(i, e), 0 === c.length ? s : (o = new this.constructor(c), e += i.getLength(), s.insertDocumentAtRange(o, e));\n  }\n  addAttributeAtRange(t, e, i) {\n    let n = this.blockList;\n    return this.eachBlockAtRange(i, (i, r, o) => n = n.editObjectAtIndex(o, function () {\n      return ht(t) ? i.addAttribute(t, e) : r[0] === r[1] ? i : i.copyWithText(i.text.addAttributeAtRange(t, e, r));\n    })), new this.constructor(n);\n  }\n  addAttribute(t, e) {\n    let i = this.blockList;\n    return this.eachBlock((n, r) => i = i.editObjectAtIndex(r, () => n.addAttribute(t, e))), new this.constructor(i);\n  }\n  removeAttributeAtRange(t, e) {\n    let i = this.blockList;\n    return this.eachBlockAtRange(e, function (e, n, r) {\n      ht(t) ? i = i.editObjectAtIndex(r, () => e.removeAttribute(t)) : n[0] !== n[1] && (i = i.editObjectAtIndex(r, () => e.copyWithText(e.text.removeAttributeAtRange(t, n))));\n    }), new this.constructor(i);\n  }\n  updateAttributesForAttachment(t, e) {\n    const i = this.getRangeOfAttachment(e),\n      _Array$from3 = Array.from(i),\n      _Array$from4 = _slicedToArray(_Array$from3, 1),\n      n = _Array$from4[0],\n      _this$locationFromPos3 = this.locationFromPosition(n),\n      r = _this$locationFromPos3.index,\n      o = this.getTextAtIndex(r);\n    return new this.constructor(this.blockList.editObjectAtIndex(r, i => i.copyWithText(o.updateAttributesForAttachment(t, e))));\n  }\n  removeAttributeForAttachment(t, e) {\n    const i = this.getRangeOfAttachment(e);\n    return this.removeAttributeAtRange(t, i);\n  }\n  insertBlockBreakAtRange(t) {\n    let e;\n    t = Et(t);\n    const _t6 = t,\n      _t7 = _slicedToArray(_t6, 1),\n      i = _t7[0],\n      _this$locationFromPos4 = this.locationFromPosition(i),\n      n = _this$locationFromPos4.offset,\n      r = this.removeTextAtRange(t);\n    return 0 === n && (e = [new De()]), new this.constructor(r.blockList.insertSplittableListAtPosition(new Re(e), i));\n  }\n  applyBlockAttributeAtRange(t, e, i) {\n    const n = this.expandRangeToLineBreaksAndSplitBlocks(i);\n    let r = n.document;\n    i = n.range;\n    const o = ht(t);\n    if (o.listAttribute) {\n      r = r.removeLastListAttributeAtRange(i, {\n        exceptAttributeName: t\n      });\n      const e = r.convertLineBreaksToBlockBreaksInRange(i);\n      r = e.document, i = e.range;\n    } else r = o.exclusive ? r.removeBlockAttributesAtRange(i) : o.terminal ? r.removeLastTerminalAttributeAtRange(i) : r.consolidateBlocksAtRange(i);\n    return r.addAttributeAtRange(t, e, i);\n  }\n  removeLastListAttributeAtRange(t) {\n    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      i = this.blockList;\n    return this.eachBlockAtRange(t, function (t, n, r) {\n      const o = t.getLastAttribute();\n      o && ht(o).listAttribute && o !== e.exceptAttributeName && (i = i.editObjectAtIndex(r, () => t.removeAttribute(o)));\n    }), new this.constructor(i);\n  }\n  removeLastTerminalAttributeAtRange(t) {\n    let e = this.blockList;\n    return this.eachBlockAtRange(t, function (t, i, n) {\n      const r = t.getLastAttribute();\n      r && ht(r).terminal && (e = e.editObjectAtIndex(n, () => t.removeAttribute(r)));\n    }), new this.constructor(e);\n  }\n  removeBlockAttributesAtRange(t) {\n    let e = this.blockList;\n    return this.eachBlockAtRange(t, function (t, i, n) {\n      t.hasAttributes() && (e = e.editObjectAtIndex(n, () => t.copyWithoutAttributes()));\n    }), new this.constructor(e);\n  }\n  expandRangeToLineBreaksAndSplitBlocks(t) {\n    let e;\n    t = Et(t);\n    let _t8 = t,\n      _t9 = _slicedToArray(_t8, 2),\n      i = _t9[0],\n      n = _t9[1];\n    const r = this.locationFromPosition(i),\n      o = this.locationFromPosition(n);\n    let s = this;\n    const a = s.getBlockAtIndex(r.index);\n    if (r.offset = a.findLineBreakInDirectionFromPosition(\"backward\", r.offset), null != r.offset && (e = s.positionFromLocation(r), s = s.insertBlockBreakAtRange([e, e + 1]), o.index += 1, o.offset -= s.getBlockAtIndex(r.index).getLength(), r.index += 1), r.offset = 0, 0 === o.offset && o.index > r.index) o.index -= 1, o.offset = s.getBlockAtIndex(o.index).getBlockBreakPosition();else {\n      const t = s.getBlockAtIndex(o.index);\n      \"\\n\" === t.text.getStringAtRange([o.offset - 1, o.offset]) ? o.offset -= 1 : o.offset = t.findLineBreakInDirectionFromPosition(\"forward\", o.offset), o.offset !== t.getBlockBreakPosition() && (e = s.positionFromLocation(o), s = s.insertBlockBreakAtRange([e, e + 1]));\n    }\n    return i = s.positionFromLocation(r), n = s.positionFromLocation(o), {\n      document: s,\n      range: t = Et([i, n])\n    };\n  }\n  convertLineBreaksToBlockBreaksInRange(t) {\n    t = Et(t);\n    let _t10 = t,\n      _t11 = _slicedToArray(_t10, 1),\n      e = _t11[0];\n    const i = this.getStringAtRange(t).slice(0, -1);\n    let n = this;\n    return i.replace(/.*?\\n/g, function (t) {\n      e += t.length, n = n.insertBlockBreakAtRange([e - 1, e]);\n    }), {\n      document: n,\n      range: t\n    };\n  }\n  consolidateBlocksAtRange(t) {\n    t = Et(t);\n    const _t12 = t,\n      _t13 = _slicedToArray(_t12, 2),\n      e = _t13[0],\n      i = _t13[1],\n      n = this.locationFromPosition(e).index,\n      r = this.locationFromPosition(i).index;\n    return new this.constructor(this.blockList.consolidateFromIndexToIndex(n, r));\n  }\n  getDocumentAtRange(t) {\n    t = Et(t);\n    const e = this.blockList.getSplittableListInRange(t).toArray();\n    return new this.constructor(e);\n  }\n  getStringAtRange(t) {\n    let e;\n    const i = t = Et(t);\n    return i[i.length - 1] !== this.getLength() && (e = -1), this.getDocumentAtRange(t).toString().slice(0, e);\n  }\n  getBlockAtIndex(t) {\n    return this.blockList.getObjectAtIndex(t);\n  }\n  getBlockAtPosition(t) {\n    const _this$locationFromPos5 = this.locationFromPosition(t),\n      e = _this$locationFromPos5.index;\n    return this.getBlockAtIndex(e);\n  }\n  getTextAtIndex(t) {\n    var e;\n    return null === (e = this.getBlockAtIndex(t)) || void 0 === e ? void 0 : e.text;\n  }\n  getTextAtPosition(t) {\n    const _this$locationFromPos6 = this.locationFromPosition(t),\n      e = _this$locationFromPos6.index;\n    return this.getTextAtIndex(e);\n  }\n  getPieceAtPosition(t) {\n    const _this$locationFromPos7 = this.locationFromPosition(t),\n      e = _this$locationFromPos7.index,\n      i = _this$locationFromPos7.offset;\n    return this.getTextAtIndex(e).getPieceAtPosition(i);\n  }\n  getCharacterAtPosition(t) {\n    const _this$locationFromPos8 = this.locationFromPosition(t),\n      e = _this$locationFromPos8.index,\n      i = _this$locationFromPos8.offset;\n    return this.getTextAtIndex(e).getStringAtRange([i, i + 1]);\n  }\n  getLength() {\n    return this.blockList.getEndPosition();\n  }\n  getBlocks() {\n    return this.blockList.toArray();\n  }\n  getBlockCount() {\n    return this.blockList.length;\n  }\n  getEditCount() {\n    return this.editCount;\n  }\n  eachBlock(t) {\n    return this.blockList.eachObject(t);\n  }\n  eachBlockAtRange(t, e) {\n    let i, n;\n    t = Et(t);\n    const _t14 = t,\n      _t15 = _slicedToArray(_t14, 2),\n      r = _t15[0],\n      o = _t15[1],\n      s = this.locationFromPosition(r),\n      a = this.locationFromPosition(o);\n    if (s.index === a.index) return i = this.getBlockAtIndex(s.index), n = [s.offset, a.offset], e(i, n, s.index);\n    for (let t = s.index; t <= a.index; t++) if (i = this.getBlockAtIndex(t), i) {\n      switch (t) {\n        case s.index:\n          n = [s.offset, i.text.getLength()];\n          break;\n        case a.index:\n          n = [0, a.offset];\n          break;\n        default:\n          n = [0, i.text.getLength()];\n      }\n      e(i, n, t);\n    }\n  }\n  getCommonAttributesAtRange(t) {\n    t = Et(t);\n    const _t16 = t,\n      _t17 = _slicedToArray(_t16, 1),\n      e = _t17[0];\n    if (St(t)) return this.getCommonAttributesAtPosition(e);\n    {\n      const e = [],\n        i = [];\n      return this.eachBlockAtRange(t, function (t, n) {\n        if (n[0] !== n[1]) return e.push(t.text.getCommonAttributesAtRange(n)), i.push(We(t));\n      }), Vt.fromCommonAttributesOfObjects(e).merge(Vt.fromCommonAttributesOfObjects(i)).toObject();\n    }\n  }\n  getCommonAttributesAtPosition(t) {\n    let e, i;\n    const _this$locationFromPos9 = this.locationFromPosition(t),\n      n = _this$locationFromPos9.index,\n      r = _this$locationFromPos9.offset,\n      o = this.getBlockAtIndex(n);\n    if (!o) return {};\n    const s = We(o),\n      a = o.text.getAttributesAtPosition(r),\n      l = o.text.getAttributesAtPosition(r - 1),\n      c = Object.keys(O).filter(t => O[t].inheritable);\n    for (e in l) i = l[e], (i === a[e] || c.includes(e)) && (s[e] = i);\n    return s;\n  }\n  getRangeOfCommonAttributeAtPosition(t, e) {\n    const _this$locationFromPos10 = this.locationFromPosition(e),\n      i = _this$locationFromPos10.index,\n      n = _this$locationFromPos10.offset,\n      r = this.getTextAtIndex(i),\n      _Array$from5 = Array.from(r.getExpandedRangeForAttributeAtOffset(t, n)),\n      _Array$from6 = _slicedToArray(_Array$from5, 2),\n      o = _Array$from6[0],\n      s = _Array$from6[1],\n      a = this.positionFromLocation({\n        index: i,\n        offset: o\n      }),\n      l = this.positionFromLocation({\n        index: i,\n        offset: s\n      });\n    return Et([a, l]);\n  }\n  getBaseBlockAttributes() {\n    let t = this.getBlockAtIndex(0).getAttributes();\n    for (let e = 1; e < this.getBlockCount(); e++) {\n      const i = this.getBlockAtIndex(e).getAttributes(),\n        n = Math.min(t.length, i.length);\n      t = (() => {\n        const e = [];\n        for (let r = 0; r < n && i[r] === t[r]; r++) e.push(i[r]);\n        return e;\n      })();\n    }\n    return t;\n  }\n  getAttachmentById(t) {\n    for (const e of this.getAttachments()) if (e.id === t) return e;\n  }\n  getAttachmentPieces() {\n    let t = [];\n    return this.blockList.eachObject(e => {\n      let i = e.text;\n      return t = t.concat(i.getAttachmentPieces());\n    }), t;\n  }\n  getAttachments() {\n    return this.getAttachmentPieces().map(t => t.attachment);\n  }\n  getRangeOfAttachment(t) {\n    let e = 0;\n    const i = this.blockList.toArray();\n    for (let n = 0; n < i.length; n++) {\n      const r = i[n].text,\n        o = r.getRangeOfAttachment(t);\n      if (o) return Et([e + o[0], e + o[1]]);\n      e += r.getLength();\n    }\n  }\n  getLocationRangeOfAttachment(t) {\n    const e = this.getRangeOfAttachment(t);\n    return this.locationRangeFromRange(e);\n  }\n  getAttachmentPieceForAttachment(t) {\n    for (const e of this.getAttachmentPieces()) if (e.attachment === t) return e;\n  }\n  findRangesForBlockAttribute(t) {\n    let e = 0;\n    const i = [];\n    return this.getBlocks().forEach(n => {\n      const r = n.getLength();\n      n.hasAttribute(t) && i.push([e, e + r]), e += r;\n    }), i;\n  }\n  findRangesForTextAttribute(t) {\n    let _ref9 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref9.withValue,\n      i = 0,\n      n = [];\n    const r = [];\n    return this.getPieces().forEach(o => {\n      const s = o.getLength();\n      (function (i) {\n        return e ? i.getAttribute(t) === e : i.hasAttribute(t);\n      })(o) && (n[1] === i ? n[1] = i + s : r.push(n = [i, i + s])), i += s;\n    }), r;\n  }\n  locationFromPosition(t) {\n    const e = this.blockList.findIndexAndOffsetAtPosition(Math.max(0, t));\n    if (null != e.index) return e;\n    {\n      const t = this.getBlocks();\n      return {\n        index: t.length - 1,\n        offset: t[t.length - 1].getLength()\n      };\n    }\n  }\n  positionFromLocation(t) {\n    return this.blockList.findPositionAtIndexAndOffset(t.index, t.offset);\n  }\n  locationRangeFromPosition(t) {\n    return Et(this.locationFromPosition(t));\n  }\n  locationRangeFromRange(t) {\n    if (!(t = Et(t))) return;\n    const _Array$from7 = Array.from(t),\n      _Array$from8 = _slicedToArray(_Array$from7, 2),\n      e = _Array$from8[0],\n      i = _Array$from8[1],\n      n = this.locationFromPosition(e),\n      r = this.locationFromPosition(i);\n    return Et([n, r]);\n  }\n  rangeFromLocationRange(t) {\n    let e;\n    t = Et(t);\n    const i = this.positionFromLocation(t[0]);\n    return St(t) || (e = this.positionFromLocation(t[1])), Et([i, e]);\n  }\n  isEqualTo(t) {\n    return this.blockList.isEqualTo(null == t ? void 0 : t.blockList);\n  }\n  getTexts() {\n    return this.getBlocks().map(t => t.text);\n  }\n  getPieces() {\n    const t = [];\n    return Array.from(this.getTexts()).forEach(e => {\n      t.push(...Array.from(e.getPieces() || []));\n    }), t;\n  }\n  getObjects() {\n    return this.getBlocks().concat(this.getTexts()).concat(this.getPieces());\n  }\n  toSerializableDocument() {\n    const t = [];\n    return this.blockList.eachObject(e => t.push(e.copyWithText(e.text.toSerializableText()))), new this.constructor(t);\n  }\n  toString() {\n    return this.blockList.toString();\n  }\n  toJSON() {\n    return this.blockList.toJSON();\n  }\n  toConsole() {\n    return JSON.stringify(this.blockList.toArray()).map(t => JSON.parse(t.text.toConsole()));\n  }\n}\nconst We = function (t) {\n    const e = {},\n      i = t.getLastAttribute();\n    return i && (e[i] = !0), e;\n  },\n  Ue = \"style href src width height class\".split(\" \"),\n  qe = \"javascript:\".split(\" \"),\n  Ve = \"script iframe\".split(\" \");\nclass ze extends U {\n  static sanitize(t, e) {\n    const i = new this(t, e);\n    return i.sanitize(), i;\n  }\n  constructor(t) {\n    let _ref10 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref10.allowedAttributes,\n      i = _ref10.forbiddenProtocols,\n      n = _ref10.forbiddenElements;\n    super(...arguments), this.allowedAttributes = e || Ue, this.forbiddenProtocols = i || qe, this.forbiddenElements = n || Ve, this.body = _e(t);\n  }\n  sanitize() {\n    return this.sanitizeElements(), this.normalizeListElementNesting();\n  }\n  getHTML() {\n    return this.body.innerHTML;\n  }\n  getBody() {\n    return this.body;\n  }\n  sanitizeElements() {\n    const t = x(this.body),\n      e = [];\n    for (; t.nextNode();) {\n      const i = t.currentNode;\n      switch (i.nodeType) {\n        case Node.ELEMENT_NODE:\n          this.elementIsRemovable(i) ? e.push(i) : this.sanitizeElement(i);\n          break;\n        case Node.COMMENT_NODE:\n          e.push(i);\n      }\n    }\n    return e.forEach(t => A(t)), this.body;\n  }\n  sanitizeElement(t) {\n    return t.hasAttribute(\"href\") && this.forbiddenProtocols.includes(t.protocol) && t.removeAttribute(\"href\"), Array.from(t.attributes).forEach(e => {\n      let i = e.name;\n      this.allowedAttributes.includes(i) || 0 === i.indexOf(\"data-trix\") || t.removeAttribute(i);\n    }), t;\n  }\n  normalizeListElementNesting() {\n    return Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach(t => {\n      const e = t.previousElementSibling;\n      e && \"li\" === y(e) && e.appendChild(t);\n    }), this.body;\n  }\n  elementIsRemovable(t) {\n    if ((null == t ? void 0 : t.nodeType) === Node.ELEMENT_NODE) return this.elementIsForbidden(t) || this.elementIsntSerializable(t);\n  }\n  elementIsForbidden(t) {\n    return this.forbiddenElements.includes(y(t));\n  }\n  elementIsntSerializable(t) {\n    return \"false\" === t.getAttribute(\"data-trix-serialize\") && !F(t);\n  }\n}\nconst _e = function () {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\";\n    t = t.replace(/<\\/html[^>]*>[^]*$/i, \"</html>\");\n    const e = document.implementation.createHTMLDocument(\"\");\n    return e.documentElement.innerHTML = t, Array.from(e.head.querySelectorAll(\"style\")).forEach(t => {\n      e.body.appendChild(t);\n    }), e.body;\n  },\n  He = function (t) {\n    let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    const i = \"string\";\n    return {\n      string: t = Mt(t),\n      attributes: e,\n      type: i\n    };\n  },\n  Je = (t, e) => {\n    try {\n      return JSON.parse(t.getAttribute(\"data-trix-\".concat(e)));\n    } catch (t) {\n      return {};\n    }\n  };\nclass Ke extends U {\n  static parse(t, e) {\n    const i = new this(t, e);\n    return i.parse(), i;\n  }\n  constructor(t) {\n    let _ref11 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref11.referenceElement;\n    super(...arguments), this.html = t, this.referenceElement = e, this.blocks = [], this.blockElements = [], this.processedElements = [];\n  }\n  getDocument() {\n    return je.fromJSON(this.blocks);\n  }\n  parse() {\n    try {\n      this.createHiddenContainer();\n      const t = ze.sanitize(this.html).getHTML();\n      this.containerElement.innerHTML = t;\n      const e = x(this.containerElement, {\n        usingFilter: Ye\n      });\n      for (; e.nextNode();) this.processNode(e.currentNode);\n      return this.translateBlockElementMarginsToNewlines();\n    } finally {\n      this.removeHiddenContainer();\n    }\n  }\n  createHiddenContainer() {\n    return this.referenceElement ? (this.containerElement = this.referenceElement.cloneNode(!1), this.containerElement.removeAttribute(\"id\"), this.containerElement.setAttribute(\"data-trix-internal\", \"\"), this.containerElement.style.display = \"none\", this.referenceElement.parentNode.insertBefore(this.containerElement, this.referenceElement.nextSibling)) : (this.containerElement = C({\n      tagName: \"div\",\n      style: {\n        display: \"none\"\n      }\n    }), document.body.appendChild(this.containerElement));\n  }\n  removeHiddenContainer() {\n    return A(this.containerElement);\n  }\n  processNode(t) {\n    switch (t.nodeType) {\n      case Node.TEXT_NODE:\n        if (!this.isInsignificantTextNode(t)) return this.appendBlockForTextNode(t), this.processTextNode(t);\n        break;\n      case Node.ELEMENT_NODE:\n        return this.appendBlockForElement(t), this.processElement(t);\n    }\n  }\n  appendBlockForTextNode(t) {\n    const e = t.parentNode;\n    if (e === this.currentBlockElement && this.isBlockElement(t.previousSibling)) return this.appendStringWithAttributes(\"\\n\");\n    if (e === this.containerElement || this.isBlockElement(e)) {\n      var i;\n      const t = this.getBlockAttributes(e);\n      et(t, null === (i = this.currentBlock) || void 0 === i ? void 0 : i.attributes) || (this.currentBlock = this.appendBlockForAttributesWithElement(t, e), this.currentBlockElement = e);\n    }\n  }\n  appendBlockForElement(t) {\n    const e = this.isBlockElement(t),\n      i = b(this.currentBlockElement, t);\n    if (e && !this.isBlockElement(t.firstChild)) {\n      if (!this.isInsignificantTextNode(t.firstChild) || !this.isBlockElement(t.firstElementChild)) {\n        const e = this.getBlockAttributes(t);\n        if (t.firstChild) {\n          if (i && et(e, this.currentBlock.attributes)) return this.appendStringWithAttributes(\"\\n\");\n          this.currentBlock = this.appendBlockForAttributesWithElement(e, t), this.currentBlockElement = t;\n        }\n      }\n    } else if (this.currentBlockElement && !i && !e) {\n      const e = this.findParentBlockElement(t);\n      if (e) return this.appendBlockForElement(e);\n      this.currentBlock = this.appendEmptyBlock(), this.currentBlockElement = null;\n    }\n  }\n  findParentBlockElement(t) {\n    let e = t.parentElement;\n    for (; e && e !== this.containerElement;) {\n      if (this.isBlockElement(e) && this.blockElements.includes(e)) return e;\n      e = e.parentElement;\n    }\n    return null;\n  }\n  processTextNode(t) {\n    let e = t.data;\n    var i;\n    Ge(t.parentNode) || (e = Wt(e), ti(null === (i = t.previousSibling) || void 0 === i ? void 0 : i.textContent) && (e = Qe(e)));\n    return this.appendStringWithAttributes(e, this.getTextAttributes(t.parentNode));\n  }\n  processElement(t) {\n    let e;\n    if (F(t)) {\n      if (e = Je(t, \"attachment\"), Object.keys(e).length) {\n        const i = this.getTextAttributes(t);\n        this.appendAttachmentWithAttributes(e, i), t.innerHTML = \"\";\n      }\n      return this.processedElements.push(t);\n    }\n    switch (y(t)) {\n      case \"br\":\n        return this.isExtraBR(t) || this.isBlockElement(t.nextSibling) || this.appendStringWithAttributes(\"\\n\", this.getTextAttributes(t)), this.processedElements.push(t);\n      case \"img\":\n        e = {\n          url: t.getAttribute(\"src\"),\n          contentType: \"image\"\n        };\n        const i = (t => {\n          const e = t.getAttribute(\"width\"),\n            i = t.getAttribute(\"height\"),\n            n = {};\n          return e && (n.width = parseInt(e, 10)), i && (n.height = parseInt(i, 10)), n;\n        })(t);\n        for (const t in i) {\n          const n = i[t];\n          e[t] = n;\n        }\n        return this.appendAttachmentWithAttributes(e, this.getTextAttributes(t)), this.processedElements.push(t);\n      case \"tr\":\n        if (this.needsTableSeparator(t)) return this.appendStringWithAttributes(N.tableRowSeparator);\n        break;\n      case \"td\":\n        if (this.needsTableSeparator(t)) return this.appendStringWithAttributes(N.tableCellSeparator);\n    }\n  }\n  appendBlockForAttributesWithElement(t, e) {\n    this.blockElements.push(e);\n    const i = function () {\n      return {\n        text: [],\n        attributes: arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}\n      };\n    }(t);\n    return this.blocks.push(i), i;\n  }\n  appendEmptyBlock() {\n    return this.appendBlockForAttributesWithElement([], null);\n  }\n  appendStringWithAttributes(t, e) {\n    return this.appendPiece(He(t, e));\n  }\n  appendAttachmentWithAttributes(t, e) {\n    return this.appendPiece(function (t) {\n      return {\n        attachment: t,\n        attributes: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        type: \"attachment\"\n      };\n    }(t, e));\n  }\n  appendPiece(t) {\n    return 0 === this.blocks.length && this.appendEmptyBlock(), this.blocks[this.blocks.length - 1].text.push(t);\n  }\n  appendStringToTextAtIndex(t, e) {\n    const i = this.blocks[e].text,\n      n = i[i.length - 1];\n    if (\"string\" !== (null == n ? void 0 : n.type)) return i.push(He(t));\n    n.string += t;\n  }\n  prependStringToTextAtIndex(t, e) {\n    const i = this.blocks[e].text,\n      n = i[0];\n    if (\"string\" !== (null == n ? void 0 : n.type)) return i.unshift(He(t));\n    n.string = t + n.string;\n  }\n  getTextAttributes(t) {\n    let e;\n    const i = {};\n    for (const n in O) {\n      const r = O[n];\n      if (r.tagName && p(t, {\n        matchingSelector: r.tagName,\n        untilNode: this.containerElement\n      })) i[n] = !0;else if (r.parser) {\n        if (e = r.parser(t), e) {\n          let o = !1;\n          for (const i of this.findBlockElementAncestors(t)) if (r.parser(i) === e) {\n            o = !0;\n            break;\n          }\n          o || (i[n] = e);\n        }\n      } else r.styleProperty && (e = t.style[r.styleProperty], e && (i[n] = e));\n    }\n    if (F(t)) {\n      const n = Je(t, \"attributes\");\n      for (const t in n) e = n[t], i[t] = e;\n    }\n    return i;\n  }\n  getBlockAttributes(t) {\n    const i = [];\n    for (; t && t !== this.containerElement;) {\n      for (const r in e) {\n        const o = e[r];\n        var n;\n        if (!1 !== o.parse) if (y(t) === o.tagName) (null !== (n = o.test) && void 0 !== n && n.call(o, t) || !o.test) && (i.push(r), o.listAttribute && i.push(o.listAttribute));\n      }\n      t = t.parentNode;\n    }\n    return i.reverse();\n  }\n  findBlockElementAncestors(t) {\n    const e = [];\n    for (; t && t !== this.containerElement;) {\n      const i = y(t);\n      E().includes(i) && e.push(t), t = t.parentNode;\n    }\n    return e;\n  }\n  isBlockElement(t) {\n    if ((null == t ? void 0 : t.nodeType) === Node.ELEMENT_NODE && !F(t) && !p(t, {\n      matchingSelector: \"td\",\n      untilNode: this.containerElement\n    })) return E().includes(y(t)) || \"block\" === window.getComputedStyle(t).display;\n  }\n  isInsignificantTextNode(t) {\n    if ((null == t ? void 0 : t.nodeType) !== Node.TEXT_NODE) return;\n    if (!Ze(t.data)) return;\n    const e = t.parentNode,\n      i = t.previousSibling,\n      n = t.nextSibling;\n    return $e(e.previousSibling) && !this.isBlockElement(e.previousSibling) || Ge(e) ? void 0 : !i || this.isBlockElement(i) || !n || this.isBlockElement(n);\n  }\n  isExtraBR(t) {\n    return \"br\" === y(t) && this.isBlockElement(t.parentNode) && t.parentNode.lastChild === t;\n  }\n  needsTableSeparator(t) {\n    if (N.removeBlankTableCells) {\n      var e;\n      const i = null === (e = t.previousSibling) || void 0 === e ? void 0 : e.textContent;\n      return i && /\\S/.test(i);\n    }\n    return t.previousSibling;\n  }\n  translateBlockElementMarginsToNewlines() {\n    const t = this.getMarginOfDefaultBlockElement();\n    for (let e = 0; e < this.blocks.length; e++) {\n      const i = this.getMarginOfBlockElementAtIndex(e);\n      i && (i.top > 2 * t.top && this.prependStringToTextAtIndex(\"\\n\", e), i.bottom > 2 * t.bottom && this.appendStringToTextAtIndex(\"\\n\", e));\n    }\n  }\n  getMarginOfBlockElementAtIndex(t) {\n    const e = this.blockElements[t];\n    if (e && e.textContent && !E().includes(y(e)) && !this.processedElements.includes(e)) return Xe(e);\n  }\n  getMarginOfDefaultBlockElement() {\n    const t = C(e.default.tagName);\n    return this.containerElement.appendChild(t), Xe(t);\n  }\n}\nconst Ge = function (t) {\n    const _window$getComputedSt = window.getComputedStyle(t),\n      e = _window$getComputedSt.whiteSpace;\n    return [\"pre\", \"pre-wrap\", \"pre-line\"].includes(e);\n  },\n  $e = t => t && !ti(t.textContent),\n  Xe = function (t) {\n    const e = window.getComputedStyle(t);\n    if (\"block\" === e.display) return {\n      top: parseInt(e.marginTop),\n      bottom: parseInt(e.marginBottom)\n    };\n  },\n  Ye = function (t) {\n    return \"style\" === y(t) ? NodeFilter.FILTER_REJECT : NodeFilter.FILTER_ACCEPT;\n  },\n  Qe = t => t.replace(new RegExp(\"^\".concat(jt.source, \"+\")), \"\"),\n  Ze = t => new RegExp(\"^\".concat(jt.source, \"*$\")).test(t),\n  ti = t => /\\s$/.test(t),\n  ei = [\"contenteditable\", \"data-trix-id\", \"data-trix-store-key\", \"data-trix-mutable\", \"data-trix-placeholder\", \"tabindex\"],\n  ii = \"[\".concat(\"data-trix-serialized-attributes\", \"]\"),\n  ni = new RegExp(\"\\x3c!--block--\\x3e\", \"g\"),\n  ri = {\n    \"application/json\": function (t) {\n      let e;\n      if (t instanceof je) e = t;else {\n        if (!(t instanceof HTMLElement)) throw new Error(\"unserializable object\");\n        e = Ke.parse(t.innerHTML).getDocument();\n      }\n      return e.toSerializableDocument().toJSONString();\n    },\n    \"text/html\": function (t) {\n      let e;\n      if (t instanceof je) e = ue.render(t);else {\n        if (!(t instanceof HTMLElement)) throw new Error(\"unserializable object\");\n        e = t.cloneNode(!0);\n      }\n      return Array.from(e.querySelectorAll(\"[data-trix-serialize=false]\")).forEach(t => {\n        A(t);\n      }), ei.forEach(t => {\n        Array.from(e.querySelectorAll(\"[\".concat(t, \"]\"))).forEach(e => {\n          e.removeAttribute(t);\n        });\n      }), Array.from(e.querySelectorAll(ii)).forEach(t => {\n        try {\n          const e = JSON.parse(t.getAttribute(\"data-trix-serialized-attributes\"));\n          t.removeAttribute(\"data-trix-serialized-attributes\");\n          for (const i in e) {\n            const n = e[i];\n            t.setAttribute(i, n);\n          }\n        } catch (t) {}\n      }), e.innerHTML.replace(ni, \"\");\n    }\n  };\nvar oi = Object.freeze({\n  __proto__: null\n});\nclass si extends U {\n  constructor(t, e) {\n    super(...arguments), this.attachmentManager = t, this.attachment = e, this.id = this.attachment.id, this.file = this.attachment.file;\n  }\n  remove() {\n    return this.attachmentManager.requestRemovalOfAttachment(this.attachment);\n  }\n}\nsi.proxyMethod(\"attachment.getAttribute\"), si.proxyMethod(\"attachment.hasAttribute\"), si.proxyMethod(\"attachment.setAttribute\"), si.proxyMethod(\"attachment.getAttributes\"), si.proxyMethod(\"attachment.setAttributes\"), si.proxyMethod(\"attachment.isPending\"), si.proxyMethod(\"attachment.isPreviewable\"), si.proxyMethod(\"attachment.getURL\"), si.proxyMethod(\"attachment.getHref\"), si.proxyMethod(\"attachment.getFilename\"), si.proxyMethod(\"attachment.getFilesize\"), si.proxyMethod(\"attachment.getFormattedFilesize\"), si.proxyMethod(\"attachment.getExtension\"), si.proxyMethod(\"attachment.getContentType\"), si.proxyMethod(\"attachment.getFile\"), si.proxyMethod(\"attachment.setFile\"), si.proxyMethod(\"attachment.releaseFile\"), si.proxyMethod(\"attachment.getUploadProgress\"), si.proxyMethod(\"attachment.setUploadProgress\");\nclass ai extends U {\n  constructor() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n    super(...arguments), this.managedAttachments = {}, Array.from(t).forEach(t => {\n      this.manageAttachment(t);\n    });\n  }\n  getAttachments() {\n    const t = [];\n    for (const e in this.managedAttachments) {\n      const i = this.managedAttachments[e];\n      t.push(i);\n    }\n    return t;\n  }\n  manageAttachment(t) {\n    return this.managedAttachments[t.id] || (this.managedAttachments[t.id] = new si(this, t)), this.managedAttachments[t.id];\n  }\n  attachmentIsManaged(t) {\n    return t.id in this.managedAttachments;\n  }\n  requestRemovalOfAttachment(t) {\n    var e, i;\n    if (this.attachmentIsManaged(t)) return null === (e = this.delegate) || void 0 === e || null === (i = e.attachmentManagerDidRequestRemovalOfAttachment) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  unmanageAttachment(t) {\n    const e = this.managedAttachments[t.id];\n    return delete this.managedAttachments[t.id], e;\n  }\n}\nclass li {\n  constructor(t) {\n    this.composition = t, this.document = this.composition.document;\n    const e = this.composition.getSelectedRange();\n    this.startPosition = e[0], this.endPosition = e[1], this.startLocation = this.document.locationFromPosition(this.startPosition), this.endLocation = this.document.locationFromPosition(this.endPosition), this.block = this.document.getBlockAtIndex(this.endLocation.index), this.breaksOnReturn = this.block.breaksOnReturn(), this.previousCharacter = this.block.text.getStringAtPosition(this.endLocation.offset - 1), this.nextCharacter = this.block.text.getStringAtPosition(this.endLocation.offset);\n  }\n  shouldInsertBlockBreak() {\n    return this.block.hasAttributes() && this.block.isListItem() && !this.block.isEmpty() ? 0 !== this.startLocation.offset : this.breaksOnReturn && \"\\n\" !== this.nextCharacter;\n  }\n  shouldBreakFormattedBlock() {\n    return this.block.hasAttributes() && !this.block.isListItem() && (this.breaksOnReturn && \"\\n\" === this.nextCharacter || \"\\n\" === this.previousCharacter);\n  }\n  shouldDecreaseListLevel() {\n    return this.block.hasAttributes() && this.block.isListItem() && this.block.isEmpty();\n  }\n  shouldPrependListItem() {\n    return this.block.isListItem() && 0 === this.startLocation.offset && !this.block.isEmpty();\n  }\n  shouldRemoveLastBlockAttribute() {\n    return this.block.hasAttributes() && !this.block.isListItem() && this.block.isEmpty();\n  }\n}\nclass ci extends U {\n  constructor() {\n    super(...arguments), this.document = new je(), this.attachments = [], this.currentAttributes = {}, this.revision = 0;\n  }\n  setDocument(t) {\n    var e, i;\n    if (!t.isEqualTo(this.document)) return this.document = t, this.refreshAttachments(), this.revision++, null === (e = this.delegate) || void 0 === e || null === (i = e.compositionDidChangeDocument) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.getSelectedRange()\n    };\n  }\n  loadSnapshot(t) {\n    var e, i, n, r;\n    let o = t.document,\n      s = t.selectedRange;\n    return null === (e = this.delegate) || void 0 === e || null === (i = e.compositionWillLoadSnapshot) || void 0 === i || i.call(e), this.setDocument(null != o ? o : new je()), this.setSelection(null != s ? s : [0, 0]), null === (n = this.delegate) || void 0 === n || null === (r = n.compositionDidLoadSnapshot) || void 0 === r ? void 0 : r.call(n);\n  }\n  insertText(t) {\n    let _ref12 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n        updatePosition: !0\n      },\n      e = _ref12.updatePosition;\n    const i = this.getSelectedRange();\n    this.setDocument(this.document.insertTextAtRange(t, i));\n    const n = i[0],\n      r = n + t.getLength();\n    return e && this.setSelection(r), this.notifyDelegateOfInsertionAtRange([n, r]);\n  }\n  insertBlock() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new De();\n    const e = new je([t]);\n    return this.insertDocument(e);\n  }\n  insertDocument() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new je();\n    const e = this.getSelectedRange();\n    this.setDocument(this.document.insertDocumentAtRange(t, e));\n    const i = e[0],\n      n = i + t.getLength();\n    return this.setSelection(n), this.notifyDelegateOfInsertionAtRange([i, n]);\n  }\n  insertString(t, e) {\n    const i = this.getCurrentTextAttributes(),\n      n = Le.textForStringWithAttributes(t, i);\n    return this.insertText(n, e);\n  }\n  insertBlockBreak() {\n    const t = this.getSelectedRange();\n    this.setDocument(this.document.insertBlockBreakAtRange(t));\n    const e = t[0],\n      i = e + 1;\n    return this.setSelection(i), this.notifyDelegateOfInsertionAtRange([e, i]);\n  }\n  insertLineBreak() {\n    const t = new li(this);\n    if (t.shouldDecreaseListLevel()) return this.decreaseListLevel(), this.setSelection(t.startPosition);\n    if (t.shouldPrependListItem()) {\n      const e = new je([t.block.copyWithoutText()]);\n      return this.insertDocument(e);\n    }\n    return t.shouldInsertBlockBreak() ? this.insertBlockBreak() : t.shouldRemoveLastBlockAttribute() ? this.removeLastBlockAttribute() : t.shouldBreakFormattedBlock() ? this.breakFormattedBlock(t) : this.insertString(\"\\n\");\n  }\n  insertHTML(t) {\n    const e = Ke.parse(t).getDocument(),\n      i = this.getSelectedRange();\n    this.setDocument(this.document.mergeDocumentAtRange(e, i));\n    const n = i[0],\n      r = n + e.getLength() - 1;\n    return this.setSelection(r), this.notifyDelegateOfInsertionAtRange([n, r]);\n  }\n  replaceHTML(t) {\n    const e = Ke.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),\n      i = this.getLocationRange({\n        strict: !1\n      }),\n      n = this.document.rangeFromLocationRange(i);\n    return this.setDocument(e), this.setSelection(n);\n  }\n  insertFile(t) {\n    return this.insertFiles([t]);\n  }\n  insertFiles(t) {\n    const e = [];\n    return Array.from(t).forEach(t => {\n      var i;\n      if (null !== (i = this.delegate) && void 0 !== i && i.compositionShouldAcceptFile(t)) {\n        const i = xe.attachmentForFile(t);\n        e.push(i);\n      }\n    }), this.insertAttachments(e);\n  }\n  insertAttachment(t) {\n    return this.insertAttachments([t]);\n  }\n  insertAttachments(e) {\n    let i = new Le();\n    return Array.from(e).forEach(e => {\n      var n;\n      const r = e.getType(),\n        o = null === (n = t[r]) || void 0 === n ? void 0 : n.presentation,\n        s = this.getCurrentTextAttributes();\n      o && (s.presentation = o);\n      const a = Le.textForAttachmentWithAttributes(e, s);\n      i = i.appendText(a);\n    }), this.insertText(i);\n  }\n  shouldManageDeletingInDirection(t) {\n    const e = this.getLocationRange();\n    if (St(e)) {\n      if (\"backward\" === t && 0 === e[0].offset) return !0;\n      if (this.shouldManageMovingCursorInDirection(t)) return !0;\n    } else if (e[0].index !== e[1].index) return !0;\n    return !1;\n  }\n  deleteInDirection(t) {\n    let e,\n      i,\n      n,\n      _ref13 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      r = _ref13.length;\n    const o = this.getLocationRange();\n    let s = this.getSelectedRange();\n    const a = St(s);\n    if (a ? i = \"backward\" === t && 0 === o[0].offset : n = o[0].index !== o[1].index, i && this.canDecreaseBlockAttributeLevel()) {\n      const t = this.getBlock();\n      if (t.isListItem() ? this.decreaseListLevel() : this.decreaseBlockAttributeLevel(), this.setSelection(s[0]), t.isEmpty()) return !1;\n    }\n    return a && (s = this.getExpandedRangeInDirection(t, {\n      length: r\n    }), \"backward\" === t && (e = this.getAttachmentAtRange(s))), e ? (this.editAttachment(e), !1) : (this.setDocument(this.document.removeTextAtRange(s)), this.setSelection(s[0]), !i && !n && void 0);\n  }\n  moveTextFromRange(t) {\n    const _Array$from9 = Array.from(this.getSelectedRange()),\n      _Array$from10 = _slicedToArray(_Array$from9, 1),\n      e = _Array$from10[0];\n    return this.setDocument(this.document.moveTextFromRangeToPosition(t, e)), this.setSelection(e);\n  }\n  removeAttachment(t) {\n    const e = this.document.getRangeOfAttachment(t);\n    if (e) return this.stopEditingAttachment(), this.setDocument(this.document.removeTextAtRange(e)), this.setSelection(e[0]);\n  }\n  removeLastBlockAttribute() {\n    const _Array$from11 = Array.from(this.getSelectedRange()),\n      _Array$from12 = _slicedToArray(_Array$from11, 2),\n      t = _Array$from12[0],\n      e = _Array$from12[1],\n      i = this.document.getBlockAtPosition(e);\n    return this.removeCurrentAttribute(i.getLastAttribute()), this.setSelection(t);\n  }\n  insertPlaceholder() {\n    return this.placeholderPosition = this.getPosition(), this.insertString(\" \");\n  }\n  selectPlaceholder() {\n    if (null != this.placeholderPosition) return this.setSelectedRange([this.placeholderPosition, this.placeholderPosition + \" \".length]), this.getSelectedRange();\n  }\n  forgetPlaceholder() {\n    this.placeholderPosition = null;\n  }\n  hasCurrentAttribute(t) {\n    const e = this.currentAttributes[t];\n    return null != e && !1 !== e;\n  }\n  toggleCurrentAttribute(t) {\n    const e = !this.currentAttributes[t];\n    return e ? this.setCurrentAttribute(t, e) : this.removeCurrentAttribute(t);\n  }\n  canSetCurrentAttribute(t) {\n    return ht(t) ? this.canSetCurrentBlockAttribute(t) : this.canSetCurrentTextAttribute(t);\n  }\n  canSetCurrentTextAttribute(t) {\n    const e = this.getSelectedDocument();\n    if (e) {\n      for (const t of Array.from(e.getAttachments())) if (!t.hasContent()) return !1;\n      return !0;\n    }\n  }\n  canSetCurrentBlockAttribute(t) {\n    const e = this.getBlock();\n    if (e) return !e.isTerminalBlock();\n  }\n  setCurrentAttribute(t, e) {\n    return ht(t) ? this.setBlockAttribute(t, e) : (this.setTextAttribute(t, e), this.currentAttributes[t] = e, this.notifyDelegateOfCurrentAttributesChange());\n  }\n  setTextAttribute(t, e) {\n    const i = this.getSelectedRange();\n    if (!i) return;\n    const _Array$from13 = Array.from(i),\n      _Array$from14 = _slicedToArray(_Array$from13, 2),\n      n = _Array$from14[0],\n      r = _Array$from14[1];\n    if (n !== r) return this.setDocument(this.document.addAttributeAtRange(t, e, i));\n    if (\"href\" === t) {\n      const t = Le.textForStringWithAttributes(e, {\n        href: e\n      });\n      return this.insertText(t);\n    }\n  }\n  setBlockAttribute(t, e) {\n    const i = this.getSelectedRange();\n    if (this.canSetCurrentAttribute(t)) return this.setDocument(this.document.applyBlockAttributeAtRange(t, e, i)), this.setSelection(i);\n  }\n  removeCurrentAttribute(t) {\n    return ht(t) ? (this.removeBlockAttribute(t), this.updateCurrentAttributes()) : (this.removeTextAttribute(t), delete this.currentAttributes[t], this.notifyDelegateOfCurrentAttributesChange());\n  }\n  removeTextAttribute(t) {\n    const e = this.getSelectedRange();\n    if (e) return this.setDocument(this.document.removeAttributeAtRange(t, e));\n  }\n  removeBlockAttribute(t) {\n    const e = this.getSelectedRange();\n    if (e) return this.setDocument(this.document.removeAttributeAtRange(t, e));\n  }\n  canDecreaseNestingLevel() {\n    var t;\n    return (null === (t = this.getBlock()) || void 0 === t ? void 0 : t.getNestingLevel()) > 0;\n  }\n  canIncreaseNestingLevel() {\n    var t;\n    const e = this.getBlock();\n    if (e) {\n      if (null === (t = ht(e.getLastNestableAttribute())) || void 0 === t || !t.listAttribute) return e.getNestingLevel() > 0;\n      {\n        const t = this.getPreviousBlock();\n        if (t) return function () {\n          let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n          return et((arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).slice(0, t.length), t);\n        }(t.getListItemAttributes(), e.getListItemAttributes());\n      }\n    }\n  }\n  decreaseNestingLevel() {\n    const t = this.getBlock();\n    if (t) return this.setDocument(this.document.replaceBlock(t, t.decreaseNestingLevel()));\n  }\n  increaseNestingLevel() {\n    const t = this.getBlock();\n    if (t) return this.setDocument(this.document.replaceBlock(t, t.increaseNestingLevel()));\n  }\n  canDecreaseBlockAttributeLevel() {\n    var t;\n    return (null === (t = this.getBlock()) || void 0 === t ? void 0 : t.getAttributeLevel()) > 0;\n  }\n  decreaseBlockAttributeLevel() {\n    var t;\n    const e = null === (t = this.getBlock()) || void 0 === t ? void 0 : t.getLastAttribute();\n    if (e) return this.removeCurrentAttribute(e);\n  }\n  decreaseListLevel() {\n    let _Array$from15 = Array.from(this.getSelectedRange()),\n      _Array$from16 = _slicedToArray(_Array$from15, 1),\n      t = _Array$from16[0];\n    const _this$document$locati = this.document.locationFromPosition(t),\n      e = _this$document$locati.index;\n    let i = e;\n    const n = this.getBlock().getAttributeLevel();\n    let r = this.document.getBlockAtIndex(i + 1);\n    for (; r && r.isListItem() && !(r.getAttributeLevel() <= n);) i++, r = this.document.getBlockAtIndex(i + 1);\n    t = this.document.positionFromLocation({\n      index: e,\n      offset: 0\n    });\n    const o = this.document.positionFromLocation({\n      index: i,\n      offset: 0\n    });\n    return this.setDocument(this.document.removeLastListAttributeAtRange([t, o]));\n  }\n  updateCurrentAttributes() {\n    const t = this.getSelectedRange({\n      ignoreLock: !0\n    });\n    if (t) {\n      const e = this.document.getCommonAttributesAtRange(t);\n      if (Array.from(ct()).forEach(t => {\n        e[t] || this.canSetCurrentAttribute(t) || (e[t] = !1);\n      }), !Rt(e, this.currentAttributes)) return this.currentAttributes = e, this.notifyDelegateOfCurrentAttributesChange();\n    }\n  }\n  getCurrentAttributes() {\n    return c.call({}, this.currentAttributes);\n  }\n  getCurrentTextAttributes() {\n    const t = {};\n    for (const e in this.currentAttributes) {\n      const i = this.currentAttributes[e];\n      !1 !== i && dt(e) && (t[e] = i);\n    }\n    return t;\n  }\n  freezeSelection() {\n    return this.setCurrentAttribute(\"frozen\", !0);\n  }\n  thawSelection() {\n    return this.removeCurrentAttribute(\"frozen\");\n  }\n  hasFrozenSelection() {\n    return this.hasCurrentAttribute(\"frozen\");\n  }\n  setSelection(t) {\n    var e;\n    const i = this.document.locationRangeFromRange(t);\n    return null === (e = this.delegate) || void 0 === e ? void 0 : e.compositionDidRequestChangingSelectionToLocationRange(i);\n  }\n  getSelectedRange() {\n    const t = this.getLocationRange();\n    if (t) return this.document.rangeFromLocationRange(t);\n  }\n  setSelectedRange(t) {\n    const e = this.document.locationRangeFromRange(t);\n    return this.getSelectionManager().setLocationRange(e);\n  }\n  getPosition() {\n    const t = this.getLocationRange();\n    if (t) return this.document.positionFromLocation(t[0]);\n  }\n  getLocationRange(t) {\n    return this.targetLocationRange ? this.targetLocationRange : this.getSelectionManager().getLocationRange(t) || Et({\n      index: 0,\n      offset: 0\n    });\n  }\n  withTargetLocationRange(t, e) {\n    let i;\n    this.targetLocationRange = t;\n    try {\n      i = e();\n    } finally {\n      this.targetLocationRange = null;\n    }\n    return i;\n  }\n  withTargetRange(t, e) {\n    const i = this.document.locationRangeFromRange(t);\n    return this.withTargetLocationRange(i, e);\n  }\n  withTargetDOMRange(t, e) {\n    const i = this.createLocationRangeFromDOMRange(t, {\n      strict: !1\n    });\n    return this.withTargetLocationRange(i, e);\n  }\n  getExpandedRangeInDirection(t) {\n    let _ref14 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref14.length,\n      _Array$from17 = Array.from(this.getSelectedRange()),\n      _Array$from18 = _slicedToArray(_Array$from17, 2),\n      i = _Array$from18[0],\n      n = _Array$from18[1];\n    return \"backward\" === t ? e ? i -= e : i = this.translateUTF16PositionFromOffset(i, -1) : e ? n += e : n = this.translateUTF16PositionFromOffset(n, 1), Et([i, n]);\n  }\n  shouldManageMovingCursorInDirection(t) {\n    if (this.editingAttachment) return !0;\n    const e = this.getExpandedRangeInDirection(t);\n    return null != this.getAttachmentAtRange(e);\n  }\n  moveCursorInDirection(t) {\n    let e, i;\n    if (this.editingAttachment) i = this.document.getRangeOfAttachment(this.editingAttachment);else {\n      const n = this.getSelectedRange();\n      i = this.getExpandedRangeInDirection(t), e = !kt(n, i);\n    }\n    if (\"backward\" === t ? this.setSelectedRange(i[0]) : this.setSelectedRange(i[1]), e) {\n      const t = this.getAttachmentAtRange(i);\n      if (t) return this.editAttachment(t);\n    }\n  }\n  expandSelectionInDirection(t) {\n    let _ref15 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref15.length;\n    const i = this.getExpandedRangeInDirection(t, {\n      length: e\n    });\n    return this.setSelectedRange(i);\n  }\n  expandSelectionForEditing() {\n    if (this.hasCurrentAttribute(\"href\")) return this.expandSelectionAroundCommonAttribute(\"href\");\n  }\n  expandSelectionAroundCommonAttribute(t) {\n    const e = this.getPosition(),\n      i = this.document.getRangeOfCommonAttributeAtPosition(t, e);\n    return this.setSelectedRange(i);\n  }\n  selectionContainsAttachments() {\n    var t;\n    return (null === (t = this.getSelectedAttachments()) || void 0 === t ? void 0 : t.length) > 0;\n  }\n  selectionIsInCursorTarget() {\n    return this.editingAttachment || this.positionIsCursorTarget(this.getPosition());\n  }\n  positionIsCursorTarget(t) {\n    const e = this.document.locationFromPosition(t);\n    if (e) return this.locationIsCursorTarget(e);\n  }\n  positionIsBlockBreak(t) {\n    var e;\n    return null === (e = this.document.getPieceAtPosition(t)) || void 0 === e ? void 0 : e.isBlockBreak();\n  }\n  getSelectedDocument() {\n    const t = this.getSelectedRange();\n    if (t) return this.document.getDocumentAtRange(t);\n  }\n  getSelectedAttachments() {\n    var t;\n    return null === (t = this.getSelectedDocument()) || void 0 === t ? void 0 : t.getAttachments();\n  }\n  getAttachments() {\n    return this.attachments.slice(0);\n  }\n  refreshAttachments() {\n    const t = this.document.getAttachments(),\n      _ref16 = function () {\n        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],\n          e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n        const i = [],\n          n = [],\n          r = new Set();\n        t.forEach(t => {\n          r.add(t);\n        });\n        const o = new Set();\n        return e.forEach(t => {\n          o.add(t), r.has(t) || i.push(t);\n        }), t.forEach(t => {\n          o.has(t) || n.push(t);\n        }), {\n          added: i,\n          removed: n\n        };\n      }(this.attachments, t),\n      e = _ref16.added,\n      i = _ref16.removed;\n    return this.attachments = t, Array.from(i).forEach(t => {\n      var e, i;\n      t.delegate = null, null === (e = this.delegate) || void 0 === e || null === (i = e.compositionDidRemoveAttachment) || void 0 === i || i.call(e, t);\n    }), (() => {\n      const t = [];\n      return Array.from(e).forEach(e => {\n        var i, n;\n        e.delegate = this, t.push(null === (i = this.delegate) || void 0 === i || null === (n = i.compositionDidAddAttachment) || void 0 === n ? void 0 : n.call(i, e));\n      }), t;\n    })();\n  }\n  attachmentDidChangeAttributes(t) {\n    var e, i;\n    return this.revision++, null === (e = this.delegate) || void 0 === e || null === (i = e.compositionDidEditAttachment) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  attachmentDidChangePreviewURL(t) {\n    var e, i;\n    return this.revision++, null === (e = this.delegate) || void 0 === e || null === (i = e.compositionDidChangeAttachmentPreviewURL) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  editAttachment(t, e) {\n    var i, n;\n    if (t !== this.editingAttachment) return this.stopEditingAttachment(), this.editingAttachment = t, null === (i = this.delegate) || void 0 === i || null === (n = i.compositionDidStartEditingAttachment) || void 0 === n ? void 0 : n.call(i, this.editingAttachment, e);\n  }\n  stopEditingAttachment() {\n    var t, e;\n    this.editingAttachment && (null === (t = this.delegate) || void 0 === t || null === (e = t.compositionDidStopEditingAttachment) || void 0 === e || e.call(t, this.editingAttachment), this.editingAttachment = null);\n  }\n  updateAttributesForAttachment(t, e) {\n    return this.setDocument(this.document.updateAttributesForAttachment(t, e));\n  }\n  removeAttributeForAttachment(t, e) {\n    return this.setDocument(this.document.removeAttributeForAttachment(t, e));\n  }\n  breakFormattedBlock(t) {\n    let e = t.document;\n    const i = t.block;\n    let n = t.startPosition,\n      r = [n - 1, n];\n    i.getBlockBreakPosition() === t.startLocation.offset ? (i.breaksOnReturn() && \"\\n\" === t.nextCharacter ? n += 1 : e = e.removeTextAtRange(r), r = [n, n]) : \"\\n\" === t.nextCharacter ? \"\\n\" === t.previousCharacter ? r = [n - 1, n + 1] : (r = [n, n + 1], n += 1) : t.startLocation.offset - 1 != 0 && (n += 1);\n    const o = new je([i.removeLastAttribute().copyWithoutText()]);\n    return this.setDocument(e.insertDocumentAtRange(o, r)), this.setSelection(n);\n  }\n  getPreviousBlock() {\n    const t = this.getLocationRange();\n    if (t) {\n      const e = t[0].index;\n      if (e > 0) return this.document.getBlockAtIndex(e - 1);\n    }\n  }\n  getBlock() {\n    const t = this.getLocationRange();\n    if (t) return this.document.getBlockAtIndex(t[0].index);\n  }\n  getAttachmentAtRange(t) {\n    const e = this.document.getDocumentAtRange(t);\n    if (e.toString() === \"\".concat(\"￼\", \"\\n\")) return e.getAttachments()[0];\n  }\n  notifyDelegateOfCurrentAttributesChange() {\n    var t, e;\n    return null === (t = this.delegate) || void 0 === t || null === (e = t.compositionDidChangeCurrentAttributes) || void 0 === e ? void 0 : e.call(t, this.currentAttributes);\n  }\n  notifyDelegateOfInsertionAtRange(t) {\n    var e, i;\n    return null === (e = this.delegate) || void 0 === e || null === (i = e.compositionDidPerformInsertionAtRange) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  translateUTF16PositionFromOffset(t, e) {\n    const i = this.document.toUTF16String(),\n      n = i.offsetFromUCS2Offset(t);\n    return i.offsetToUCS2Offset(n + e);\n  }\n}\nci.proxyMethod(\"getSelectionManager().getPointRange\"), ci.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\"), ci.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\"), ci.proxyMethod(\"getSelectionManager().locationIsCursorTarget\"), ci.proxyMethod(\"getSelectionManager().selectionIsExpanded\"), ci.proxyMethod(\"delegate?.getSelectionManager\");\nclass hi extends U {\n  constructor(t) {\n    super(...arguments), this.composition = t, this.undoEntries = [], this.redoEntries = [];\n  }\n  recordUndoEntry(t) {\n    let _ref17 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref17.context,\n      i = _ref17.consolidatable;\n    const n = this.undoEntries.slice(-1)[0];\n    if (!i || !ui(n, t, e)) {\n      const i = this.createEntry({\n        description: t,\n        context: e\n      });\n      this.undoEntries.push(i), this.redoEntries = [];\n    }\n  }\n  undo() {\n    const t = this.undoEntries.pop();\n    if (t) {\n      const e = this.createEntry(t);\n      return this.redoEntries.push(e), this.composition.loadSnapshot(t.snapshot);\n    }\n  }\n  redo() {\n    const t = this.redoEntries.pop();\n    if (t) {\n      const e = this.createEntry(t);\n      return this.undoEntries.push(e), this.composition.loadSnapshot(t.snapshot);\n    }\n  }\n  canUndo() {\n    return this.undoEntries.length > 0;\n  }\n  canRedo() {\n    return this.redoEntries.length > 0;\n  }\n  createEntry() {\n    let _ref18 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},\n      t = _ref18.description,\n      e = _ref18.context;\n    return {\n      description: null == t ? void 0 : t.toString(),\n      context: JSON.stringify(e),\n      snapshot: this.composition.getSnapshot()\n    };\n  }\n}\nconst ui = (t, e, i) => (null == t ? void 0 : t.description) === (null == e ? void 0 : e.toString()) && (null == t ? void 0 : t.context) === JSON.stringify(i);\nclass di {\n  constructor(t) {\n    this.document = t.document, this.selectedRange = t.selectedRange;\n  }\n  perform() {\n    return this.removeBlockAttribute(), this.applyBlockAttribute();\n  }\n  getSnapshot() {\n    return {\n      document: this.document,\n      selectedRange: this.selectedRange\n    };\n  }\n  removeBlockAttribute() {\n    return this.findRangesOfBlocks().map(t => this.document = this.document.removeAttributeAtRange(\"attachmentGallery\", t));\n  }\n  applyBlockAttribute() {\n    let t = 0;\n    this.findRangesOfPieces().forEach(e => {\n      e[1] - e[0] > 1 && (e[0] += t, e[1] += t, \"\\n\" !== this.document.getCharacterAtPosition(e[1]) && (this.document = this.document.insertBlockBreakAtRange(e[1]), e[1] < this.selectedRange[1] && this.moveSelectedRangeForward(), e[1]++, t++), 0 !== e[0] && \"\\n\" !== this.document.getCharacterAtPosition(e[0] - 1) && (this.document = this.document.insertBlockBreakAtRange(e[0]), e[0] < this.selectedRange[0] && this.moveSelectedRangeForward(), e[0]++, t++), this.document = this.document.applyBlockAttributeAtRange(\"attachmentGallery\", !0, e));\n    });\n  }\n  findRangesOfBlocks() {\n    return this.document.findRangesForBlockAttribute(\"attachmentGallery\");\n  }\n  findRangesOfPieces() {\n    return this.document.findRangesForTextAttribute(\"presentation\", {\n      withValue: \"gallery\"\n    });\n  }\n  moveSelectedRangeForward() {\n    this.selectedRange[0] += 1, this.selectedRange[1] += 1;\n  }\n}\nconst gi = function (t) {\n    const e = new di(t);\n    return e.perform(), e.getSnapshot();\n  },\n  mi = [gi];\nclass pi {\n  constructor(t, e, i) {\n    this.insertFiles = this.insertFiles.bind(this), this.composition = t, this.selectionManager = e, this.element = i, this.undoManager = new hi(this.composition), this.filters = mi.slice(0);\n  }\n  loadDocument(t) {\n    return this.loadSnapshot({\n      document: t,\n      selectedRange: [0, 0]\n    });\n  }\n  loadHTML() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\";\n    const e = Ke.parse(t, {\n      referenceElement: this.element\n    }).getDocument();\n    return this.loadDocument(e);\n  }\n  loadJSON(t) {\n    let e = t.document,\n      i = t.selectedRange;\n    return e = je.fromJSON(e), this.loadSnapshot({\n      document: e,\n      selectedRange: i\n    });\n  }\n  loadSnapshot(t) {\n    return this.undoManager = new hi(this.composition), this.composition.loadSnapshot(t);\n  }\n  getDocument() {\n    return this.composition.document;\n  }\n  getSelectedDocument() {\n    return this.composition.getSelectedDocument();\n  }\n  getSnapshot() {\n    return this.composition.getSnapshot();\n  }\n  toJSON() {\n    return this.getSnapshot();\n  }\n  deleteInDirection(t) {\n    return this.composition.deleteInDirection(t);\n  }\n  insertAttachment(t) {\n    return this.composition.insertAttachment(t);\n  }\n  insertAttachments(t) {\n    return this.composition.insertAttachments(t);\n  }\n  insertDocument(t) {\n    return this.composition.insertDocument(t);\n  }\n  insertFile(t) {\n    return this.composition.insertFile(t);\n  }\n  insertFiles(t) {\n    return this.composition.insertFiles(t);\n  }\n  insertHTML(t) {\n    return this.composition.insertHTML(t);\n  }\n  insertString(t) {\n    return this.composition.insertString(t);\n  }\n  insertText(t) {\n    return this.composition.insertText(t);\n  }\n  insertLineBreak() {\n    return this.composition.insertLineBreak();\n  }\n  getSelectedRange() {\n    return this.composition.getSelectedRange();\n  }\n  getPosition() {\n    return this.composition.getPosition();\n  }\n  getClientRectAtPosition(t) {\n    const e = this.getDocument().locationRangeFromRange([t, t + 1]);\n    return this.selectionManager.getClientRectAtLocationRange(e);\n  }\n  expandSelectionInDirection(t) {\n    return this.composition.expandSelectionInDirection(t);\n  }\n  moveCursorInDirection(t) {\n    return this.composition.moveCursorInDirection(t);\n  }\n  setSelectedRange(t) {\n    return this.composition.setSelectedRange(t);\n  }\n  activateAttribute(t) {\n    let e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n    return this.composition.setCurrentAttribute(t, e);\n  }\n  attributeIsActive(t) {\n    return this.composition.hasCurrentAttribute(t);\n  }\n  canActivateAttribute(t) {\n    return this.composition.canSetCurrentAttribute(t);\n  }\n  deactivateAttribute(t) {\n    return this.composition.removeCurrentAttribute(t);\n  }\n  canDecreaseNestingLevel() {\n    return this.composition.canDecreaseNestingLevel();\n  }\n  canIncreaseNestingLevel() {\n    return this.composition.canIncreaseNestingLevel();\n  }\n  decreaseNestingLevel() {\n    if (this.canDecreaseNestingLevel()) return this.composition.decreaseNestingLevel();\n  }\n  increaseNestingLevel() {\n    if (this.canIncreaseNestingLevel()) return this.composition.increaseNestingLevel();\n  }\n  canRedo() {\n    return this.undoManager.canRedo();\n  }\n  canUndo() {\n    return this.undoManager.canUndo();\n  }\n  recordUndoEntry(t) {\n    let _ref19 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n      e = _ref19.context,\n      i = _ref19.consolidatable;\n    return this.undoManager.recordUndoEntry(t, {\n      context: e,\n      consolidatable: i\n    });\n  }\n  redo() {\n    if (this.canRedo()) return this.undoManager.redo();\n  }\n  undo() {\n    if (this.canUndo()) return this.undoManager.undo();\n  }\n}\nclass fi {\n  constructor(t) {\n    this.element = t;\n  }\n  findLocationFromContainerAndOffset(t, e) {\n    let _ref20 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n        strict: !0\n      },\n      i = _ref20.strict,\n      n = 0,\n      r = !1;\n    const o = {\n        index: 0,\n        offset: 0\n      },\n      s = this.findAttachmentElementParentForNode(t);\n    s && (t = s.parentNode, e = v(s));\n    const a = x(this.element, {\n      usingFilter: xi\n    });\n    for (; a.nextNode();) {\n      const s = a.currentNode;\n      if (s === t && I(t)) {\n        T(s) || (o.offset += e);\n        break;\n      }\n      if (s.parentNode === t) {\n        if (n++ === e) break;\n      } else if (!b(t, s) && n > 0) break;\n      L(s, {\n        strict: i\n      }) ? (r && o.index++, o.offset = 0, r = !0) : o.offset += bi(s);\n    }\n    return o;\n  }\n  findContainerAndOffsetFromLocation(t) {\n    let e, i;\n    if (0 === t.index && 0 === t.offset) {\n      for (e = this.element, i = 0; e.firstChild;) if (e = e.firstChild, S(e)) {\n        i = 1;\n        break;\n      }\n      return [e, i];\n    }\n    let _this$findNodeAndOffs = this.findNodeAndOffsetFromLocation(t),\n      _this$findNodeAndOffs2 = _slicedToArray(_this$findNodeAndOffs, 2),\n      n = _this$findNodeAndOffs2[0],\n      r = _this$findNodeAndOffs2[1];\n    if (n) {\n      if (I(n)) 0 === bi(n) ? (e = n.parentNode.parentNode, i = v(n.parentNode), T(n, {\n        name: \"right\"\n      }) && i++) : (e = n, i = t.offset - r);else {\n        if (e = n.parentNode, !L(n.previousSibling) && !S(e)) for (; n === e.lastChild && (n = e, e = e.parentNode, !S(e)););\n        i = v(n), 0 !== t.offset && i++;\n      }\n      return [e, i];\n    }\n  }\n  findNodeAndOffsetFromLocation(t) {\n    let e,\n      i,\n      n = 0;\n    for (const r of this.getSignificantNodesForIndex(t.index)) {\n      const o = bi(r);\n      if (t.offset <= n + o) if (I(r)) {\n        if (e = r, i = n, t.offset === i && T(e)) break;\n      } else e || (e = r, i = n);\n      if (n += o, n > t.offset) break;\n    }\n    return [e, i];\n  }\n  findAttachmentElementParentForNode(t) {\n    for (; t && t !== this.element;) {\n      if (F(t)) return t;\n      t = t.parentNode;\n    }\n  }\n  getSignificantNodesForIndex(t) {\n    const e = [],\n      i = x(this.element, {\n        usingFilter: vi\n      });\n    let n = !1;\n    for (; i.nextNode();) {\n      const o = i.currentNode;\n      var r;\n      if (D(o)) {\n        if (null != r ? r++ : r = 0, r === t) n = !0;else if (n) break;\n      } else n && e.push(o);\n    }\n    return e;\n  }\n}\nconst bi = function (t) {\n    if (t.nodeType === Node.TEXT_NODE) {\n      if (T(t)) return 0;\n      return t.textContent.length;\n    }\n    return \"br\" === y(t) || F(t) ? 1 : 0;\n  },\n  vi = function (t) {\n    return Ai(t) === NodeFilter.FILTER_ACCEPT ? xi(t) : NodeFilter.FILTER_REJECT;\n  },\n  Ai = function (t) {\n    return B(t) ? NodeFilter.FILTER_REJECT : NodeFilter.FILTER_ACCEPT;\n  },\n  xi = function (t) {\n    return F(t.parentNode) ? NodeFilter.FILTER_REJECT : NodeFilter.FILTER_ACCEPT;\n  };\nclass yi {\n  createDOMRangeFromPoint(t) {\n    let e,\n      i = t.x,\n      n = t.y;\n    if (document.caretPositionFromPoint) {\n      const _document$caretPositi = document.caretPositionFromPoint(i, n),\n        t = _document$caretPositi.offsetNode,\n        r = _document$caretPositi.offset;\n      return e = document.createRange(), e.setStart(t, r), e;\n    }\n    if (document.caretRangeFromPoint) return document.caretRangeFromPoint(i, n);\n    if (document.body.createTextRange) {\n      const t = It();\n      try {\n        const t = document.body.createTextRange();\n        t.moveToPoint(i, n), t.select();\n      } catch (t) {}\n      return e = It(), Pt(t), e;\n    }\n  }\n  getClientRectsForDOMRange(t) {\n    const e = Array.from(t.getClientRects());\n    return [e[0], e[e.length - 1]];\n  }\n}\nclass Ci extends U {\n  constructor(t) {\n    super(...arguments), this.didMouseDown = this.didMouseDown.bind(this), this.selectionDidChange = this.selectionDidChange.bind(this), this.element = t, this.locationMapper = new fi(this.element), this.pointMapper = new yi(), this.lockCount = 0, d(\"mousedown\", {\n      onElement: this.element,\n      withCallback: this.didMouseDown\n    });\n  }\n  getLocationRange() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    return !1 === t.strict ? this.createLocationRangeFromDOMRange(It()) : t.ignoreLock ? this.currentLocationRange : this.lockedLocationRange ? this.lockedLocationRange : this.currentLocationRange;\n  }\n  setLocationRange(t) {\n    if (this.lockedLocationRange) return;\n    t = Et(t);\n    const e = this.createDOMRangeFromLocationRange(t);\n    e && (Pt(e), this.updateCurrentLocationRange(t));\n  }\n  setLocationRangeFromPointRange(t) {\n    t = Et(t);\n    const e = this.getLocationAtPoint(t[0]),\n      i = this.getLocationAtPoint(t[1]);\n    this.setLocationRange([e, i]);\n  }\n  getClientRectAtLocationRange(t) {\n    const e = this.createDOMRangeFromLocationRange(t);\n    if (e) return this.getClientRectsForDOMRange(e)[1];\n  }\n  locationIsCursorTarget(t) {\n    const e = Array.from(this.findNodeAndOffsetFromLocation(t))[0];\n    return T(e);\n  }\n  lock() {\n    0 == this.lockCount++ && (this.updateCurrentLocationRange(), this.lockedLocationRange = this.getLocationRange());\n  }\n  unlock() {\n    if (0 == --this.lockCount) {\n      const t = this.lockedLocationRange;\n      if (this.lockedLocationRange = null, null != t) return this.setLocationRange(t);\n    }\n  }\n  clearSelection() {\n    var t;\n    return null === (t = Bt()) || void 0 === t ? void 0 : t.removeAllRanges();\n  }\n  selectionIsCollapsed() {\n    var t;\n    return !0 === (null === (t = It()) || void 0 === t ? void 0 : t.collapsed);\n  }\n  selectionIsExpanded() {\n    return !this.selectionIsCollapsed();\n  }\n  createLocationRangeFromDOMRange(t, e) {\n    if (null == t || !this.domRangeWithinElement(t)) return;\n    const i = this.findLocationFromContainerAndOffset(t.startContainer, t.startOffset, e);\n    if (!i) return;\n    const n = t.collapsed ? void 0 : this.findLocationFromContainerAndOffset(t.endContainer, t.endOffset, e);\n    return Et([i, n]);\n  }\n  didMouseDown() {\n    return this.pauseTemporarily();\n  }\n  pauseTemporarily() {\n    let t;\n    this.paused = !0;\n    const e = () => {\n        if (this.paused = !1, clearTimeout(i), Array.from(t).forEach(t => {\n          t.destroy();\n        }), b(document, this.element)) return this.selectionDidChange();\n      },\n      i = setTimeout(e, 200);\n    t = [\"mousemove\", \"keydown\"].map(t => d(t, {\n      onElement: document,\n      withCallback: e\n    }));\n  }\n  selectionDidChange() {\n    if (!this.paused && !f(this.element)) return this.updateCurrentLocationRange();\n  }\n  updateCurrentLocationRange(t) {\n    var e, i;\n    if ((null != t ? t : t = this.createLocationRangeFromDOMRange(It())) && !kt(t, this.currentLocationRange)) return this.currentLocationRange = t, null === (e = this.delegate) || void 0 === e || null === (i = e.locationRangeDidChange) || void 0 === i ? void 0 : i.call(e, this.currentLocationRange.slice(0));\n  }\n  createDOMRangeFromLocationRange(t) {\n    const e = this.findContainerAndOffsetFromLocation(t[0]),\n      i = St(t) ? e : this.findContainerAndOffsetFromLocation(t[1]) || e;\n    if (null != e && null != i) {\n      const t = document.createRange();\n      return t.setStart(...Array.from(e || [])), t.setEnd(...Array.from(i || [])), t;\n    }\n  }\n  getLocationAtPoint(t) {\n    const e = this.createDOMRangeFromPoint(t);\n    var i;\n    if (e) return null === (i = this.createLocationRangeFromDOMRange(e)) || void 0 === i ? void 0 : i[0];\n  }\n  domRangeWithinElement(t) {\n    return t.collapsed ? b(this.element, t.startContainer) : b(this.element, t.startContainer) && b(this.element, t.endContainer);\n  }\n}\nCi.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\"), Ci.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\"), Ci.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\"), Ci.proxyMethod(\"pointMapper.createDOMRangeFromPoint\"), Ci.proxyMethod(\"pointMapper.getClientRectsForDOMRange\");\nvar Ri = Object.freeze({\n    __proto__: null,\n    Attachment: xe,\n    AttachmentManager: ai,\n    AttachmentPiece: ye,\n    Block: De,\n    Composition: ci,\n    Document: je,\n    Editor: pi,\n    HTMLParser: Ke,\n    HTMLSanitizer: ze,\n    LineBreakInsertion: li,\n    LocationMapper: fi,\n    ManagedAttachment: si,\n    Piece: ve,\n    PointMapper: yi,\n    SelectionManager: Ci,\n    SplittableList: Re,\n    StringPiece: Ce,\n    Text: Le,\n    UndoManager: hi\n  }),\n  Ei = Object.freeze({\n    __proto__: null\n  });\nconst Si = W.lang,\n  ki = W.css,\n  Li = W.keyNames,\n  Di = function (t) {\n    return function () {\n      const e = t.apply(this, arguments);\n      e.do(), this.undos || (this.undos = []), this.undos.push(e.undo);\n    };\n  };\nclass wi extends U {\n  constructor(t, e, i) {\n    let n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};\n    super(...arguments), be(this, \"makeElementMutable\", Di(() => ({\n      do: () => {\n        this.element.dataset.trixMutable = !0;\n      },\n      undo: () => delete this.element.dataset.trixMutable\n    }))), be(this, \"addToolbar\", Di(() => {\n      const t = C({\n        tagName: \"div\",\n        className: ki.attachmentToolbar,\n        data: {\n          trixMutable: !0\n        },\n        childNodes: C({\n          tagName: \"div\",\n          className: \"trix-button-row\",\n          childNodes: C({\n            tagName: \"span\",\n            className: \"trix-button-group trix-button-group--actions\",\n            childNodes: C({\n              tagName: \"button\",\n              className: \"trix-button trix-button--remove\",\n              textContent: Si.remove,\n              attributes: {\n                title: Si.remove\n              },\n              data: {\n                trixAction: \"remove\"\n              }\n            })\n          })\n        })\n      });\n      return this.attachment.isPreviewable() && t.appendChild(C({\n        tagName: \"div\",\n        className: ki.attachmentMetadataContainer,\n        childNodes: C({\n          tagName: \"span\",\n          className: ki.attachmentMetadata,\n          childNodes: [C({\n            tagName: \"span\",\n            className: ki.attachmentName,\n            textContent: this.attachment.getFilename(),\n            attributes: {\n              title: this.attachment.getFilename()\n            }\n          }), C({\n            tagName: \"span\",\n            className: ki.attachmentSize,\n            textContent: this.attachment.getFormattedFilesize()\n          })]\n        })\n      })), d(\"click\", {\n        onElement: t,\n        withCallback: this.didClickToolbar\n      }), d(\"click\", {\n        onElement: t,\n        matchingSelector: \"[data-trix-action]\",\n        withCallback: this.didClickActionButton\n      }), g(\"trix-attachment-before-toolbar\", {\n        onElement: this.element,\n        attributes: {\n          toolbar: t,\n          attachment: this.attachment\n        }\n      }), {\n        do: () => this.element.appendChild(t),\n        undo: () => A(t)\n      };\n    })), be(this, \"installCaptionEditor\", Di(() => {\n      const t = C({\n        tagName: \"textarea\",\n        className: ki.attachmentCaptionEditor,\n        attributes: {\n          placeholder: Si.captionPlaceholder\n        },\n        data: {\n          trixMutable: !0\n        }\n      });\n      t.value = this.attachmentPiece.getCaption();\n      const e = t.cloneNode();\n      e.classList.add(\"trix-autoresize-clone\"), e.tabIndex = -1;\n      const i = function () {\n        e.value = t.value, t.style.height = e.scrollHeight + \"px\";\n      };\n      d(\"input\", {\n        onElement: t,\n        withCallback: i\n      }), d(\"input\", {\n        onElement: t,\n        withCallback: this.didInputCaption\n      }), d(\"keydown\", {\n        onElement: t,\n        withCallback: this.didKeyDownCaption\n      }), d(\"change\", {\n        onElement: t,\n        withCallback: this.didChangeCaption\n      }), d(\"blur\", {\n        onElement: t,\n        withCallback: this.didBlurCaption\n      });\n      const n = this.element.querySelector(\"figcaption\"),\n        r = n.cloneNode();\n      return {\n        do: () => {\n          if (n.style.display = \"none\", r.appendChild(t), r.appendChild(e), r.classList.add(\"\".concat(ki.attachmentCaption, \"--editing\")), n.parentElement.insertBefore(r, n), i(), this.options.editCaption) return yt(() => t.focus());\n        },\n        undo() {\n          A(r), n.style.display = null;\n        }\n      };\n    })), this.didClickToolbar = this.didClickToolbar.bind(this), this.didClickActionButton = this.didClickActionButton.bind(this), this.didKeyDownCaption = this.didKeyDownCaption.bind(this), this.didInputCaption = this.didInputCaption.bind(this), this.didChangeCaption = this.didChangeCaption.bind(this), this.didBlurCaption = this.didBlurCaption.bind(this), this.attachmentPiece = t, this.element = e, this.container = i, this.options = n, this.attachment = this.attachmentPiece.attachment, \"a\" === y(this.element) && (this.element = this.element.firstChild), this.install();\n  }\n  install() {\n    this.makeElementMutable(), this.addToolbar(), this.attachment.isPreviewable() && this.installCaptionEditor();\n  }\n  uninstall() {\n    var t;\n    let e = this.undos.pop();\n    for (this.savePendingCaption(); e;) e(), e = this.undos.pop();\n    null === (t = this.delegate) || void 0 === t || t.didUninstallAttachmentEditor(this);\n  }\n  savePendingCaption() {\n    if (this.pendingCaption) {\n      const r = this.pendingCaption;\n      var t, e, i, n;\n      if (this.pendingCaption = null, r) null === (t = this.delegate) || void 0 === t || null === (e = t.attachmentEditorDidRequestUpdatingAttributesForAttachment) || void 0 === e || e.call(t, {\n        caption: r\n      }, this.attachment);else null === (i = this.delegate) || void 0 === i || null === (n = i.attachmentEditorDidRequestRemovingAttributeForAttachment) || void 0 === n || n.call(i, \"caption\", this.attachment);\n    }\n  }\n  didClickToolbar(t) {\n    return t.preventDefault(), t.stopPropagation();\n  }\n  didClickActionButton(t) {\n    var e;\n    if (\"remove\" === t.target.getAttribute(\"data-trix-action\")) return null === (e = this.delegate) || void 0 === e ? void 0 : e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment);\n  }\n  didKeyDownCaption(t) {\n    var e, i;\n    if (\"return\" === Li[t.keyCode]) return t.preventDefault(), this.savePendingCaption(), null === (e = this.delegate) || void 0 === e || null === (i = e.attachmentEditorDidRequestDeselectingAttachment) || void 0 === i ? void 0 : i.call(e, this.attachment);\n  }\n  didInputCaption(t) {\n    this.pendingCaption = t.target.value.replace(/\\s/g, \" \").trim();\n  }\n  didChangeCaption(t) {\n    return this.savePendingCaption();\n  }\n  didBlurCaption(t) {\n    return this.savePendingCaption();\n  }\n}\nclass Ti extends U {\n  constructor(t, e) {\n    super(...arguments), this.didFocus = this.didFocus.bind(this), this.didBlur = this.didBlur.bind(this), this.didClickAttachment = this.didClickAttachment.bind(this), this.element = t, this.composition = e, this.documentView = new ue(this.composition.document, {\n      element: this.element\n    }), d(\"focus\", {\n      onElement: this.element,\n      withCallback: this.didFocus\n    }), d(\"blur\", {\n      onElement: this.element,\n      withCallback: this.didBlur\n    }), d(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a[contenteditable=false]\",\n      preventDefault: !0\n    }), d(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: \"[data-trix-attachment]\",\n      withCallback: this.didClickAttachment\n    }), d(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"a\".concat(\"[data-trix-attachment]\"),\n      preventDefault: !0\n    });\n  }\n  didFocus(t) {\n    var e;\n    const i = () => {\n      var t, e;\n      if (!this.focused) return this.focused = !0, null === (t = this.delegate) || void 0 === t || null === (e = t.compositionControllerDidFocus) || void 0 === e ? void 0 : e.call(t);\n    };\n    return (null === (e = this.blurPromise) || void 0 === e ? void 0 : e.then(i)) || i();\n  }\n  didBlur(t) {\n    this.blurPromise = new Promise(t => yt(() => {\n      var e, i;\n      f(this.element) || (this.focused = null, null === (e = this.delegate) || void 0 === e || null === (i = e.compositionControllerDidBlur) || void 0 === i || i.call(e));\n      return this.blurPromise = null, t();\n    }));\n  }\n  didClickAttachment(t, e) {\n    var i, n;\n    const r = this.findAttachmentForElement(e),\n      o = !!p(t.target, {\n        matchingSelector: \"figcaption\"\n      });\n    return null === (i = this.delegate) || void 0 === i || null === (n = i.compositionControllerDidSelectAttachment) || void 0 === n ? void 0 : n.call(i, r, {\n      editCaption: o\n    });\n  }\n  getSerializableElement() {\n    return this.isEditingAttachment() ? this.documentView.shadowElement : this.element;\n  }\n  render() {\n    var t, e, i, n, r, o;\n    (this.revision !== this.composition.revision && (this.documentView.setDocument(this.composition.document), this.documentView.render(), this.revision = this.composition.revision), this.canSyncDocumentView() && !this.documentView.isSynced()) && (null === (i = this.delegate) || void 0 === i || null === (n = i.compositionControllerWillSyncDocumentView) || void 0 === n || n.call(i), this.documentView.sync(), null === (r = this.delegate) || void 0 === r || null === (o = r.compositionControllerDidSyncDocumentView) || void 0 === o || o.call(r));\n    return null === (t = this.delegate) || void 0 === t || null === (e = t.compositionControllerDidRender) || void 0 === e ? void 0 : e.call(t);\n  }\n  rerenderViewForObject(t) {\n    return this.invalidateViewForObject(t), this.render();\n  }\n  invalidateViewForObject(t) {\n    return this.documentView.invalidateViewForObject(t);\n  }\n  isViewCachingEnabled() {\n    return this.documentView.isViewCachingEnabled();\n  }\n  enableViewCaching() {\n    return this.documentView.enableViewCaching();\n  }\n  disableViewCaching() {\n    return this.documentView.disableViewCaching();\n  }\n  refreshViewCache() {\n    return this.documentView.garbageCollectCachedViews();\n  }\n  isEditingAttachment() {\n    return !!this.attachmentEditor;\n  }\n  installAttachmentEditorForAttachment(t, e) {\n    var i;\n    if ((null === (i = this.attachmentEditor) || void 0 === i ? void 0 : i.attachment) === t) return;\n    const n = this.documentView.findElementForObject(t);\n    if (!n) return;\n    this.uninstallAttachmentEditor();\n    const r = this.composition.document.getAttachmentPieceForAttachment(t);\n    this.attachmentEditor = new wi(r, n, this.element, e), this.attachmentEditor.delegate = this;\n  }\n  uninstallAttachmentEditor() {\n    var t;\n    return null === (t = this.attachmentEditor) || void 0 === t ? void 0 : t.uninstall();\n  }\n  didUninstallAttachmentEditor() {\n    return this.attachmentEditor = null, this.render();\n  }\n  attachmentEditorDidRequestUpdatingAttributesForAttachment(t, e) {\n    var i, n;\n    return null === (i = this.delegate) || void 0 === i || null === (n = i.compositionControllerWillUpdateAttachment) || void 0 === n || n.call(i, e), this.composition.updateAttributesForAttachment(t, e);\n  }\n  attachmentEditorDidRequestRemovingAttributeForAttachment(t, e) {\n    var i, n;\n    return null === (i = this.delegate) || void 0 === i || null === (n = i.compositionControllerWillUpdateAttachment) || void 0 === n || n.call(i, e), this.composition.removeAttributeForAttachment(t, e);\n  }\n  attachmentEditorDidRequestRemovalOfAttachment(t) {\n    var e, i;\n    return null === (e = this.delegate) || void 0 === e || null === (i = e.compositionControllerDidRequestRemovalOfAttachment) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  attachmentEditorDidRequestDeselectingAttachment(t) {\n    var e, i;\n    return null === (e = this.delegate) || void 0 === e || null === (i = e.compositionControllerDidRequestDeselectingAttachment) || void 0 === i ? void 0 : i.call(e, t);\n  }\n  canSyncDocumentView() {\n    return !this.isEditingAttachment();\n  }\n  findAttachmentForElement(t) {\n    return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId, 10));\n  }\n}\nclass Fi extends U {}\nconst Bi = \"[\".concat(\"data-trix-mutable\", \"]\"),\n  Ii = {\n    attributes: !0,\n    childList: !0,\n    characterData: !0,\n    characterDataOldValue: !0,\n    subtree: !0\n  };\nclass Pi extends U {\n  constructor(t) {\n    super(t), this.didMutate = this.didMutate.bind(this), this.element = t, this.observer = new window.MutationObserver(this.didMutate), this.start();\n  }\n  start() {\n    return this.reset(), this.observer.observe(this.element, Ii);\n  }\n  stop() {\n    return this.observer.disconnect();\n  }\n  didMutate(t) {\n    var e, i;\n    if (this.mutations.push(...Array.from(this.findSignificantMutations(t) || [])), this.mutations.length) return null === (e = this.delegate) || void 0 === e || null === (i = e.elementDidMutate) || void 0 === i || i.call(e, this.getMutationSummary()), this.reset();\n  }\n  reset() {\n    this.mutations = [];\n  }\n  findSignificantMutations(t) {\n    return t.filter(t => this.mutationIsSignificant(t));\n  }\n  mutationIsSignificant(t) {\n    if (this.nodeIsMutable(t.target)) return !1;\n    for (const e of Array.from(this.nodesModifiedByMutation(t))) if (this.nodeIsSignificant(e)) return !0;\n    return !1;\n  }\n  nodeIsSignificant(t) {\n    return t !== this.element && !this.nodeIsMutable(t) && !B(t);\n  }\n  nodeIsMutable(t) {\n    return p(t, {\n      matchingSelector: Bi\n    });\n  }\n  nodesModifiedByMutation(t) {\n    const e = [];\n    switch (t.type) {\n      case \"attributes\":\n        \"data-trix-mutable\" !== t.attributeName && e.push(t.target);\n        break;\n      case \"characterData\":\n        e.push(t.target.parentNode), e.push(t.target);\n        break;\n      case \"childList\":\n        e.push(...Array.from(t.addedNodes || [])), e.push(...Array.from(t.removedNodes || []));\n    }\n    return e;\n  }\n  getMutationSummary() {\n    return this.getTextMutationSummary();\n  }\n  getTextMutationSummary() {\n    const _this$getTextChangesF = this.getTextChangesFromCharacterData(),\n      t = _this$getTextChangesF.additions,\n      e = _this$getTextChangesF.deletions,\n      i = this.getTextChangesFromChildList();\n    Array.from(i.additions).forEach(e => {\n      Array.from(t).includes(e) || t.push(e);\n    }), e.push(...Array.from(i.deletions || []));\n    const n = {},\n      r = t.join(\"\");\n    r && (n.textAdded = r);\n    const o = e.join(\"\");\n    return o && (n.textDeleted = o), n;\n  }\n  getMutationsByType(t) {\n    return Array.from(this.mutations).filter(e => e.type === t);\n  }\n  getTextChangesFromChildList() {\n    let t, e;\n    const i = [],\n      n = [];\n    Array.from(this.getMutationsByType(\"childList\")).forEach(t => {\n      i.push(...Array.from(t.addedNodes || [])), n.push(...Array.from(t.removedNodes || []));\n    });\n    0 === i.length && 1 === n.length && D(n[0]) ? (t = [], e = [\"\\n\"]) : (t = Ni(i), e = Ni(n));\n    return {\n      additions: t.filter((t, i) => t !== e[i]).map(Mt),\n      deletions: e.filter((e, i) => e !== t[i]).map(Mt)\n    };\n  }\n  getTextChangesFromCharacterData() {\n    let t, e;\n    const i = this.getMutationsByType(\"characterData\");\n    if (i.length) {\n      const n = i[0],\n        r = i[i.length - 1],\n        o = function (t, e) {\n          var _Ut, _Ut2, _Ut3, _Ut4;\n          let i, n;\n          return t = K.box(t), (e = K.box(e)).length < t.length ? (_Ut = Ut(t, e), _Ut2 = _slicedToArray(_Ut, 2), n = _Ut2[0], i = _Ut2[1], _Ut) : (_Ut3 = Ut(e, t), _Ut4 = _slicedToArray(_Ut3, 2), i = _Ut4[0], n = _Ut4[1], _Ut3), {\n            added: i,\n            removed: n\n          };\n        }(Mt(n.oldValue), Mt(r.target.data));\n      t = o.added, e = o.removed;\n    }\n    return {\n      additions: t ? [t] : [],\n      deletions: e ? [e] : []\n    };\n  }\n}\nconst Ni = function () {\n  let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];\n  const e = [];\n  for (const i of Array.from(t)) switch (i.nodeType) {\n    case Node.TEXT_NODE:\n      e.push(i.data);\n      break;\n    case Node.ELEMENT_NODE:\n      \"br\" === y(i) ? e.push(\"\\n\") : e.push(...Array.from(Ni(i.childNodes) || []));\n  }\n  return e;\n};\nclass Oi extends Qt {\n  constructor(t) {\n    super(...arguments), this.file = t;\n  }\n  perform(t) {\n    const e = new FileReader();\n    return e.onerror = () => t(!1), e.onload = () => {\n      e.onerror = null;\n      try {\n        e.abort();\n      } catch (t) {}\n      return t(!0, this.file);\n    }, e.readAsArrayBuffer(this.file);\n  }\n}\nclass Mi {\n  constructor(t) {\n    this.element = t;\n  }\n  shouldIgnore(t) {\n    return !!o.samsungAndroid && (this.previousEvent = this.event, this.event = t, this.checkSamsungKeyboardBuggyModeStart(), this.checkSamsungKeyboardBuggyModeEnd(), this.buggyMode);\n  }\n  checkSamsungKeyboardBuggyModeStart() {\n    this.insertingLongTextAfterUnidentifiedChar() && ji(this.element.innerText, this.event.data) && (this.buggyMode = !0, this.event.preventDefault());\n  }\n  checkSamsungKeyboardBuggyModeEnd() {\n    this.buggyMode && \"insertText\" !== this.event.inputType && (this.buggyMode = !1);\n  }\n  insertingLongTextAfterUnidentifiedChar() {\n    var t;\n    return this.isBeforeInputInsertText() && this.previousEventWasUnidentifiedKeydown() && (null === (t = this.event.data) || void 0 === t ? void 0 : t.length) > 50;\n  }\n  isBeforeInputInsertText() {\n    return \"beforeinput\" === this.event.type && \"insertText\" === this.event.inputType;\n  }\n  previousEventWasUnidentifiedKeydown() {\n    var t, e;\n    return \"keydown\" === (null === (t = this.previousEvent) || void 0 === t ? void 0 : t.type) && \"Unidentified\" === (null === (e = this.previousEvent) || void 0 === e ? void 0 : e.key);\n  }\n}\nconst ji = (t, e) => Ui(t) === Ui(e),\n  Wi = new RegExp(\"(\".concat(\"￼\", \"|\").concat(\"\\ufeff\", \"|\").concat(\" \", \"|\\\\s)+\"), \"g\"),\n  Ui = t => t.replace(Wi, \" \").trim();\nclass qi extends U {\n  constructor(t) {\n    super(...arguments), this.element = t, this.mutationObserver = new Pi(this.element), this.mutationObserver.delegate = this, this.flakyKeyboardDetector = new Mi(this.element);\n    for (const t in this.constructor.events) d(t, {\n      onElement: this.element,\n      withCallback: this.handlerFor(t)\n    });\n  }\n  elementDidMutate(t) {}\n  editorWillSyncDocumentView() {\n    return this.mutationObserver.stop();\n  }\n  editorDidSyncDocumentView() {\n    return this.mutationObserver.start();\n  }\n  requestRender() {\n    var t, e;\n    return null === (t = this.delegate) || void 0 === t || null === (e = t.inputControllerDidRequestRender) || void 0 === e ? void 0 : e.call(t);\n  }\n  requestReparse() {\n    var t, e;\n    return null === (t = this.delegate) || void 0 === t || null === (e = t.inputControllerDidRequestReparse) || void 0 === e || e.call(t), this.requestRender();\n  }\n  attachFiles(t) {\n    const e = Array.from(t).map(t => new Oi(t));\n    return Promise.all(e).then(t => {\n      this.handleInput(function () {\n        var e, i;\n        return null === (e = this.delegate) || void 0 === e || e.inputControllerWillAttachFiles(), null === (i = this.responder) || void 0 === i || i.insertFiles(t), this.requestRender();\n      });\n    });\n  }\n  handlerFor(t) {\n    return e => {\n      e.defaultPrevented || this.handleInput(() => {\n        if (!f(this.element)) {\n          if (this.flakyKeyboardDetector.shouldIgnore(e)) return;\n          this.eventName = t, this.constructor.events[t].call(this, e);\n        }\n      });\n    };\n  }\n  handleInput(t) {\n    try {\n      var e;\n      null === (e = this.delegate) || void 0 === e || e.inputControllerWillHandleInput(), t.call(this);\n    } finally {\n      var i;\n      null === (i = this.delegate) || void 0 === i || i.inputControllerDidHandleInput();\n    }\n  }\n  createLinkHTML(t, e) {\n    const i = document.createElement(\"a\");\n    return i.href = t, i.textContent = e || t, i.outerHTML;\n  }\n}\nvar Vi;\nbe(qi, \"events\", {});\nconst zi = W.browser,\n  _i = W.keyNames;\nlet Hi = 0;\nclass Ji extends qi {\n  constructor() {\n    super(...arguments), this.resetInputSummary();\n  }\n  setInputSummary() {\n    let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n    this.inputSummary.eventName = this.eventName;\n    for (const e in t) {\n      const i = t[e];\n      this.inputSummary[e] = i;\n    }\n    return this.inputSummary;\n  }\n  resetInputSummary() {\n    this.inputSummary = {};\n  }\n  reset() {\n    return this.resetInputSummary(), Ft.reset();\n  }\n  elementDidMutate(t) {\n    var e, i;\n    return this.isComposing() ? null === (e = this.delegate) || void 0 === e || null === (i = e.inputControllerDidAllowUnhandledInput) || void 0 === i ? void 0 : i.call(e) : this.handleInput(function () {\n      return this.mutationIsSignificant(t) && (this.mutationIsExpected(t) ? this.requestRender() : this.requestReparse()), this.reset();\n    });\n  }\n  mutationIsExpected(t) {\n    let e = t.textAdded,\n      i = t.textDeleted;\n    if (this.inputSummary.preferDocument) return !0;\n    const n = null != e ? e === this.inputSummary.textAdded : !this.inputSummary.textAdded,\n      r = null != i ? this.inputSummary.didDelete : !this.inputSummary.didDelete,\n      o = [\"\\n\", \" \\n\"].includes(e) && !n,\n      s = \"\\n\" === i && !r;\n    if (o && !s || s && !o) {\n      const t = this.getSelectedRange();\n      if (t) {\n        var a;\n        const i = o ? e.replace(/\\n$/, \"\").length || -1 : (null == e ? void 0 : e.length) || 1;\n        if (null !== (a = this.responder) && void 0 !== a && a.positionIsBlockBreak(t[1] + i)) return !0;\n      }\n    }\n    return n && r;\n  }\n  mutationIsSignificant(t) {\n    var e;\n    const i = Object.keys(t).length > 0,\n      n = \"\" === (null === (e = this.compositionInput) || void 0 === e ? void 0 : e.getEndData());\n    return i || !n;\n  }\n  getCompositionInput() {\n    if (this.isComposing()) return this.compositionInput;\n    this.compositionInput = new Yi(this);\n  }\n  isComposing() {\n    return this.compositionInput && !this.compositionInput.isEnded();\n  }\n  deleteInDirection(t, e) {\n    var i;\n    return !1 !== (null === (i = this.responder) || void 0 === i ? void 0 : i.deleteInDirection(t)) ? this.setInputSummary({\n      didDelete: !0\n    }) : e ? (e.preventDefault(), this.requestRender()) : void 0;\n  }\n  serializeSelectionToDataTransfer(t) {\n    var e;\n    if (!function (t) {\n      if (null == t || !t.setData) return !1;\n      for (const e in vt) {\n        const i = vt[e];\n        try {\n          if (t.setData(e, i), !t.getData(e) === i) return !1;\n        } catch (t) {\n          return !1;\n        }\n      }\n      return !0;\n    }(t)) return;\n    const i = null === (e = this.responder) || void 0 === e ? void 0 : e.getSelectedDocument().toSerializableDocument();\n    return t.setData(\"application/x-trix-document\", JSON.stringify(i)), t.setData(\"text/html\", ue.render(i).innerHTML), t.setData(\"text/plain\", i.toString().replace(/\\n$/, \"\")), !0;\n  }\n  canAcceptDataTransfer(t) {\n    const e = {};\n    return Array.from((null == t ? void 0 : t.types) || []).forEach(t => {\n      e[t] = !0;\n    }), e.Files || e[\"application/x-trix-document\"] || e[\"text/html\"] || e[\"text/plain\"];\n  }\n  getPastedHTMLUsingHiddenElement(t) {\n    const e = this.getSelectedRange(),\n      i = {\n        position: \"absolute\",\n        left: \"\".concat(window.pageXOffset, \"px\"),\n        top: \"\".concat(window.pageYOffset, \"px\"),\n        opacity: 0\n      },\n      n = C({\n        style: i,\n        tagName: \"div\",\n        editable: !0\n      });\n    return document.body.appendChild(n), n.focus(), requestAnimationFrame(() => {\n      const i = n.innerHTML;\n      return A(n), this.setSelectedRange(e), t(i);\n    });\n  }\n}\nbe(Ji, \"events\", {\n  keydown(t) {\n    this.isComposing() || this.resetInputSummary(), this.inputSummary.didInput = !0;\n    const e = _i[t.keyCode];\n    if (e) {\n      var i;\n      let n = this.keys;\n      [\"ctrl\", \"alt\", \"shift\", \"meta\"].forEach(e => {\n        var i;\n        t[\"\".concat(e, \"Key\")] && (\"ctrl\" === e && (e = \"control\"), n = null === (i = n) || void 0 === i ? void 0 : i[e]);\n      }), null != (null === (i = n) || void 0 === i ? void 0 : i[e]) && (this.setInputSummary({\n        keyName: e\n      }), Ft.reset(), n[e].call(this, t));\n    }\n    if (xt(t)) {\n      const e = String.fromCharCode(t.keyCode).toLowerCase();\n      if (e) {\n        var n;\n        const i = [\"alt\", \"shift\"].map(e => {\n          if (t[\"\".concat(e, \"Key\")]) return e;\n        }).filter(t => t);\n        i.push(e), null !== (n = this.delegate) && void 0 !== n && n.inputControllerDidReceiveKeyboardCommand(i) && t.preventDefault();\n      }\n    }\n  },\n  keypress(t) {\n    if (null != this.inputSummary.eventName) return;\n    if (t.metaKey) return;\n    if (t.ctrlKey && !t.altKey) return;\n    const e = $i(t);\n    var i, n;\n    return e ? (null === (i = this.delegate) || void 0 === i || i.inputControllerWillPerformTyping(), null === (n = this.responder) || void 0 === n || n.insertString(e), this.setInputSummary({\n      textAdded: e,\n      didDelete: this.selectionIsExpanded()\n    })) : void 0;\n  },\n  textInput(t) {\n    const e = t.data,\n      i = this.inputSummary.textAdded;\n    if (i && i !== e && i.toUpperCase() === e) {\n      var n;\n      const t = this.getSelectedRange();\n      return this.setSelectedRange([t[0], t[1] + i.length]), null === (n = this.responder) || void 0 === n || n.insertString(e), this.setInputSummary({\n        textAdded: e\n      }), this.setSelectedRange(t);\n    }\n  },\n  dragenter(t) {\n    t.preventDefault();\n  },\n  dragstart(t) {\n    var e, i;\n    return this.serializeSelectionToDataTransfer(t.dataTransfer), this.draggedRange = this.getSelectedRange(), null === (e = this.delegate) || void 0 === e || null === (i = e.inputControllerDidStartDrag) || void 0 === i ? void 0 : i.call(e);\n  },\n  dragover(t) {\n    if (this.draggedRange || this.canAcceptDataTransfer(t.dataTransfer)) {\n      t.preventDefault();\n      const n = {\n        x: t.clientX,\n        y: t.clientY\n      };\n      var e, i;\n      if (!Rt(n, this.draggingPoint)) return this.draggingPoint = n, null === (e = this.delegate) || void 0 === e || null === (i = e.inputControllerDidReceiveDragOverPoint) || void 0 === i ? void 0 : i.call(e, this.draggingPoint);\n    }\n  },\n  dragend(t) {\n    var e, i;\n    null === (e = this.delegate) || void 0 === e || null === (i = e.inputControllerDidCancelDrag) || void 0 === i || i.call(e), this.draggedRange = null, this.draggingPoint = null;\n  },\n  drop(t) {\n    var e, i;\n    t.preventDefault();\n    const n = null === (e = t.dataTransfer) || void 0 === e ? void 0 : e.files,\n      r = t.dataTransfer.getData(\"application/x-trix-document\"),\n      o = {\n        x: t.clientX,\n        y: t.clientY\n      };\n    if (null === (i = this.responder) || void 0 === i || i.setLocationRangeFromPointRange(o), null != n && n.length) this.attachFiles(n);else if (this.draggedRange) {\n      var s, a;\n      null === (s = this.delegate) || void 0 === s || s.inputControllerWillMoveText(), null === (a = this.responder) || void 0 === a || a.moveTextFromRange(this.draggedRange), this.draggedRange = null, this.requestRender();\n    } else if (r) {\n      var l;\n      const t = je.fromJSONString(r);\n      null === (l = this.responder) || void 0 === l || l.insertDocument(t), this.requestRender();\n    }\n    this.draggedRange = null, this.draggingPoint = null;\n  },\n  cut(t) {\n    var e, i;\n    if (null !== (e = this.responder) && void 0 !== e && e.selectionIsExpanded() && (this.serializeSelectionToDataTransfer(t.clipboardData) && t.preventDefault(), null === (i = this.delegate) || void 0 === i || i.inputControllerWillCutText(), this.deleteInDirection(\"backward\"), t.defaultPrevented)) return this.requestRender();\n  },\n  copy(t) {\n    var e;\n    null !== (e = this.responder) && void 0 !== e && e.selectionIsExpanded() && this.serializeSelectionToDataTransfer(t.clipboardData) && t.preventDefault();\n  },\n  paste(t) {\n    const e = t.clipboardData || t.testClipboardData,\n      i = {\n        clipboard: e\n      };\n    if (!e || Xi(t)) return void this.getPastedHTMLUsingHiddenElement(t => {\n      var e, n, r;\n      return i.type = \"text/html\", i.html = t, null === (e = this.delegate) || void 0 === e || e.inputControllerWillPaste(i), null === (n = this.responder) || void 0 === n || n.insertHTML(i.html), this.requestRender(), null === (r = this.delegate) || void 0 === r ? void 0 : r.inputControllerDidPaste(i);\n    });\n    const n = e.getData(\"URL\"),\n      r = e.getData(\"text/html\"),\n      o = e.getData(\"public.url-name\");\n    if (n) {\n      var s, a, l;\n      let t;\n      i.type = \"text/html\", t = o ? Wt(o).trim() : n, i.html = this.createLinkHTML(n, t), null === (s = this.delegate) || void 0 === s || s.inputControllerWillPaste(i), this.setInputSummary({\n        textAdded: t,\n        didDelete: this.selectionIsExpanded()\n      }), null === (a = this.responder) || void 0 === a || a.insertHTML(i.html), this.requestRender(), null === (l = this.delegate) || void 0 === l || l.inputControllerDidPaste(i);\n    } else if (At(e)) {\n      var c, h, u;\n      i.type = \"text/plain\", i.string = e.getData(\"text/plain\"), null === (c = this.delegate) || void 0 === c || c.inputControllerWillPaste(i), this.setInputSummary({\n        textAdded: i.string,\n        didDelete: this.selectionIsExpanded()\n      }), null === (h = this.responder) || void 0 === h || h.insertString(i.string), this.requestRender(), null === (u = this.delegate) || void 0 === u || u.inputControllerDidPaste(i);\n    } else if (r) {\n      var d, g, m;\n      i.type = \"text/html\", i.html = r, null === (d = this.delegate) || void 0 === d || d.inputControllerWillPaste(i), null === (g = this.responder) || void 0 === g || g.insertHTML(i.html), this.requestRender(), null === (m = this.delegate) || void 0 === m || m.inputControllerDidPaste(i);\n    } else if (Array.from(e.types).includes(\"Files\")) {\n      var p, f, b;\n      const t = null === (p = e.items) || void 0 === p || null === (f = p[0]) || void 0 === f || null === (b = f.getAsFile) || void 0 === b ? void 0 : b.call(f);\n      if (t) {\n        var v, A, x;\n        const e = Ki(t);\n        !t.name && e && (t.name = \"pasted-file-\".concat(++Hi, \".\").concat(e)), i.type = \"File\", i.file = t, null === (v = this.delegate) || void 0 === v || v.inputControllerWillAttachFiles(), null === (A = this.responder) || void 0 === A || A.insertFile(i.file), this.requestRender(), null === (x = this.delegate) || void 0 === x || x.inputControllerDidPaste(i);\n      }\n    }\n    t.preventDefault();\n  },\n  compositionstart(t) {\n    return this.getCompositionInput().start(t.data);\n  },\n  compositionupdate(t) {\n    return this.getCompositionInput().update(t.data);\n  },\n  compositionend(t) {\n    return this.getCompositionInput().end(t.data);\n  },\n  beforeinput(t) {\n    this.inputSummary.didInput = !0;\n  },\n  input(t) {\n    return this.inputSummary.didInput = !0, t.stopPropagation();\n  }\n}), be(Ji, \"keys\", {\n  backspace(t) {\n    var e;\n    return null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), this.deleteInDirection(\"backward\", t);\n  },\n  delete(t) {\n    var e;\n    return null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), this.deleteInDirection(\"forward\", t);\n  },\n  return(t) {\n    var e, i;\n    return this.setInputSummary({\n      preferDocument: !0\n    }), null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), null === (i = this.responder) || void 0 === i ? void 0 : i.insertLineBreak();\n  },\n  tab(t) {\n    var e, i;\n    null !== (e = this.responder) && void 0 !== e && e.canIncreaseNestingLevel() && (null === (i = this.responder) || void 0 === i || i.increaseNestingLevel(), this.requestRender(), t.preventDefault());\n  },\n  left(t) {\n    var e;\n    if (this.selectionIsInCursorTarget()) return t.preventDefault(), null === (e = this.responder) || void 0 === e ? void 0 : e.moveCursorInDirection(\"backward\");\n  },\n  right(t) {\n    var e;\n    if (this.selectionIsInCursorTarget()) return t.preventDefault(), null === (e = this.responder) || void 0 === e ? void 0 : e.moveCursorInDirection(\"forward\");\n  },\n  control: {\n    d(t) {\n      var e;\n      return null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), this.deleteInDirection(\"forward\", t);\n    },\n    h(t) {\n      var e;\n      return null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), this.deleteInDirection(\"backward\", t);\n    },\n    o(t) {\n      var e, i;\n      return t.preventDefault(), null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), null === (i = this.responder) || void 0 === i || i.insertString(\"\\n\", {\n        updatePosition: !1\n      }), this.requestRender();\n    }\n  },\n  shift: {\n    return(t) {\n      var e, i;\n      null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), null === (i = this.responder) || void 0 === i || i.insertString(\"\\n\"), this.requestRender(), t.preventDefault();\n    },\n    tab(t) {\n      var e, i;\n      null !== (e = this.responder) && void 0 !== e && e.canDecreaseNestingLevel() && (null === (i = this.responder) || void 0 === i || i.decreaseNestingLevel(), this.requestRender(), t.preventDefault());\n    },\n    left(t) {\n      if (this.selectionIsInCursorTarget()) return t.preventDefault(), this.expandSelectionInDirection(\"backward\");\n    },\n    right(t) {\n      if (this.selectionIsInCursorTarget()) return t.preventDefault(), this.expandSelectionInDirection(\"forward\");\n    }\n  },\n  alt: {\n    backspace(t) {\n      var e;\n      return this.setInputSummary({\n        preferDocument: !1\n      }), null === (e = this.delegate) || void 0 === e ? void 0 : e.inputControllerWillPerformTyping();\n    }\n  },\n  meta: {\n    backspace(t) {\n      var e;\n      return this.setInputSummary({\n        preferDocument: !1\n      }), null === (e = this.delegate) || void 0 === e ? void 0 : e.inputControllerWillPerformTyping();\n    }\n  }\n}), Ji.proxyMethod(\"responder?.getSelectedRange\"), Ji.proxyMethod(\"responder?.setSelectedRange\"), Ji.proxyMethod(\"responder?.expandSelectionInDirection\"), Ji.proxyMethod(\"responder?.selectionIsInCursorTarget\"), Ji.proxyMethod(\"responder?.selectionIsExpanded\");\nconst Ki = t => {\n    var e, i;\n    return null === (e = t.type) || void 0 === e || null === (i = e.match(/\\/(\\w+)$/)) || void 0 === i ? void 0 : i[1];\n  },\n  Gi = !(null === (Vi = \" \".codePointAt) || void 0 === Vi || !Vi.call(\" \", 0)),\n  $i = function (t) {\n    if (t.key && Gi && t.key.codePointAt(0) === t.keyCode) return t.key;\n    {\n      let e;\n      if (null === t.which ? e = t.keyCode : 0 !== t.which && 0 !== t.charCode && (e = t.charCode), null != e && \"escape\" !== _i[e]) return K.fromCodepoints([e]).toString();\n    }\n  },\n  Xi = function (t) {\n    const e = t.clipboardData;\n    if (e) {\n      if (e.types.includes(\"text/html\")) {\n        for (const t of e.types) {\n          const i = /^CorePasteboardFlavorType/.test(t),\n            n = /^dyn\\./.test(t) && e.getData(t);\n          if (i || n) return !0;\n        }\n        return !1;\n      }\n      {\n        const t = e.types.includes(\"com.apple.webarchive\"),\n          i = e.types.includes(\"com.apple.flat-rtfd\");\n        return t || i;\n      }\n    }\n  };\nclass Yi extends U {\n  constructor(t) {\n    super(...arguments), this.inputController = t, this.responder = this.inputController.responder, this.delegate = this.inputController.delegate, this.inputSummary = this.inputController.inputSummary, this.data = {};\n  }\n  start(t) {\n    if (this.data.start = t, this.isSignificant()) {\n      var e, i;\n      if (\"keypress\" === this.inputSummary.eventName && this.inputSummary.textAdded) null === (i = this.responder) || void 0 === i || i.deleteInDirection(\"left\");\n      this.selectionIsExpanded() || (this.insertPlaceholder(), this.requestRender()), this.range = null === (e = this.responder) || void 0 === e ? void 0 : e.getSelectedRange();\n    }\n  }\n  update(t) {\n    if (this.data.update = t, this.isSignificant()) {\n      const t = this.selectPlaceholder();\n      t && (this.forgetPlaceholder(), this.range = t);\n    }\n  }\n  end(t) {\n    return this.data.end = t, this.isSignificant() ? (this.forgetPlaceholder(), this.canApplyToDocument() ? (this.setInputSummary({\n      preferDocument: !0,\n      didInput: !1\n    }), null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), null === (i = this.responder) || void 0 === i || i.setSelectedRange(this.range), null === (n = this.responder) || void 0 === n || n.insertString(this.data.end), null === (r = this.responder) || void 0 === r ? void 0 : r.setSelectedRange(this.range[0] + this.data.end.length)) : null != this.data.start || null != this.data.update ? (this.requestReparse(), this.inputController.reset()) : void 0) : this.inputController.reset();\n    var e, i, n, r;\n  }\n  getEndData() {\n    return this.data.end;\n  }\n  isEnded() {\n    return null != this.getEndData();\n  }\n  isSignificant() {\n    return !zi.composesExistingText || this.inputSummary.didInput;\n  }\n  canApplyToDocument() {\n    var t, e;\n    return 0 === (null === (t = this.data.start) || void 0 === t ? void 0 : t.length) && (null === (e = this.data.end) || void 0 === e ? void 0 : e.length) > 0 && this.range;\n  }\n}\nYi.proxyMethod(\"inputController.setInputSummary\"), Yi.proxyMethod(\"inputController.requestRender\"), Yi.proxyMethod(\"inputController.requestReparse\"), Yi.proxyMethod(\"responder?.selectionIsExpanded\"), Yi.proxyMethod(\"responder?.insertPlaceholder\"), Yi.proxyMethod(\"responder?.selectPlaceholder\"), Yi.proxyMethod(\"responder?.forgetPlaceholder\");\nclass Qi extends qi {\n  constructor() {\n    super(...arguments), this.render = this.render.bind(this);\n  }\n  elementDidMutate() {\n    return this.scheduledRender ? this.composing ? null === (t = this.delegate) || void 0 === t || null === (e = t.inputControllerDidAllowUnhandledInput) || void 0 === e ? void 0 : e.call(t) : void 0 : this.reparse();\n    var t, e;\n  }\n  scheduleRender() {\n    return this.scheduledRender ? this.scheduledRender : this.scheduledRender = requestAnimationFrame(this.render);\n  }\n  render() {\n    var t, e;\n    (cancelAnimationFrame(this.scheduledRender), this.scheduledRender = null, this.composing) || null === (e = this.delegate) || void 0 === e || e.render();\n    null === (t = this.afterRender) || void 0 === t || t.call(this), this.afterRender = null;\n  }\n  reparse() {\n    var t;\n    return null === (t = this.delegate) || void 0 === t ? void 0 : t.reparse();\n  }\n  insertString() {\n    var t;\n    let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"\",\n      i = arguments.length > 1 ? arguments[1] : void 0;\n    return null === (t = this.delegate) || void 0 === t || t.inputControllerWillPerformTyping(), this.withTargetDOMRange(function () {\n      var t;\n      return null === (t = this.responder) || void 0 === t ? void 0 : t.insertString(e, i);\n    });\n  }\n  toggleAttributeIfSupported(t) {\n    var e;\n    if (ct().includes(t)) return null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformFormatting(t), this.withTargetDOMRange(function () {\n      var e;\n      return null === (e = this.responder) || void 0 === e ? void 0 : e.toggleCurrentAttribute(t);\n    });\n  }\n  activateAttributeIfSupported(t, e) {\n    var i;\n    if (ct().includes(t)) return null === (i = this.delegate) || void 0 === i || i.inputControllerWillPerformFormatting(t), this.withTargetDOMRange(function () {\n      var i;\n      return null === (i = this.responder) || void 0 === i ? void 0 : i.setCurrentAttribute(t, e);\n    });\n  }\n  deleteInDirection(t) {\n    let _ref21 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {\n        recordUndoEntry: !0\n      },\n      e = _ref21.recordUndoEntry;\n    var i;\n    e && (null === (i = this.delegate) || void 0 === i || i.inputControllerWillPerformTyping());\n    const n = () => {\n        var e;\n        return null === (e = this.responder) || void 0 === e ? void 0 : e.deleteInDirection(t);\n      },\n      r = this.getTargetDOMRange({\n        minLength: 2\n      });\n    return r ? this.withTargetDOMRange(r, n) : n();\n  }\n  withTargetDOMRange(t, e) {\n    var i;\n    return \"function\" == typeof t && (e = t, t = this.getTargetDOMRange()), t ? null === (i = this.responder) || void 0 === i ? void 0 : i.withTargetDOMRange(t, e.bind(this)) : (Ft.reset(), e.call(this));\n  }\n  getTargetDOMRange() {\n    var t, e;\n    let _ref22 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n        minLength: 0\n      },\n      i = _ref22.minLength;\n    const n = null === (t = (e = this.event).getTargetRanges) || void 0 === t ? void 0 : t.call(e);\n    if (n && n.length) {\n      const t = Zi(n[0]);\n      if (0 === i || t.toString().length >= i) return t;\n    }\n  }\n  withEvent(t, e) {\n    let i;\n    this.event = t;\n    try {\n      i = e.call(this);\n    } finally {\n      this.event = null;\n    }\n    return i;\n  }\n}\nbe(Qi, \"events\", {\n  keydown(t) {\n    if (xt(t)) {\n      var e;\n      const i = rn(t);\n      null !== (e = this.delegate) && void 0 !== e && e.inputControllerDidReceiveKeyboardCommand(i) && t.preventDefault();\n    } else {\n      let e = t.key;\n      t.altKey && (e += \"+Alt\"), t.shiftKey && (e += \"+Shift\");\n      const i = this.constructor.keys[e];\n      if (i) return this.withEvent(t, i);\n    }\n  },\n  paste(t) {\n    var e;\n    let i;\n    const n = null === (e = t.clipboardData) || void 0 === e ? void 0 : e.getData(\"URL\");\n    return en(t) ? (t.preventDefault(), this.attachFiles(t.clipboardData.files)) : nn(t) ? (t.preventDefault(), i = {\n      type: \"text/plain\",\n      string: t.clipboardData.getData(\"text/plain\")\n    }, null === (r = this.delegate) || void 0 === r || r.inputControllerWillPaste(i), null === (o = this.responder) || void 0 === o || o.insertString(i.string), this.render(), null === (s = this.delegate) || void 0 === s ? void 0 : s.inputControllerDidPaste(i)) : n ? (t.preventDefault(), i = {\n      type: \"text/html\",\n      html: this.createLinkHTML(n)\n    }, null === (a = this.delegate) || void 0 === a || a.inputControllerWillPaste(i), null === (l = this.responder) || void 0 === l || l.insertHTML(i.html), this.render(), null === (c = this.delegate) || void 0 === c ? void 0 : c.inputControllerDidPaste(i)) : void 0;\n    var r, o, s, a, l, c;\n  },\n  beforeinput(t) {\n    const e = this.constructor.inputTypes[t.inputType];\n    e && (this.withEvent(t, e), this.scheduleRender());\n  },\n  input(t) {\n    Ft.reset();\n  },\n  dragstart(t) {\n    var e, i;\n    null !== (e = this.responder) && void 0 !== e && e.selectionContainsAttachments() && (t.dataTransfer.setData(\"application/x-trix-dragging\", !0), this.dragging = {\n      range: null === (i = this.responder) || void 0 === i ? void 0 : i.getSelectedRange(),\n      point: on(t)\n    });\n  },\n  dragenter(t) {\n    tn(t) && t.preventDefault();\n  },\n  dragover(t) {\n    if (this.dragging) {\n      t.preventDefault();\n      const i = on(t);\n      var e;\n      if (!Rt(i, this.dragging.point)) return this.dragging.point = i, null === (e = this.responder) || void 0 === e ? void 0 : e.setLocationRangeFromPointRange(i);\n    } else tn(t) && t.preventDefault();\n  },\n  drop(t) {\n    var e, i;\n    if (this.dragging) return t.preventDefault(), null === (e = this.delegate) || void 0 === e || e.inputControllerWillMoveText(), null === (i = this.responder) || void 0 === i || i.moveTextFromRange(this.dragging.range), this.dragging = null, this.scheduleRender();\n    if (tn(t)) {\n      var n;\n      t.preventDefault();\n      const e = on(t);\n      return null === (n = this.responder) || void 0 === n || n.setLocationRangeFromPointRange(e), this.attachFiles(t.dataTransfer.files);\n    }\n  },\n  dragend() {\n    var t;\n    this.dragging && (null === (t = this.responder) || void 0 === t || t.setSelectedRange(this.dragging.range), this.dragging = null);\n  },\n  compositionend(t) {\n    this.composing && (this.composing = !1, o.recentAndroid || this.scheduleRender());\n  }\n}), be(Qi, \"keys\", {\n  ArrowLeft() {\n    var t, e;\n    if (null !== (t = this.responder) && void 0 !== t && t.shouldManageMovingCursorInDirection(\"backward\")) return this.event.preventDefault(), null === (e = this.responder) || void 0 === e ? void 0 : e.moveCursorInDirection(\"backward\");\n  },\n  ArrowRight() {\n    var t, e;\n    if (null !== (t = this.responder) && void 0 !== t && t.shouldManageMovingCursorInDirection(\"forward\")) return this.event.preventDefault(), null === (e = this.responder) || void 0 === e ? void 0 : e.moveCursorInDirection(\"forward\");\n  },\n  Backspace() {\n    var t, e, i;\n    if (null !== (t = this.responder) && void 0 !== t && t.shouldManageDeletingInDirection(\"backward\")) return this.event.preventDefault(), null === (e = this.delegate) || void 0 === e || e.inputControllerWillPerformTyping(), null === (i = this.responder) || void 0 === i || i.deleteInDirection(\"backward\"), this.render();\n  },\n  Tab() {\n    var t, e;\n    if (null !== (t = this.responder) && void 0 !== t && t.canIncreaseNestingLevel()) return this.event.preventDefault(), null === (e = this.responder) || void 0 === e || e.increaseNestingLevel(), this.render();\n  },\n  \"Tab+Shift\"() {\n    var t, e;\n    if (null !== (t = this.responder) && void 0 !== t && t.canDecreaseNestingLevel()) return this.event.preventDefault(), null === (e = this.responder) || void 0 === e || e.decreaseNestingLevel(), this.render();\n  }\n}), be(Qi, \"inputTypes\", {\n  deleteByComposition() {\n    return this.deleteInDirection(\"backward\", {\n      recordUndoEntry: !1\n    });\n  },\n  deleteByCut() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteByDrag() {\n    return this.event.preventDefault(), this.withTargetDOMRange(function () {\n      var t;\n      this.deleteByDragRange = null === (t = this.responder) || void 0 === t ? void 0 : t.getSelectedRange();\n    });\n  },\n  deleteCompositionText() {\n    return this.deleteInDirection(\"backward\", {\n      recordUndoEntry: !1\n    });\n  },\n  deleteContent() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteContentBackward() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteContentForward() {\n    return this.deleteInDirection(\"forward\");\n  },\n  deleteEntireSoftLine() {\n    return this.deleteInDirection(\"forward\");\n  },\n  deleteHardLineBackward() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteHardLineForward() {\n    return this.deleteInDirection(\"forward\");\n  },\n  deleteSoftLineBackward() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteSoftLineForward() {\n    return this.deleteInDirection(\"forward\");\n  },\n  deleteWordBackward() {\n    return this.deleteInDirection(\"backward\");\n  },\n  deleteWordForward() {\n    return this.deleteInDirection(\"forward\");\n  },\n  formatBackColor() {\n    return this.activateAttributeIfSupported(\"backgroundColor\", this.event.data);\n  },\n  formatBold() {\n    return this.toggleAttributeIfSupported(\"bold\");\n  },\n  formatFontColor() {\n    return this.activateAttributeIfSupported(\"color\", this.event.data);\n  },\n  formatFontName() {\n    return this.activateAttributeIfSupported(\"font\", this.event.data);\n  },\n  formatIndent() {\n    var t;\n    if (null !== (t = this.responder) && void 0 !== t && t.canIncreaseNestingLevel()) return this.withTargetDOMRange(function () {\n      var t;\n      return null === (t = this.responder) || void 0 === t ? void 0 : t.increaseNestingLevel();\n    });\n  },\n  formatItalic() {\n    return this.toggleAttributeIfSupported(\"italic\");\n  },\n  formatJustifyCenter() {\n    return this.toggleAttributeIfSupported(\"justifyCenter\");\n  },\n  formatJustifyFull() {\n    return this.toggleAttributeIfSupported(\"justifyFull\");\n  },\n  formatJustifyLeft() {\n    return this.toggleAttributeIfSupported(\"justifyLeft\");\n  },\n  formatJustifyRight() {\n    return this.toggleAttributeIfSupported(\"justifyRight\");\n  },\n  formatOutdent() {\n    var t;\n    if (null !== (t = this.responder) && void 0 !== t && t.canDecreaseNestingLevel()) return this.withTargetDOMRange(function () {\n      var t;\n      return null === (t = this.responder) || void 0 === t ? void 0 : t.decreaseNestingLevel();\n    });\n  },\n  formatRemove() {\n    this.withTargetDOMRange(function () {\n      for (const i in null === (t = this.responder) || void 0 === t ? void 0 : t.getCurrentAttributes()) {\n        var t, e;\n        null === (e = this.responder) || void 0 === e || e.removeCurrentAttribute(i);\n      }\n    });\n  },\n  formatSetBlockTextDirection() {\n    return this.activateAttributeIfSupported(\"blockDir\", this.event.data);\n  },\n  formatSetInlineTextDirection() {\n    return this.activateAttributeIfSupported(\"textDir\", this.event.data);\n  },\n  formatStrikeThrough() {\n    return this.toggleAttributeIfSupported(\"strike\");\n  },\n  formatSubscript() {\n    return this.toggleAttributeIfSupported(\"sub\");\n  },\n  formatSuperscript() {\n    return this.toggleAttributeIfSupported(\"sup\");\n  },\n  formatUnderline() {\n    return this.toggleAttributeIfSupported(\"underline\");\n  },\n  historyRedo() {\n    var t;\n    return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerWillPerformRedo();\n  },\n  historyUndo() {\n    var t;\n    return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerWillPerformUndo();\n  },\n  insertCompositionText() {\n    return this.composing = !0, this.insertString(this.event.data);\n  },\n  insertFromComposition() {\n    return this.composing = !1, this.insertString(this.event.data);\n  },\n  insertFromDrop() {\n    const t = this.deleteByDragRange;\n    var e;\n    if (t) return this.deleteByDragRange = null, null === (e = this.delegate) || void 0 === e || e.inputControllerWillMoveText(), this.withTargetDOMRange(function () {\n      var e;\n      return null === (e = this.responder) || void 0 === e ? void 0 : e.moveTextFromRange(t);\n    });\n  },\n  insertFromPaste() {\n    var t;\n    const e = this.event.dataTransfer,\n      i = {\n        dataTransfer: e\n      },\n      n = e.getData(\"URL\"),\n      r = e.getData(\"text/html\");\n    if (n) {\n      var o;\n      let t;\n      this.event.preventDefault(), i.type = \"text/html\";\n      const r = e.getData(\"public.url-name\");\n      t = r ? Wt(r).trim() : n, i.html = this.createLinkHTML(n, t), null === (o = this.delegate) || void 0 === o || o.inputControllerWillPaste(i), this.withTargetDOMRange(function () {\n        var t;\n        return null === (t = this.responder) || void 0 === t ? void 0 : t.insertHTML(i.html);\n      }), this.afterRender = () => {\n        var t;\n        return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerDidPaste(i);\n      };\n    } else if (At(e)) {\n      var s;\n      i.type = \"text/plain\", i.string = e.getData(\"text/plain\"), null === (s = this.delegate) || void 0 === s || s.inputControllerWillPaste(i), this.withTargetDOMRange(function () {\n        var t;\n        return null === (t = this.responder) || void 0 === t ? void 0 : t.insertString(i.string);\n      }), this.afterRender = () => {\n        var t;\n        return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerDidPaste(i);\n      };\n    } else if (r) {\n      var a;\n      this.event.preventDefault(), i.type = \"text/html\", i.html = r, null === (a = this.delegate) || void 0 === a || a.inputControllerWillPaste(i), this.withTargetDOMRange(function () {\n        var t;\n        return null === (t = this.responder) || void 0 === t ? void 0 : t.insertHTML(i.html);\n      }), this.afterRender = () => {\n        var t;\n        return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerDidPaste(i);\n      };\n    } else if (null !== (t = e.files) && void 0 !== t && t.length) {\n      var l;\n      i.type = \"File\", i.file = e.files[0], null === (l = this.delegate) || void 0 === l || l.inputControllerWillPaste(i), this.withTargetDOMRange(function () {\n        var t;\n        return null === (t = this.responder) || void 0 === t ? void 0 : t.insertFile(i.file);\n      }), this.afterRender = () => {\n        var t;\n        return null === (t = this.delegate) || void 0 === t ? void 0 : t.inputControllerDidPaste(i);\n      };\n    }\n  },\n  insertFromYank() {\n    return this.insertString(this.event.data);\n  },\n  insertLineBreak() {\n    return this.insertString(\"\\n\");\n  },\n  insertLink() {\n    return this.activateAttributeIfSupported(\"href\", this.event.data);\n  },\n  insertOrderedList() {\n    return this.toggleAttributeIfSupported(\"number\");\n  },\n  insertParagraph() {\n    var t;\n    return null === (t = this.delegate) || void 0 === t || t.inputControllerWillPerformTyping(), this.withTargetDOMRange(function () {\n      var t;\n      return null === (t = this.responder) || void 0 === t ? void 0 : t.insertLineBreak();\n    });\n  },\n  insertReplacementText() {\n    return this.insertString(this.event.dataTransfer.getData(\"text/plain\"), {\n      updatePosition: !1\n    });\n  },\n  insertText() {\n    var t;\n    return this.insertString(this.event.data || (null === (t = this.event.dataTransfer) || void 0 === t ? void 0 : t.getData(\"text/plain\")));\n  },\n  insertTranspose() {\n    return this.insertString(this.event.data);\n  },\n  insertUnorderedList() {\n    return this.toggleAttributeIfSupported(\"bullet\");\n  }\n});\nconst Zi = function (t) {\n    const e = document.createRange();\n    return e.setStart(t.startContainer, t.startOffset), e.setEnd(t.endContainer, t.endOffset), e;\n  },\n  tn = t => {\n    var e;\n    return Array.from((null === (e = t.dataTransfer) || void 0 === e ? void 0 : e.types) || []).includes(\"Files\");\n  },\n  en = function (t) {\n    const e = t.clipboardData;\n    if (e) return e.types.includes(\"Files\") && 1 === e.types.length && e.files.length >= 1;\n  },\n  nn = function (t) {\n    const e = t.clipboardData;\n    if (e) return e.types.includes(\"text/plain\") && 1 === e.types.length;\n  },\n  rn = function (t) {\n    const e = [];\n    return t.altKey && e.push(\"alt\"), t.shiftKey && e.push(\"shift\"), e.push(t.key), e;\n  },\n  on = t => ({\n    x: t.clientX,\n    y: t.clientY\n  }),\n  sn = \"\".concat(\"[data-trix-attribute]\", \", \").concat(\"[data-trix-action]\"),\n  an = \"\".concat(\"[data-trix-dialog]\", \"[data-trix-active]\"),\n  ln = \"\".concat(\"[data-trix-dialog]\", \" [data-trix-method]\"),\n  cn = \"\".concat(\"[data-trix-dialog]\", \" [data-trix-input]\"),\n  hn = (t, e) => (e || (e = dn(t)), t.querySelector(\"[data-trix-input][name='\".concat(e, \"']\"))),\n  un = t => t.getAttribute(\"data-trix-action\"),\n  dn = t => t.getAttribute(\"data-trix-attribute\") || t.getAttribute(\"data-trix-dialog-attribute\");\nclass gn extends U {\n  constructor(t) {\n    super(t), this.didClickActionButton = this.didClickActionButton.bind(this), this.didClickAttributeButton = this.didClickAttributeButton.bind(this), this.didClickDialogButton = this.didClickDialogButton.bind(this), this.didKeyDownDialogInput = this.didKeyDownDialogInput.bind(this), this.element = t, this.attributes = {}, this.actions = {}, this.resetDialogInputs(), d(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: \"[data-trix-action]\",\n      withCallback: this.didClickActionButton\n    }), d(\"mousedown\", {\n      onElement: this.element,\n      matchingSelector: \"[data-trix-attribute]\",\n      withCallback: this.didClickAttributeButton\n    }), d(\"click\", {\n      onElement: this.element,\n      matchingSelector: sn,\n      preventDefault: !0\n    }), d(\"click\", {\n      onElement: this.element,\n      matchingSelector: ln,\n      withCallback: this.didClickDialogButton\n    }), d(\"keydown\", {\n      onElement: this.element,\n      matchingSelector: cn,\n      withCallback: this.didKeyDownDialogInput\n    });\n  }\n  didClickActionButton(t, e) {\n    var i;\n    null === (i = this.delegate) || void 0 === i || i.toolbarDidClickButton(), t.preventDefault();\n    const n = un(e);\n    return this.getDialog(n) ? this.toggleDialog(n) : null === (r = this.delegate) || void 0 === r ? void 0 : r.toolbarDidInvokeAction(n);\n    var r;\n  }\n  didClickAttributeButton(t, e) {\n    var i;\n    null === (i = this.delegate) || void 0 === i || i.toolbarDidClickButton(), t.preventDefault();\n    const n = dn(e);\n    var r;\n    this.getDialog(n) ? this.toggleDialog(n) : null === (r = this.delegate) || void 0 === r || r.toolbarDidToggleAttribute(n);\n    return this.refreshAttributeButtons();\n  }\n  didClickDialogButton(t, e) {\n    const i = p(e, {\n      matchingSelector: \"[data-trix-dialog]\"\n    });\n    return this[e.getAttribute(\"data-trix-method\")].call(this, i);\n  }\n  didKeyDownDialogInput(t, e) {\n    if (13 === t.keyCode) {\n      t.preventDefault();\n      const i = e.getAttribute(\"name\"),\n        n = this.getDialog(i);\n      this.setAttribute(n);\n    }\n    if (27 === t.keyCode) return t.preventDefault(), this.hideDialog();\n  }\n  updateActions(t) {\n    return this.actions = t, this.refreshActionButtons();\n  }\n  refreshActionButtons() {\n    return this.eachActionButton((t, e) => {\n      t.disabled = !1 === this.actions[e];\n    });\n  }\n  eachActionButton(t) {\n    return Array.from(this.element.querySelectorAll(\"[data-trix-action]\")).map(e => t(e, un(e)));\n  }\n  updateAttributes(t) {\n    return this.attributes = t, this.refreshAttributeButtons();\n  }\n  refreshAttributeButtons() {\n    return this.eachAttributeButton((t, e) => (t.disabled = !1 === this.attributes[e], this.attributes[e] || this.dialogIsVisible(e) ? (t.setAttribute(\"data-trix-active\", \"\"), t.classList.add(\"trix-active\")) : (t.removeAttribute(\"data-trix-active\"), t.classList.remove(\"trix-active\"))));\n  }\n  eachAttributeButton(t) {\n    return Array.from(this.element.querySelectorAll(\"[data-trix-attribute]\")).map(e => t(e, dn(e)));\n  }\n  applyKeyboardCommand(t) {\n    const e = JSON.stringify(t.sort());\n    for (const t of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))) {\n      const i = t.getAttribute(\"data-trix-key\").split(\"+\");\n      if (JSON.stringify(i.sort()) === e) return g(\"mousedown\", {\n        onElement: t\n      }), !0;\n    }\n    return !1;\n  }\n  dialogIsVisible(t) {\n    const e = this.getDialog(t);\n    if (e) return e.hasAttribute(\"data-trix-active\");\n  }\n  toggleDialog(t) {\n    return this.dialogIsVisible(t) ? this.hideDialog() : this.showDialog(t);\n  }\n  showDialog(t) {\n    var e, i;\n    this.hideDialog(), null === (e = this.delegate) || void 0 === e || e.toolbarWillShowDialog();\n    const n = this.getDialog(t);\n    n.setAttribute(\"data-trix-active\", \"\"), n.classList.add(\"trix-active\"), Array.from(n.querySelectorAll(\"input[disabled]\")).forEach(t => {\n      t.removeAttribute(\"disabled\");\n    });\n    const r = dn(n);\n    if (r) {\n      const e = hn(n, t);\n      e && (e.value = this.attributes[r] || \"\", e.select());\n    }\n    return null === (i = this.delegate) || void 0 === i ? void 0 : i.toolbarDidShowDialog(t);\n  }\n  setAttribute(t) {\n    const e = dn(t),\n      i = hn(t, e);\n    return i.willValidate && !i.checkValidity() ? (i.setAttribute(\"data-trix-validate\", \"\"), i.classList.add(\"trix-validate\"), i.focus()) : (null === (n = this.delegate) || void 0 === n || n.toolbarDidUpdateAttribute(e, i.value), this.hideDialog());\n    var n;\n  }\n  removeAttribute(t) {\n    var e;\n    const i = dn(t);\n    return null === (e = this.delegate) || void 0 === e || e.toolbarDidRemoveAttribute(i), this.hideDialog();\n  }\n  hideDialog() {\n    const t = this.element.querySelector(an);\n    var e;\n    if (t) return t.removeAttribute(\"data-trix-active\"), t.classList.remove(\"trix-active\"), this.resetDialogInputs(), null === (e = this.delegate) || void 0 === e ? void 0 : e.toolbarDidHideDialog((t => t.getAttribute(\"data-trix-dialog\"))(t));\n  }\n  resetDialogInputs() {\n    Array.from(this.element.querySelectorAll(cn)).forEach(t => {\n      t.setAttribute(\"disabled\", \"disabled\"), t.removeAttribute(\"data-trix-validate\"), t.classList.remove(\"trix-validate\");\n    });\n  }\n  getDialog(t) {\n    return this.element.querySelector(\"[data-trix-dialog=\".concat(t, \"]\"));\n  }\n}\nclass mn extends Fi {\n  constructor(t) {\n    let e = t.editorElement,\n      i = t.document,\n      n = t.html;\n    super(...arguments), this.editorElement = e, this.selectionManager = new Ci(this.editorElement), this.selectionManager.delegate = this, this.composition = new ci(), this.composition.delegate = this, this.attachmentManager = new ai(this.composition.getAttachments()), this.attachmentManager.delegate = this, this.inputController = 2 === P.getLevel() ? new Qi(this.editorElement) : new Ji(this.editorElement), this.inputController.delegate = this, this.inputController.responder = this.composition, this.compositionController = new Ti(this.editorElement, this.composition), this.compositionController.delegate = this, this.toolbarController = new gn(this.editorElement.toolbarElement), this.toolbarController.delegate = this, this.editor = new pi(this.composition, this.selectionManager, this.editorElement), i ? this.editor.loadDocument(i) : this.editor.loadHTML(n);\n  }\n  registerSelectionManager() {\n    return Ft.registerSelectionManager(this.selectionManager);\n  }\n  unregisterSelectionManager() {\n    return Ft.unregisterSelectionManager(this.selectionManager);\n  }\n  render() {\n    return this.compositionController.render();\n  }\n  reparse() {\n    return this.composition.replaceHTML(this.editorElement.innerHTML);\n  }\n  compositionDidChangeDocument(t) {\n    if (this.notifyEditorElement(\"document-change\"), !this.handlingInput) return this.render();\n  }\n  compositionDidChangeCurrentAttributes(t) {\n    return this.currentAttributes = t, this.toolbarController.updateAttributes(this.currentAttributes), this.updateCurrentActions(), this.notifyEditorElement(\"attributes-change\", {\n      attributes: this.currentAttributes\n    });\n  }\n  compositionDidPerformInsertionAtRange(t) {\n    this.pasting && (this.pastedRange = t);\n  }\n  compositionShouldAcceptFile(t) {\n    return this.notifyEditorElement(\"file-accept\", {\n      file: t\n    });\n  }\n  compositionDidAddAttachment(t) {\n    const e = this.attachmentManager.manageAttachment(t);\n    return this.notifyEditorElement(\"attachment-add\", {\n      attachment: e\n    });\n  }\n  compositionDidEditAttachment(t) {\n    this.compositionController.rerenderViewForObject(t);\n    const e = this.attachmentManager.manageAttachment(t);\n    return this.notifyEditorElement(\"attachment-edit\", {\n      attachment: e\n    }), this.notifyEditorElement(\"change\");\n  }\n  compositionDidChangeAttachmentPreviewURL(t) {\n    return this.compositionController.invalidateViewForObject(t), this.notifyEditorElement(\"change\");\n  }\n  compositionDidRemoveAttachment(t) {\n    const e = this.attachmentManager.unmanageAttachment(t);\n    return this.notifyEditorElement(\"attachment-remove\", {\n      attachment: e\n    });\n  }\n  compositionDidStartEditingAttachment(t, e) {\n    return this.attachmentLocationRange = this.composition.document.getLocationRangeOfAttachment(t), this.compositionController.installAttachmentEditorForAttachment(t, e), this.selectionManager.setLocationRange(this.attachmentLocationRange);\n  }\n  compositionDidStopEditingAttachment(t) {\n    this.compositionController.uninstallAttachmentEditor(), this.attachmentLocationRange = null;\n  }\n  compositionDidRequestChangingSelectionToLocationRange(t) {\n    if (!this.loadingSnapshot || this.isFocused()) return this.requestedLocationRange = t, this.compositionRevisionWhenLocationRangeRequested = this.composition.revision, this.handlingInput ? void 0 : this.render();\n  }\n  compositionWillLoadSnapshot() {\n    this.loadingSnapshot = !0;\n  }\n  compositionDidLoadSnapshot() {\n    this.compositionController.refreshViewCache(), this.render(), this.loadingSnapshot = !1;\n  }\n  getSelectionManager() {\n    return this.selectionManager;\n  }\n  attachmentManagerDidRequestRemovalOfAttachment(t) {\n    return this.removeAttachment(t);\n  }\n  compositionControllerWillSyncDocumentView() {\n    return this.inputController.editorWillSyncDocumentView(), this.selectionManager.lock(), this.selectionManager.clearSelection();\n  }\n  compositionControllerDidSyncDocumentView() {\n    return this.inputController.editorDidSyncDocumentView(), this.selectionManager.unlock(), this.updateCurrentActions(), this.notifyEditorElement(\"sync\");\n  }\n  compositionControllerDidRender() {\n    this.requestedLocationRange && (this.compositionRevisionWhenLocationRangeRequested === this.composition.revision && this.selectionManager.setLocationRange(this.requestedLocationRange), this.requestedLocationRange = null, this.compositionRevisionWhenLocationRangeRequested = null), this.renderedCompositionRevision !== this.composition.revision && (this.runEditorFilters(), this.composition.updateCurrentAttributes(), this.notifyEditorElement(\"render\")), this.renderedCompositionRevision = this.composition.revision;\n  }\n  compositionControllerDidFocus() {\n    return this.isFocusedInvisibly() && this.setLocationRange({\n      index: 0,\n      offset: 0\n    }), this.toolbarController.hideDialog(), this.notifyEditorElement(\"focus\");\n  }\n  compositionControllerDidBlur() {\n    return this.notifyEditorElement(\"blur\");\n  }\n  compositionControllerDidSelectAttachment(t, e) {\n    return this.toolbarController.hideDialog(), this.composition.editAttachment(t, e);\n  }\n  compositionControllerDidRequestDeselectingAttachment(t) {\n    const e = this.attachmentLocationRange || this.composition.document.getLocationRangeOfAttachment(t);\n    return this.selectionManager.setLocationRange(e[1]);\n  }\n  compositionControllerWillUpdateAttachment(t) {\n    return this.editor.recordUndoEntry(\"Edit Attachment\", {\n      context: t.id,\n      consolidatable: !0\n    });\n  }\n  compositionControllerDidRequestRemovalOfAttachment(t) {\n    return this.removeAttachment(t);\n  }\n  inputControllerWillHandleInput() {\n    this.handlingInput = !0, this.requestedRender = !1;\n  }\n  inputControllerDidRequestRender() {\n    this.requestedRender = !0;\n  }\n  inputControllerDidHandleInput() {\n    if (this.handlingInput = !1, this.requestedRender) return this.requestedRender = !1, this.render();\n  }\n  inputControllerDidAllowUnhandledInput() {\n    return this.notifyEditorElement(\"change\");\n  }\n  inputControllerDidRequestReparse() {\n    return this.reparse();\n  }\n  inputControllerWillPerformTyping() {\n    return this.recordTypingUndoEntry();\n  }\n  inputControllerWillPerformFormatting(t) {\n    return this.recordFormattingUndoEntry(t);\n  }\n  inputControllerWillCutText() {\n    return this.editor.recordUndoEntry(\"Cut\");\n  }\n  inputControllerWillPaste(t) {\n    return this.editor.recordUndoEntry(\"Paste\"), this.pasting = !0, this.notifyEditorElement(\"before-paste\", {\n      paste: t\n    });\n  }\n  inputControllerDidPaste(t) {\n    return t.range = this.pastedRange, this.pastedRange = null, this.pasting = null, this.notifyEditorElement(\"paste\", {\n      paste: t\n    });\n  }\n  inputControllerWillMoveText() {\n    return this.editor.recordUndoEntry(\"Move\");\n  }\n  inputControllerWillAttachFiles() {\n    return this.editor.recordUndoEntry(\"Drop Files\");\n  }\n  inputControllerWillPerformUndo() {\n    return this.editor.undo();\n  }\n  inputControllerWillPerformRedo() {\n    return this.editor.redo();\n  }\n  inputControllerDidReceiveKeyboardCommand(t) {\n    return this.toolbarController.applyKeyboardCommand(t);\n  }\n  inputControllerDidStartDrag() {\n    this.locationRangeBeforeDrag = this.selectionManager.getLocationRange();\n  }\n  inputControllerDidReceiveDragOverPoint(t) {\n    return this.selectionManager.setLocationRangeFromPointRange(t);\n  }\n  inputControllerDidCancelDrag() {\n    this.selectionManager.setLocationRange(this.locationRangeBeforeDrag), this.locationRangeBeforeDrag = null;\n  }\n  locationRangeDidChange(t) {\n    return this.composition.updateCurrentAttributes(), this.updateCurrentActions(), this.attachmentLocationRange && !kt(this.attachmentLocationRange, t) && this.composition.stopEditingAttachment(), this.notifyEditorElement(\"selection-change\");\n  }\n  toolbarDidClickButton() {\n    if (!this.getLocationRange()) return this.setLocationRange({\n      index: 0,\n      offset: 0\n    });\n  }\n  toolbarDidInvokeAction(t) {\n    return this.invokeAction(t);\n  }\n  toolbarDidToggleAttribute(t) {\n    if (this.recordFormattingUndoEntry(t), this.composition.toggleCurrentAttribute(t), this.render(), !this.selectionFrozen) return this.editorElement.focus();\n  }\n  toolbarDidUpdateAttribute(t, e) {\n    if (this.recordFormattingUndoEntry(t), this.composition.setCurrentAttribute(t, e), this.render(), !this.selectionFrozen) return this.editorElement.focus();\n  }\n  toolbarDidRemoveAttribute(t) {\n    if (this.recordFormattingUndoEntry(t), this.composition.removeCurrentAttribute(t), this.render(), !this.selectionFrozen) return this.editorElement.focus();\n  }\n  toolbarWillShowDialog(t) {\n    return this.composition.expandSelectionForEditing(), this.freezeSelection();\n  }\n  toolbarDidShowDialog(t) {\n    return this.notifyEditorElement(\"toolbar-dialog-show\", {\n      dialogName: t\n    });\n  }\n  toolbarDidHideDialog(t) {\n    return this.thawSelection(), this.editorElement.focus(), this.notifyEditorElement(\"toolbar-dialog-hide\", {\n      dialogName: t\n    });\n  }\n  freezeSelection() {\n    if (!this.selectionFrozen) return this.selectionManager.lock(), this.composition.freezeSelection(), this.selectionFrozen = !0, this.render();\n  }\n  thawSelection() {\n    if (this.selectionFrozen) return this.composition.thawSelection(), this.selectionManager.unlock(), this.selectionFrozen = !1, this.render();\n  }\n  canInvokeAction(t) {\n    return !!this.actionIsExternal(t) || !(null === (e = this.actions[t]) || void 0 === e || null === (i = e.test) || void 0 === i || !i.call(this));\n    var e, i;\n  }\n  invokeAction(t) {\n    return this.actionIsExternal(t) ? this.notifyEditorElement(\"action-invoke\", {\n      actionName: t\n    }) : null === (e = this.actions[t]) || void 0 === e || null === (i = e.perform) || void 0 === i ? void 0 : i.call(this);\n    var e, i;\n  }\n  actionIsExternal(t) {\n    return /^x-./.test(t);\n  }\n  getCurrentActions() {\n    const t = {};\n    for (const e in this.actions) t[e] = this.canInvokeAction(e);\n    return t;\n  }\n  updateCurrentActions() {\n    const t = this.getCurrentActions();\n    if (!Rt(t, this.currentActions)) return this.currentActions = t, this.toolbarController.updateActions(this.currentActions), this.notifyEditorElement(\"actions-change\", {\n      actions: this.currentActions\n    });\n  }\n  runEditorFilters() {\n    let t = this.composition.getSnapshot();\n    if (Array.from(this.editor.filters).forEach(e => {\n      const _t18 = t,\n        i = _t18.document,\n        n = _t18.selectedRange;\n      t = e.call(this.editor, t) || {}, t.document || (t.document = i), t.selectedRange || (t.selectedRange = n);\n    }), e = t, i = this.composition.getSnapshot(), !kt(e.selectedRange, i.selectedRange) || !e.document.isEqualTo(i.document)) return this.composition.loadSnapshot(t);\n    var e, i;\n  }\n  updateInputElement() {\n    const t = function (t, e) {\n      const i = ri[e];\n      if (i) return i(t);\n      throw new Error(\"unknown content type: \".concat(e));\n    }(this.compositionController.getSerializableElement(), \"text/html\");\n    return this.editorElement.setInputElementValue(t);\n  }\n  notifyEditorElement(t, e) {\n    switch (t) {\n      case \"document-change\":\n        this.documentChangedSinceLastRender = !0;\n        break;\n      case \"render\":\n        this.documentChangedSinceLastRender && (this.documentChangedSinceLastRender = !1, this.notifyEditorElement(\"change\"));\n        break;\n      case \"change\":\n      case \"attachment-add\":\n      case \"attachment-edit\":\n      case \"attachment-remove\":\n        this.updateInputElement();\n    }\n    return this.editorElement.notify(t, e);\n  }\n  removeAttachment(t) {\n    return this.editor.recordUndoEntry(\"Delete Attachment\"), this.composition.removeAttachment(t), this.render();\n  }\n  recordFormattingUndoEntry(t) {\n    const e = ht(t),\n      i = this.selectionManager.getLocationRange();\n    if (e || !St(i)) return this.editor.recordUndoEntry(\"Formatting\", {\n      context: this.getUndoContext(),\n      consolidatable: !0\n    });\n  }\n  recordTypingUndoEntry() {\n    return this.editor.recordUndoEntry(\"Typing\", {\n      context: this.getUndoContext(this.currentAttributes),\n      consolidatable: !0\n    });\n  }\n  getUndoContext() {\n    for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];\n    return [this.getLocationContext(), this.getTimeContext(), ...Array.from(e)];\n  }\n  getLocationContext() {\n    const t = this.selectionManager.getLocationRange();\n    return St(t) ? t[0].index : t;\n  }\n  getTimeContext() {\n    return j.interval > 0 ? Math.floor(new Date().getTime() / j.interval) : 0;\n  }\n  isFocused() {\n    var t;\n    return this.editorElement === (null === (t = this.editorElement.ownerDocument) || void 0 === t ? void 0 : t.activeElement);\n  }\n  isFocusedInvisibly() {\n    return this.isFocused() && !this.getLocationRange();\n  }\n  get actions() {\n    return this.constructor.actions;\n  }\n}\nbe(mn, \"actions\", {\n  undo: {\n    test() {\n      return this.editor.canUndo();\n    },\n    perform() {\n      return this.editor.undo();\n    }\n  },\n  redo: {\n    test() {\n      return this.editor.canRedo();\n    },\n    perform() {\n      return this.editor.redo();\n    }\n  },\n  link: {\n    test() {\n      return this.editor.canActivateAttribute(\"href\");\n    }\n  },\n  increaseNestingLevel: {\n    test() {\n      return this.editor.canIncreaseNestingLevel();\n    },\n    perform() {\n      return this.editor.increaseNestingLevel() && this.render();\n    }\n  },\n  decreaseNestingLevel: {\n    test() {\n      return this.editor.canDecreaseNestingLevel();\n    },\n    perform() {\n      return this.editor.decreaseNestingLevel() && this.render();\n    }\n  },\n  attachFiles: {\n    test: () => !0,\n    perform() {\n      return P.pickFiles(this.editor.insertFiles);\n    }\n  }\n}), mn.proxyMethod(\"getSelectionManager().setLocationRange\"), mn.proxyMethod(\"getSelectionManager().getLocationRange\");\nvar pn = Object.freeze({\n    __proto__: null,\n    AttachmentEditorController: wi,\n    CompositionController: Ti,\n    Controller: Fi,\n    EditorController: mn,\n    InputController: qi,\n    Level0InputController: Ji,\n    Level2InputController: Qi,\n    ToolbarController: gn\n  }),\n  fn = Object.freeze({\n    __proto__: null,\n    MutationObserver: Pi,\n    SelectionChangeObserver: wt\n  }),\n  bn = Object.freeze({\n    __proto__: null,\n    FileVerificationOperation: Oi,\n    ImagePreloadOperation: Ae\n  });\nmt(\"trix-toolbar\", \"%t {\\n  display: block;\\n}\\n\\n%t {\\n  white-space: nowrap;\\n}\\n\\n%t [data-trix-dialog] {\\n  display: none;\\n}\\n\\n%t [data-trix-dialog][data-trix-active] {\\n  display: block;\\n}\\n\\n%t [data-trix-dialog] [data-trix-validate]:invalid {\\n  background-color: #ffdddd;\\n}\");\nclass vn extends HTMLElement {\n  connectedCallback() {\n    \"\" === this.innerHTML && (this.innerHTML = M.getDefaultHTML());\n  }\n}\nlet An = 0;\nconst xn = function (t) {\n    if (!t.hasAttribute(\"contenteditable\")) return t.setAttribute(\"contenteditable\", \"\"), function (t) {\n      let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n      return e.times = 1, d(t, e);\n    }(\"focus\", {\n      onElement: t,\n      withCallback: () => yn(t)\n    });\n  },\n  yn = function (t) {\n    return Cn(t), Rn(t);\n  },\n  Cn = function (t) {\n    var e, i;\n    if (null !== (e = (i = document).queryCommandSupported) && void 0 !== e && e.call(i, \"enableObjectResizing\")) return document.execCommand(\"enableObjectResizing\", !1, !1), d(\"mscontrolselect\", {\n      onElement: t,\n      preventDefault: !0\n    });\n  },\n  Rn = function (t) {\n    var i, n;\n    if (null !== (i = (n = document).queryCommandSupported) && void 0 !== i && i.call(n, \"DefaultParagraphSeparator\")) {\n      const t = e.default.tagName;\n      if ([\"div\", \"p\"].includes(t)) return document.execCommand(\"DefaultParagraphSeparator\", !1, t);\n    }\n  },\n  En = o.forcesObjectResizing ? {\n    display: \"inline\",\n    width: \"auto\"\n  } : {\n    display: \"inline-block\",\n    width: \"1px\"\n  };\nmt(\"trix-editor\", \"%t {\\n    display: block;\\n}\\n\\n%t:empty:not(:focus)::before {\\n    content: attr(placeholder);\\n    color: graytext;\\n    cursor: text;\\n    pointer-events: none;\\n    white-space: pre-line;\\n}\\n\\n%t a[contenteditable=false] {\\n    cursor: text;\\n}\\n\\n%t img {\\n    max-width: 100%;\\n    height: auto;\\n}\\n\\n%t \".concat(\"[data-trix-attachment]\", \" figcaption textarea {\\n    resize: none;\\n}\\n\\n%t \").concat(\"[data-trix-attachment]\", \" figcaption textarea.trix-autoresize-clone {\\n    position: absolute;\\n    left: -9999px;\\n    max-height: 0px;\\n}\\n\\n%t \").concat(\"[data-trix-attachment]\", \" figcaption[data-trix-placeholder]:empty::before {\\n    content: attr(data-trix-placeholder);\\n    color: graytext;\\n}\\n\\n%t [data-trix-cursor-target] {\\n    display: \").concat(En.display, \" !important;\\n    width: \").concat(En.width, \" !important;\\n    padding: 0 !important;\\n    margin: 0 !important;\\n    border: none !important;\\n}\\n\\n%t [data-trix-cursor-target=left] {\\n    vertical-align: top !important;\\n    margin-left: -1px !important;\\n}\\n\\n%t [data-trix-cursor-target=right] {\\n    vertical-align: bottom !important;\\n    margin-right: -1px !important;\\n}\"));\nclass Sn extends HTMLElement {\n  get trixId() {\n    return this.hasAttribute(\"trix-id\") ? this.getAttribute(\"trix-id\") : (this.setAttribute(\"trix-id\", ++An), this.trixId);\n  }\n  get labels() {\n    const t = [];\n    this.id && this.ownerDocument && t.push(...Array.from(this.ownerDocument.querySelectorAll(\"label[for='\".concat(this.id, \"']\")) || []));\n    const e = p(this, {\n      matchingSelector: \"label\"\n    });\n    return e && [this, null].includes(e.control) && t.push(e), t;\n  }\n  get toolbarElement() {\n    var t;\n    if (this.hasAttribute(\"toolbar\")) return null === (t = this.ownerDocument) || void 0 === t ? void 0 : t.getElementById(this.getAttribute(\"toolbar\"));\n    if (this.parentNode) {\n      const t = \"trix-toolbar-\".concat(this.trixId);\n      this.setAttribute(\"toolbar\", t);\n      const e = C(\"trix-toolbar\", {\n        id: t\n      });\n      return this.parentNode.insertBefore(e, this), e;\n    }\n  }\n  get form() {\n    var t;\n    return null === (t = this.inputElement) || void 0 === t ? void 0 : t.form;\n  }\n  get inputElement() {\n    var t;\n    if (this.hasAttribute(\"input\")) return null === (t = this.ownerDocument) || void 0 === t ? void 0 : t.getElementById(this.getAttribute(\"input\"));\n    if (this.parentNode) {\n      const t = \"trix-input-\".concat(this.trixId);\n      this.setAttribute(\"input\", t);\n      const e = C(\"input\", {\n        type: \"hidden\",\n        id: t\n      });\n      return this.parentNode.insertBefore(e, this.nextElementSibling), e;\n    }\n  }\n  get editor() {\n    var t;\n    return null === (t = this.editorController) || void 0 === t ? void 0 : t.editor;\n  }\n  get name() {\n    var t;\n    return null === (t = this.inputElement) || void 0 === t ? void 0 : t.name;\n  }\n  get value() {\n    var t;\n    return null === (t = this.inputElement) || void 0 === t ? void 0 : t.value;\n  }\n  set value(t) {\n    var e;\n    this.defaultValue = t, null === (e = this.editor) || void 0 === e || e.loadHTML(this.defaultValue);\n  }\n  notify(t, e) {\n    if (this.editorController) return g(\"trix-\".concat(t), {\n      onElement: this,\n      attributes: e\n    });\n  }\n  setInputElementValue(t) {\n    this.inputElement && (this.inputElement.value = t);\n  }\n  connectedCallback() {\n    this.hasAttribute(\"data-trix-internal\") || (xn(this), function (t) {\n      if (!t.hasAttribute(\"role\")) t.setAttribute(\"role\", \"textbox\");\n    }(this), function (t) {\n      if (t.hasAttribute(\"aria-label\") || t.hasAttribute(\"aria-labelledby\")) return;\n      const e = function () {\n        const e = Array.from(t.labels).map(e => {\n            if (!e.contains(t)) return e.textContent;\n          }).filter(t => t),\n          i = e.join(\" \");\n        return i ? t.setAttribute(\"aria-label\", i) : t.removeAttribute(\"aria-label\");\n      };\n      e(), d(\"focus\", {\n        onElement: t,\n        withCallback: e\n      });\n    }(this), this.editorController || (g(\"trix-before-initialize\", {\n      onElement: this\n    }), this.editorController = new mn({\n      editorElement: this,\n      html: this.defaultValue = this.value\n    }), requestAnimationFrame(() => g(\"trix-initialize\", {\n      onElement: this\n    }))), this.editorController.registerSelectionManager(), this.registerResetListener(), this.registerClickListener(), function (t) {\n      if (!document.querySelector(\":focus\") && t.hasAttribute(\"autofocus\") && document.querySelector(\"[autofocus]\") === t) t.focus();\n    }(this));\n  }\n  disconnectedCallback() {\n    var t;\n    return null === (t = this.editorController) || void 0 === t || t.unregisterSelectionManager(), this.unregisterResetListener(), this.unregisterClickListener();\n  }\n  registerResetListener() {\n    return this.resetListener = this.resetBubbled.bind(this), window.addEventListener(\"reset\", this.resetListener, !1);\n  }\n  unregisterResetListener() {\n    return window.removeEventListener(\"reset\", this.resetListener, !1);\n  }\n  registerClickListener() {\n    return this.clickListener = this.clickBubbled.bind(this), window.addEventListener(\"click\", this.clickListener, !1);\n  }\n  unregisterClickListener() {\n    return window.removeEventListener(\"click\", this.clickListener, !1);\n  }\n  resetBubbled(t) {\n    if (!t.defaultPrevented && t.target === this.form) return this.reset();\n  }\n  clickBubbled(t) {\n    if (t.defaultPrevented) return;\n    if (this.contains(t.target)) return;\n    const e = p(t.target, {\n      matchingSelector: \"label\"\n    });\n    return e && Array.from(this.labels).includes(e) ? this.focus() : void 0;\n  }\n  reset() {\n    this.value = this.defaultValue;\n  }\n}\nconst kn = {\n  VERSION: \"2.0.4\",\n  config: W,\n  core: oi,\n  models: Ri,\n  views: Ei,\n  controllers: pn,\n  observers: fn,\n  operations: bn,\n  elements: Object.freeze({\n    __proto__: null,\n    TrixEditorElement: Sn,\n    TrixToolbarElement: vn\n  }),\n  filters: Object.freeze({\n    __proto__: null,\n    Filter: di,\n    attachmentGalleryFilter: gi\n  })\n};\nObject.assign(kn, Ri), window.Trix = kn, setTimeout(function () {\n  customElements.get(\"trix-toolbar\") || customElements.define(\"trix-toolbar\", vn), customElements.get(\"trix-editor\") || customElements.define(\"trix-editor\", Sn);\n}, 0);\nexport { kn as default };","/*\nTurbolinks 5.2.0\nCopyright © 2018 Basecamp, LLC\n */\n(function () {\n  var t = this;\n  (function () {\n    (function () {\n      this.Turbolinks = {\n        supported: function () {\n          return null != window.history.pushState && null != window.requestAnimationFrame && null != window.addEventListener;\n        }(),\n        visit: function (t, r) {\n          return e.controller.visit(t, r);\n        },\n        clearCache: function () {\n          return e.controller.clearCache();\n        },\n        setProgressBarDelay: function (t) {\n          return e.controller.setProgressBarDelay(t);\n        }\n      };\n    }).call(this);\n  }).call(t);\n  var e = t.Turbolinks;\n  (function () {\n    (function () {\n      var t,\n        r,\n        n,\n        o = [].slice;\n      e.copyObject = function (t) {\n        var e, r, n;\n        r = {};\n        for (e in t) n = t[e], r[e] = n;\n        return r;\n      }, e.closest = function (e, r) {\n        return t.call(e, r);\n      }, t = function () {\n        var t, e;\n        return t = document.documentElement, null != (e = t.closest) ? e : function (t) {\n          var e;\n          for (e = this; e;) {\n            if (e.nodeType === Node.ELEMENT_NODE && r.call(e, t)) return e;\n            e = e.parentNode;\n          }\n        };\n      }(), e.defer = function (t) {\n        return setTimeout(t, 1);\n      }, e.throttle = function (t) {\n        var e;\n        return e = null, function () {\n          var r;\n          return r = 1 <= arguments.length ? o.call(arguments, 0) : [], null != e ? e : e = requestAnimationFrame(function (n) {\n            return function () {\n              return e = null, t.apply(n, r);\n            };\n          }(this));\n        };\n      }, e.dispatch = function (t, e) {\n        var r, o, i, s, a, u;\n        return a = null != e ? e : {}, u = a.target, r = a.cancelable, o = a.data, i = document.createEvent(\"Events\"), i.initEvent(t, !0, r === !0), i.data = null != o ? o : {}, i.cancelable && !n && (s = i.preventDefault, i.preventDefault = function () {\n          return this.defaultPrevented || Object.defineProperty(this, \"defaultPrevented\", {\n            get: function () {\n              return !0;\n            }\n          }), s.call(this);\n        }), (null != u ? u : document).dispatchEvent(i), i;\n      }, n = function () {\n        var t;\n        return t = document.createEvent(\"Events\"), t.initEvent(\"test\", !0, !0), t.preventDefault(), t.defaultPrevented;\n      }(), e.match = function (t, e) {\n        return r.call(t, e);\n      }, r = function () {\n        var t, e, r, n;\n        return t = document.documentElement, null != (e = null != (r = null != (n = t.matchesSelector) ? n : t.webkitMatchesSelector) ? r : t.msMatchesSelector) ? e : t.mozMatchesSelector;\n      }(), e.uuid = function () {\n        var t, e, r;\n        for (r = \"\", t = e = 1; 36 >= e; t = ++e) r += 9 === t || 14 === t || 19 === t || 24 === t ? \"-\" : 15 === t ? \"4\" : 20 === t ? (Math.floor(4 * Math.random()) + 8).toString(16) : Math.floor(15 * Math.random()).toString(16);\n        return r;\n      };\n    }).call(this), function () {\n      e.Location = function () {\n        function t(t) {\n          var e, r;\n          null == t && (t = \"\"), r = document.createElement(\"a\"), r.href = t.toString(), this.absoluteURL = r.href, e = r.hash.length, 2 > e ? this.requestURL = this.absoluteURL : (this.requestURL = this.absoluteURL.slice(0, -e), this.anchor = r.hash.slice(1));\n        }\n        var e, r, n, o;\n        return t.wrap = function (t) {\n          return t instanceof this ? t : new this(t);\n        }, t.prototype.getOrigin = function () {\n          return this.absoluteURL.split(\"/\", 3).join(\"/\");\n        }, t.prototype.getPath = function () {\n          var t, e;\n          return null != (t = null != (e = this.requestURL.match(/\\/\\/[^\\/]*(\\/[^?;]*)/)) ? e[1] : void 0) ? t : \"/\";\n        }, t.prototype.getPathComponents = function () {\n          return this.getPath().split(\"/\").slice(1);\n        }, t.prototype.getLastPathComponent = function () {\n          return this.getPathComponents().slice(-1)[0];\n        }, t.prototype.getExtension = function () {\n          var t, e;\n          return null != (t = null != (e = this.getLastPathComponent().match(/\\.[^.]*$/)) ? e[0] : void 0) ? t : \"\";\n        }, t.prototype.isHTML = function () {\n          return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/);\n        }, t.prototype.isPrefixedBy = function (t) {\n          var e;\n          return e = r(t), this.isEqualTo(t) || o(this.absoluteURL, e);\n        }, t.prototype.isEqualTo = function (t) {\n          return this.absoluteURL === (null != t ? t.absoluteURL : void 0);\n        }, t.prototype.toCacheKey = function () {\n          return this.requestURL;\n        }, t.prototype.toJSON = function () {\n          return this.absoluteURL;\n        }, t.prototype.toString = function () {\n          return this.absoluteURL;\n        }, t.prototype.valueOf = function () {\n          return this.absoluteURL;\n        }, r = function (t) {\n          return e(t.getOrigin() + t.getPath());\n        }, e = function (t) {\n          return n(t, \"/\") ? t : t + \"/\";\n        }, o = function (t, e) {\n          return t.slice(0, e.length) === e;\n        }, n = function (t, e) {\n          return t.slice(-e.length) === e;\n        }, t;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.HttpRequest = function () {\n        function r(r, n, o) {\n          this.delegate = r, this.requestCanceled = t(this.requestCanceled, this), this.requestTimedOut = t(this.requestTimedOut, this), this.requestFailed = t(this.requestFailed, this), this.requestLoaded = t(this.requestLoaded, this), this.requestProgressed = t(this.requestProgressed, this), this.url = e.Location.wrap(n).requestURL, this.referrer = e.Location.wrap(o).absoluteURL, this.createXHR();\n        }\n        return r.NETWORK_FAILURE = 0, r.TIMEOUT_FAILURE = -1, r.timeout = 60, r.prototype.send = function () {\n          var t;\n          return this.xhr && !this.sent ? (this.notifyApplicationBeforeRequestStart(), this.setProgress(0), this.xhr.send(), this.sent = !0, \"function\" == typeof (t = this.delegate).requestStarted ? t.requestStarted() : void 0) : void 0;\n        }, r.prototype.cancel = function () {\n          return this.xhr && this.sent ? this.xhr.abort() : void 0;\n        }, r.prototype.requestProgressed = function (t) {\n          return t.lengthComputable ? this.setProgress(t.loaded / t.total) : void 0;\n        }, r.prototype.requestLoaded = function () {\n          return this.endRequest(function (t) {\n            return function () {\n              var e;\n              return 200 <= (e = t.xhr.status) && 300 > e ? t.delegate.requestCompletedWithResponse(t.xhr.responseText, t.xhr.getResponseHeader(\"Turbolinks-Location\")) : (t.failed = !0, t.delegate.requestFailedWithStatusCode(t.xhr.status, t.xhr.responseText));\n            };\n          }(this));\n        }, r.prototype.requestFailed = function () {\n          return this.endRequest(function (t) {\n            return function () {\n              return t.failed = !0, t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE);\n            };\n          }(this));\n        }, r.prototype.requestTimedOut = function () {\n          return this.endRequest(function (t) {\n            return function () {\n              return t.failed = !0, t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE);\n            };\n          }(this));\n        }, r.prototype.requestCanceled = function () {\n          return this.endRequest();\n        }, r.prototype.notifyApplicationBeforeRequestStart = function () {\n          return e.dispatch(\"turbolinks:request-start\", {\n            data: {\n              url: this.url,\n              xhr: this.xhr\n            }\n          });\n        }, r.prototype.notifyApplicationAfterRequestEnd = function () {\n          return e.dispatch(\"turbolinks:request-end\", {\n            data: {\n              url: this.url,\n              xhr: this.xhr\n            }\n          });\n        }, r.prototype.createXHR = function () {\n          return this.xhr = new XMLHttpRequest(), this.xhr.open(\"GET\", this.url, !0), this.xhr.timeout = 1e3 * this.constructor.timeout, this.xhr.setRequestHeader(\"Accept\", \"text/html, application/xhtml+xml\"), this.xhr.setRequestHeader(\"Turbolinks-Referrer\", this.referrer), this.xhr.onprogress = this.requestProgressed, this.xhr.onload = this.requestLoaded, this.xhr.onerror = this.requestFailed, this.xhr.ontimeout = this.requestTimedOut, this.xhr.onabort = this.requestCanceled;\n        }, r.prototype.endRequest = function (t) {\n          return this.xhr ? (this.notifyApplicationAfterRequestEnd(), null != t && t.call(this), this.destroy()) : void 0;\n        }, r.prototype.setProgress = function (t) {\n          var e;\n          return this.progress = t, \"function\" == typeof (e = this.delegate).requestProgressed ? e.requestProgressed(this.progress) : void 0;\n        }, r.prototype.destroy = function () {\n          var t;\n          return this.setProgress(1), \"function\" == typeof (t = this.delegate).requestFinished && t.requestFinished(), this.delegate = null, this.xhr = null;\n        }, r;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.ProgressBar = function () {\n        function e() {\n          this.trickle = t(this.trickle, this), this.stylesheetElement = this.createStylesheetElement(), this.progressElement = this.createProgressElement();\n        }\n        var r;\n        return r = 300, e.defaultCSS = \".turbolinks-progress-bar {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  left: 0;\\n  height: 3px;\\n  background: #0076ff;\\n  z-index: 9999;\\n  transition: width \" + r + \"ms ease-out, opacity \" + r / 2 + \"ms \" + r / 2 + \"ms ease-in;\\n  transform: translate3d(0, 0, 0);\\n}\", e.prototype.show = function () {\n          return this.visible ? void 0 : (this.visible = !0, this.installStylesheetElement(), this.installProgressElement(), this.startTrickling());\n        }, e.prototype.hide = function () {\n          return this.visible && !this.hiding ? (this.hiding = !0, this.fadeProgressElement(function (t) {\n            return function () {\n              return t.uninstallProgressElement(), t.stopTrickling(), t.visible = !1, t.hiding = !1;\n            };\n          }(this))) : void 0;\n        }, e.prototype.setValue = function (t) {\n          return this.value = t, this.refresh();\n        }, e.prototype.installStylesheetElement = function () {\n          return document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n        }, e.prototype.installProgressElement = function () {\n          return this.progressElement.style.width = 0, this.progressElement.style.opacity = 1, document.documentElement.insertBefore(this.progressElement, document.body), this.refresh();\n        }, e.prototype.fadeProgressElement = function (t) {\n          return this.progressElement.style.opacity = 0, setTimeout(t, 1.5 * r);\n        }, e.prototype.uninstallProgressElement = function () {\n          return this.progressElement.parentNode ? document.documentElement.removeChild(this.progressElement) : void 0;\n        }, e.prototype.startTrickling = function () {\n          return null != this.trickleInterval ? this.trickleInterval : this.trickleInterval = setInterval(this.trickle, r);\n        }, e.prototype.stopTrickling = function () {\n          return clearInterval(this.trickleInterval), this.trickleInterval = null;\n        }, e.prototype.trickle = function () {\n          return this.setValue(this.value + Math.random() / 100);\n        }, e.prototype.refresh = function () {\n          return requestAnimationFrame(function (t) {\n            return function () {\n              return t.progressElement.style.width = 10 + 90 * t.value + \"%\";\n            };\n          }(this));\n        }, e.prototype.createStylesheetElement = function () {\n          var t;\n          return t = document.createElement(\"style\"), t.type = \"text/css\", t.textContent = this.constructor.defaultCSS, t;\n        }, e.prototype.createProgressElement = function () {\n          var t;\n          return t = document.createElement(\"div\"), t.className = \"turbolinks-progress-bar\", t;\n        }, e;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.BrowserAdapter = function () {\n        function r(r) {\n          this.controller = r, this.showProgressBar = t(this.showProgressBar, this), this.progressBar = new e.ProgressBar();\n        }\n        var n, o, i;\n        return i = e.HttpRequest, n = i.NETWORK_FAILURE, o = i.TIMEOUT_FAILURE, r.prototype.visitProposedToLocationWithAction = function (t, e) {\n          return this.controller.startVisitToLocationWithAction(t, e);\n        }, r.prototype.visitStarted = function (t) {\n          return t.issueRequest(), t.changeHistory(), t.loadCachedSnapshot();\n        }, r.prototype.visitRequestStarted = function (t) {\n          return this.progressBar.setValue(0), t.hasCachedSnapshot() || \"restore\" !== t.action ? this.showProgressBarAfterDelay() : this.showProgressBar();\n        }, r.prototype.visitRequestProgressed = function (t) {\n          return this.progressBar.setValue(t.progress);\n        }, r.prototype.visitRequestCompleted = function (t) {\n          return t.loadResponse();\n        }, r.prototype.visitRequestFailedWithStatusCode = function (t, e) {\n          switch (e) {\n            case n:\n            case o:\n              return this.reload();\n            default:\n              return t.loadResponse();\n          }\n        }, r.prototype.visitRequestFinished = function (t) {\n          return this.hideProgressBar();\n        }, r.prototype.visitCompleted = function (t) {\n          return t.followRedirect();\n        }, r.prototype.pageInvalidated = function () {\n          return this.reload();\n        }, r.prototype.showProgressBarAfterDelay = function () {\n          return this.progressBarTimeout = setTimeout(this.showProgressBar, this.controller.progressBarDelay);\n        }, r.prototype.showProgressBar = function () {\n          return this.progressBar.show();\n        }, r.prototype.hideProgressBar = function () {\n          return this.progressBar.hide(), clearTimeout(this.progressBarTimeout);\n        }, r.prototype.reload = function () {\n          return window.location.reload();\n        }, r;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.History = function () {\n        function r(e) {\n          this.delegate = e, this.onPageLoad = t(this.onPageLoad, this), this.onPopState = t(this.onPopState, this);\n        }\n        return r.prototype.start = function () {\n          return this.started ? void 0 : (addEventListener(\"popstate\", this.onPopState, !1), addEventListener(\"load\", this.onPageLoad, !1), this.started = !0);\n        }, r.prototype.stop = function () {\n          return this.started ? (removeEventListener(\"popstate\", this.onPopState, !1), removeEventListener(\"load\", this.onPageLoad, !1), this.started = !1) : void 0;\n        }, r.prototype.push = function (t, r) {\n          return t = e.Location.wrap(t), this.update(\"push\", t, r);\n        }, r.prototype.replace = function (t, r) {\n          return t = e.Location.wrap(t), this.update(\"replace\", t, r);\n        }, r.prototype.onPopState = function (t) {\n          var r, n, o, i;\n          return this.shouldHandlePopState() && (i = null != (n = t.state) ? n.turbolinks : void 0) ? (r = e.Location.wrap(window.location), o = i.restorationIdentifier, this.delegate.historyPoppedToLocationWithRestorationIdentifier(r, o)) : void 0;\n        }, r.prototype.onPageLoad = function (t) {\n          return e.defer(function (t) {\n            return function () {\n              return t.pageLoaded = !0;\n            };\n          }(this));\n        }, r.prototype.shouldHandlePopState = function () {\n          return this.pageIsLoaded();\n        }, r.prototype.pageIsLoaded = function () {\n          return this.pageLoaded || \"complete\" === document.readyState;\n        }, r.prototype.update = function (t, e, r) {\n          var n;\n          return n = {\n            turbolinks: {\n              restorationIdentifier: r\n            }\n          }, history[t + \"State\"](n, null, e);\n        }, r;\n      }();\n    }.call(this), function () {\n      e.HeadDetails = function () {\n        function t(t) {\n          var e, r, n, s, a, u;\n          for (this.elements = {}, n = 0, a = t.length; a > n; n++) u = t[n], u.nodeType === Node.ELEMENT_NODE && (s = u.outerHTML, r = null != (e = this.elements)[s] ? e[s] : e[s] = {\n            type: i(u),\n            tracked: o(u),\n            elements: []\n          }, r.elements.push(u));\n        }\n        var e, r, n, o, i;\n        return t.fromHeadElement = function (t) {\n          var e;\n          return new this(null != (e = null != t ? t.childNodes : void 0) ? e : []);\n        }, t.prototype.hasElementWithKey = function (t) {\n          return t in this.elements;\n        }, t.prototype.getTrackedElementSignature = function () {\n          var t, e;\n          return function () {\n            var r, n;\n            r = this.elements, n = [];\n            for (t in r) e = r[t].tracked, e && n.push(t);\n            return n;\n          }.call(this).join(\"\");\n        }, t.prototype.getScriptElementsNotInDetails = function (t) {\n          return this.getElementsMatchingTypeNotInDetails(\"script\", t);\n        }, t.prototype.getStylesheetElementsNotInDetails = function (t) {\n          return this.getElementsMatchingTypeNotInDetails(\"stylesheet\", t);\n        }, t.prototype.getElementsMatchingTypeNotInDetails = function (t, e) {\n          var r, n, o, i, s, a;\n          o = this.elements, s = [];\n          for (n in o) i = o[n], a = i.type, r = i.elements, a !== t || e.hasElementWithKey(n) || s.push(r[0]);\n          return s;\n        }, t.prototype.getProvisionalElements = function () {\n          var t, e, r, n, o, i, s;\n          r = [], n = this.elements;\n          for (e in n) o = n[e], s = o.type, i = o.tracked, t = o.elements, null != s || i ? t.length > 1 && r.push.apply(r, t.slice(1)) : r.push.apply(r, t);\n          return r;\n        }, t.prototype.getMetaValue = function (t) {\n          var e;\n          return null != (e = this.findMetaElementByName(t)) ? e.getAttribute(\"content\") : void 0;\n        }, t.prototype.findMetaElementByName = function (t) {\n          var r, n, o, i;\n          r = void 0, i = this.elements;\n          for (o in i) n = i[o].elements, e(n[0], t) && (r = n[0]);\n          return r;\n        }, i = function (t) {\n          return r(t) ? \"script\" : n(t) ? \"stylesheet\" : void 0;\n        }, o = function (t) {\n          return \"reload\" === t.getAttribute(\"data-turbolinks-track\");\n        }, r = function (t) {\n          var e;\n          return e = t.tagName.toLowerCase(), \"script\" === e;\n        }, n = function (t) {\n          var e;\n          return e = t.tagName.toLowerCase(), \"style\" === e || \"link\" === e && \"stylesheet\" === t.getAttribute(\"rel\");\n        }, e = function (t, e) {\n          var r;\n          return r = t.tagName.toLowerCase(), \"meta\" === r && t.getAttribute(\"name\") === e;\n        }, t;\n      }();\n    }.call(this), function () {\n      e.Snapshot = function () {\n        function t(t, e) {\n          this.headDetails = t, this.bodyElement = e;\n        }\n        return t.wrap = function (t) {\n          return t instanceof this ? t : \"string\" == typeof t ? this.fromHTMLString(t) : this.fromHTMLElement(t);\n        }, t.fromHTMLString = function (t) {\n          var e;\n          return e = document.createElement(\"html\"), e.innerHTML = t, this.fromHTMLElement(e);\n        }, t.fromHTMLElement = function (t) {\n          var r, n, o, i;\n          return o = t.querySelector(\"head\"), r = null != (i = t.querySelector(\"body\")) ? i : document.createElement(\"body\"), n = e.HeadDetails.fromHeadElement(o), new this(n, r);\n        }, t.prototype.clone = function () {\n          return new this.constructor(this.headDetails, this.bodyElement.cloneNode(!0));\n        }, t.prototype.getRootLocation = function () {\n          var t, r;\n          return r = null != (t = this.getSetting(\"root\")) ? t : \"/\", new e.Location(r);\n        }, t.prototype.getCacheControlValue = function () {\n          return this.getSetting(\"cache-control\");\n        }, t.prototype.getElementForAnchor = function (t) {\n          try {\n            return this.bodyElement.querySelector(\"[id='\" + t + \"'], a[name='\" + t + \"']\");\n          } catch (e) {}\n        }, t.prototype.getPermanentElements = function () {\n          return this.bodyElement.querySelectorAll(\"[id][data-turbolinks-permanent]\");\n        }, t.prototype.getPermanentElementById = function (t) {\n          return this.bodyElement.querySelector(\"#\" + t + \"[data-turbolinks-permanent]\");\n        }, t.prototype.getPermanentElementsPresentInSnapshot = function (t) {\n          var e, r, n, o, i;\n          for (o = this.getPermanentElements(), i = [], r = 0, n = o.length; n > r; r++) e = o[r], t.getPermanentElementById(e.id) && i.push(e);\n          return i;\n        }, t.prototype.findFirstAutofocusableElement = function () {\n          return this.bodyElement.querySelector(\"[autofocus]\");\n        }, t.prototype.hasAnchor = function (t) {\n          return null != this.getElementForAnchor(t);\n        }, t.prototype.isPreviewable = function () {\n          return \"no-preview\" !== this.getCacheControlValue();\n        }, t.prototype.isCacheable = function () {\n          return \"no-cache\" !== this.getCacheControlValue();\n        }, t.prototype.isVisitable = function () {\n          return \"reload\" !== this.getSetting(\"visit-control\");\n        }, t.prototype.getSetting = function (t) {\n          return this.headDetails.getMetaValue(\"turbolinks-\" + t);\n        }, t;\n      }();\n    }.call(this), function () {\n      var t = [].slice;\n      e.Renderer = function () {\n        function e() {}\n        var r;\n        return e.render = function () {\n          var e, r, n, o;\n          return n = arguments[0], r = arguments[1], e = 3 <= arguments.length ? t.call(arguments, 2) : [], o = function (t, e, r) {\n            r.prototype = t.prototype;\n            var n = new r(),\n              o = t.apply(n, e);\n            return Object(o) === o ? o : n;\n          }(this, e, function () {}), o.delegate = n, o.render(r), o;\n        }, e.prototype.renderView = function (t) {\n          return this.delegate.viewWillRender(this.newBody), t(), this.delegate.viewRendered(this.newBody);\n        }, e.prototype.invalidateView = function () {\n          return this.delegate.viewInvalidated();\n        }, e.prototype.createScriptElement = function (t) {\n          var e;\n          return \"false\" === t.getAttribute(\"data-turbolinks-eval\") ? t : (e = document.createElement(\"script\"), e.textContent = t.textContent, e.async = !1, r(e, t), e);\n        }, r = function (t, e) {\n          var r, n, o, i, s, a, u;\n          for (i = e.attributes, a = [], r = 0, n = i.length; n > r; r++) s = i[r], o = s.name, u = s.value, a.push(t.setAttribute(o, u));\n          return a;\n        }, e;\n      }();\n    }.call(this), function () {\n      var t,\n        r,\n        n = function (t, e) {\n          function r() {\n            this.constructor = t;\n          }\n          for (var n in e) o.call(e, n) && (t[n] = e[n]);\n          return r.prototype = e.prototype, t.prototype = new r(), t.__super__ = e.prototype, t;\n        },\n        o = {}.hasOwnProperty;\n      e.SnapshotRenderer = function (e) {\n        function o(t, e, r) {\n          this.currentSnapshot = t, this.newSnapshot = e, this.isPreview = r, this.currentHeadDetails = this.currentSnapshot.headDetails, this.newHeadDetails = this.newSnapshot.headDetails, this.currentBody = this.currentSnapshot.bodyElement, this.newBody = this.newSnapshot.bodyElement;\n        }\n        return n(o, e), o.prototype.render = function (t) {\n          return this.shouldRender() ? (this.mergeHead(), this.renderView(function (e) {\n            return function () {\n              return e.replaceBody(), e.isPreview || e.focusFirstAutofocusableElement(), t();\n            };\n          }(this))) : this.invalidateView();\n        }, o.prototype.mergeHead = function () {\n          return this.copyNewHeadStylesheetElements(), this.copyNewHeadScriptElements(), this.removeCurrentHeadProvisionalElements(), this.copyNewHeadProvisionalElements();\n        }, o.prototype.replaceBody = function () {\n          var t;\n          return t = this.relocateCurrentBodyPermanentElements(), this.activateNewBodyScriptElements(), this.assignNewBody(), this.replacePlaceholderElementsWithClonedPermanentElements(t);\n        }, o.prototype.shouldRender = function () {\n          return this.newSnapshot.isVisitable() && this.trackedElementsAreIdentical();\n        }, o.prototype.trackedElementsAreIdentical = function () {\n          return this.currentHeadDetails.getTrackedElementSignature() === this.newHeadDetails.getTrackedElementSignature();\n        }, o.prototype.copyNewHeadStylesheetElements = function () {\n          var t, e, r, n, o;\n          for (n = this.getNewHeadStylesheetElements(), o = [], e = 0, r = n.length; r > e; e++) t = n[e], o.push(document.head.appendChild(t));\n          return o;\n        }, o.prototype.copyNewHeadScriptElements = function () {\n          var t, e, r, n, o;\n          for (n = this.getNewHeadScriptElements(), o = [], e = 0, r = n.length; r > e; e++) t = n[e], o.push(document.head.appendChild(this.createScriptElement(t)));\n          return o;\n        }, o.prototype.removeCurrentHeadProvisionalElements = function () {\n          var t, e, r, n, o;\n          for (n = this.getCurrentHeadProvisionalElements(), o = [], e = 0, r = n.length; r > e; e++) t = n[e], o.push(document.head.removeChild(t));\n          return o;\n        }, o.prototype.copyNewHeadProvisionalElements = function () {\n          var t, e, r, n, o;\n          for (n = this.getNewHeadProvisionalElements(), o = [], e = 0, r = n.length; r > e; e++) t = n[e], o.push(document.head.appendChild(t));\n          return o;\n        }, o.prototype.relocateCurrentBodyPermanentElements = function () {\n          var e, n, o, i, s, a, u;\n          for (a = this.getCurrentBodyPermanentElements(), u = [], e = 0, n = a.length; n > e; e++) i = a[e], s = t(i), o = this.newSnapshot.getPermanentElementById(i.id), r(i, s.element), r(o, i), u.push(s);\n          return u;\n        }, o.prototype.replacePlaceholderElementsWithClonedPermanentElements = function (t) {\n          var e, n, o, i, s, a, u;\n          for (u = [], o = 0, i = t.length; i > o; o++) a = t[o], n = a.element, s = a.permanentElement, e = s.cloneNode(!0), u.push(r(n, e));\n          return u;\n        }, o.prototype.activateNewBodyScriptElements = function () {\n          var t, e, n, o, i, s;\n          for (i = this.getNewBodyScriptElements(), s = [], e = 0, o = i.length; o > e; e++) n = i[e], t = this.createScriptElement(n), s.push(r(n, t));\n          return s;\n        }, o.prototype.assignNewBody = function () {\n          return document.body = this.newBody;\n        }, o.prototype.focusFirstAutofocusableElement = function () {\n          var t;\n          return null != (t = this.newSnapshot.findFirstAutofocusableElement()) ? t.focus() : void 0;\n        }, o.prototype.getNewHeadStylesheetElements = function () {\n          return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails);\n        }, o.prototype.getNewHeadScriptElements = function () {\n          return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails);\n        }, o.prototype.getCurrentHeadProvisionalElements = function () {\n          return this.currentHeadDetails.getProvisionalElements();\n        }, o.prototype.getNewHeadProvisionalElements = function () {\n          return this.newHeadDetails.getProvisionalElements();\n        }, o.prototype.getCurrentBodyPermanentElements = function () {\n          return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot);\n        }, o.prototype.getNewBodyScriptElements = function () {\n          return this.newBody.querySelectorAll(\"script\");\n        }, o;\n      }(e.Renderer), t = function (t) {\n        var e;\n        return e = document.createElement(\"meta\"), e.setAttribute(\"name\", \"turbolinks-permanent-placeholder\"), e.setAttribute(\"content\", t.id), {\n          element: e,\n          permanentElement: t\n        };\n      }, r = function (t, e) {\n        var r;\n        return (r = t.parentNode) ? r.replaceChild(e, t) : void 0;\n      };\n    }.call(this), function () {\n      var t = function (t, e) {\n          function n() {\n            this.constructor = t;\n          }\n          for (var o in e) r.call(e, o) && (t[o] = e[o]);\n          return n.prototype = e.prototype, t.prototype = new n(), t.__super__ = e.prototype, t;\n        },\n        r = {}.hasOwnProperty;\n      e.ErrorRenderer = function (e) {\n        function r(t) {\n          var e;\n          e = document.createElement(\"html\"), e.innerHTML = t, this.newHead = e.querySelector(\"head\"), this.newBody = e.querySelector(\"body\");\n        }\n        return t(r, e), r.prototype.render = function (t) {\n          return this.renderView(function (e) {\n            return function () {\n              return e.replaceHeadAndBody(), e.activateBodyScriptElements(), t();\n            };\n          }(this));\n        }, r.prototype.replaceHeadAndBody = function () {\n          var t, e;\n          return e = document.head, t = document.body, e.parentNode.replaceChild(this.newHead, e), t.parentNode.replaceChild(this.newBody, t);\n        }, r.prototype.activateBodyScriptElements = function () {\n          var t, e, r, n, o, i;\n          for (n = this.getScriptElements(), i = [], e = 0, r = n.length; r > e; e++) o = n[e], t = this.createScriptElement(o), i.push(o.parentNode.replaceChild(t, o));\n          return i;\n        }, r.prototype.getScriptElements = function () {\n          return document.documentElement.querySelectorAll(\"script\");\n        }, r;\n      }(e.Renderer);\n    }.call(this), function () {\n      e.View = function () {\n        function t(t) {\n          this.delegate = t, this.htmlElement = document.documentElement;\n        }\n        return t.prototype.getRootLocation = function () {\n          return this.getSnapshot().getRootLocation();\n        }, t.prototype.getElementForAnchor = function (t) {\n          return this.getSnapshot().getElementForAnchor(t);\n        }, t.prototype.getSnapshot = function () {\n          return e.Snapshot.fromHTMLElement(this.htmlElement);\n        }, t.prototype.render = function (t, e) {\n          var r, n, o;\n          return o = t.snapshot, r = t.error, n = t.isPreview, this.markAsPreview(n), null != o ? this.renderSnapshot(o, n, e) : this.renderError(r, e);\n        }, t.prototype.markAsPreview = function (t) {\n          return t ? this.htmlElement.setAttribute(\"data-turbolinks-preview\", \"\") : this.htmlElement.removeAttribute(\"data-turbolinks-preview\");\n        }, t.prototype.renderSnapshot = function (t, r, n) {\n          return e.SnapshotRenderer.render(this.delegate, n, this.getSnapshot(), e.Snapshot.wrap(t), r);\n        }, t.prototype.renderError = function (t, r) {\n          return e.ErrorRenderer.render(this.delegate, r, t);\n        }, t;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.ScrollManager = function () {\n        function r(r) {\n          this.delegate = r, this.onScroll = t(this.onScroll, this), this.onScroll = e.throttle(this.onScroll);\n        }\n        return r.prototype.start = function () {\n          return this.started ? void 0 : (addEventListener(\"scroll\", this.onScroll, !1), this.onScroll(), this.started = !0);\n        }, r.prototype.stop = function () {\n          return this.started ? (removeEventListener(\"scroll\", this.onScroll, !1), this.started = !1) : void 0;\n        }, r.prototype.scrollToElement = function (t) {\n          return t.scrollIntoView();\n        }, r.prototype.scrollToPosition = function (t) {\n          var e, r;\n          return e = t.x, r = t.y, window.scrollTo(e, r);\n        }, r.prototype.onScroll = function (t) {\n          return this.updatePosition({\n            x: window.pageXOffset,\n            y: window.pageYOffset\n          });\n        }, r.prototype.updatePosition = function (t) {\n          var e;\n          return this.position = t, null != (e = this.delegate) ? e.scrollPositionChanged(this.position) : void 0;\n        }, r;\n      }();\n    }.call(this), function () {\n      e.SnapshotCache = function () {\n        function t(t) {\n          this.size = t, this.keys = [], this.snapshots = {};\n        }\n        var r;\n        return t.prototype.has = function (t) {\n          var e;\n          return e = r(t), e in this.snapshots;\n        }, t.prototype.get = function (t) {\n          var e;\n          if (this.has(t)) return e = this.read(t), this.touch(t), e;\n        }, t.prototype.put = function (t, e) {\n          return this.write(t, e), this.touch(t), e;\n        }, t.prototype.read = function (t) {\n          var e;\n          return e = r(t), this.snapshots[e];\n        }, t.prototype.write = function (t, e) {\n          var n;\n          return n = r(t), this.snapshots[n] = e;\n        }, t.prototype.touch = function (t) {\n          var e, n;\n          return n = r(t), e = this.keys.indexOf(n), e > -1 && this.keys.splice(e, 1), this.keys.unshift(n), this.trim();\n        }, t.prototype.trim = function () {\n          var t, e, r, n, o;\n          for (n = this.keys.splice(this.size), o = [], t = 0, r = n.length; r > t; t++) e = n[t], o.push(delete this.snapshots[e]);\n          return o;\n        }, r = function (t) {\n          return e.Location.wrap(t).toCacheKey();\n        }, t;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.Visit = function () {\n        function r(r, n, o) {\n          this.controller = r, this.action = o, this.performScroll = t(this.performScroll, this), this.identifier = e.uuid(), this.location = e.Location.wrap(n), this.adapter = this.controller.adapter, this.state = \"initialized\", this.timingMetrics = {};\n        }\n        var n;\n        return r.prototype.start = function () {\n          return \"initialized\" === this.state ? (this.recordTimingMetric(\"visitStart\"), this.state = \"started\", this.adapter.visitStarted(this)) : void 0;\n        }, r.prototype.cancel = function () {\n          var t;\n          return \"started\" === this.state ? (null != (t = this.request) && t.cancel(), this.cancelRender(), this.state = \"canceled\") : void 0;\n        }, r.prototype.complete = function () {\n          var t;\n          return \"started\" === this.state ? (this.recordTimingMetric(\"visitEnd\"), this.state = \"completed\", \"function\" == typeof (t = this.adapter).visitCompleted && t.visitCompleted(this), this.controller.visitCompleted(this)) : void 0;\n        }, r.prototype.fail = function () {\n          var t;\n          return \"started\" === this.state ? (this.state = \"failed\", \"function\" == typeof (t = this.adapter).visitFailed ? t.visitFailed(this) : void 0) : void 0;\n        }, r.prototype.changeHistory = function () {\n          var t, e;\n          return this.historyChanged ? void 0 : (t = this.location.isEqualTo(this.referrer) ? \"replace\" : this.action, e = n(t), this.controller[e](this.location, this.restorationIdentifier), this.historyChanged = !0);\n        }, r.prototype.issueRequest = function () {\n          return this.shouldIssueRequest() && null == this.request ? (this.progress = 0, this.request = new e.HttpRequest(this, this.location, this.referrer), this.request.send()) : void 0;\n        }, r.prototype.getCachedSnapshot = function () {\n          var t;\n          return !(t = this.controller.getCachedSnapshotForLocation(this.location)) || null != this.location.anchor && !t.hasAnchor(this.location.anchor) || \"restore\" !== this.action && !t.isPreviewable() ? void 0 : t;\n        }, r.prototype.hasCachedSnapshot = function () {\n          return null != this.getCachedSnapshot();\n        }, r.prototype.loadCachedSnapshot = function () {\n          var t, e;\n          return (e = this.getCachedSnapshot()) ? (t = this.shouldIssueRequest(), this.render(function () {\n            var r;\n            return this.cacheSnapshot(), this.controller.render({\n              snapshot: e,\n              isPreview: t\n            }, this.performScroll), \"function\" == typeof (r = this.adapter).visitRendered && r.visitRendered(this), t ? void 0 : this.complete();\n          })) : void 0;\n        }, r.prototype.loadResponse = function () {\n          return null != this.response ? this.render(function () {\n            var t, e;\n            return this.cacheSnapshot(), this.request.failed ? (this.controller.render({\n              error: this.response\n            }, this.performScroll), \"function\" == typeof (t = this.adapter).visitRendered && t.visitRendered(this), this.fail()) : (this.controller.render({\n              snapshot: this.response\n            }, this.performScroll), \"function\" == typeof (e = this.adapter).visitRendered && e.visitRendered(this), this.complete());\n          }) : void 0;\n        }, r.prototype.followRedirect = function () {\n          return this.redirectedToLocation && !this.followedRedirect ? (this.location = this.redirectedToLocation, this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation, this.restorationIdentifier), this.followedRedirect = !0) : void 0;\n        }, r.prototype.requestStarted = function () {\n          var t;\n          return this.recordTimingMetric(\"requestStart\"), \"function\" == typeof (t = this.adapter).visitRequestStarted ? t.visitRequestStarted(this) : void 0;\n        }, r.prototype.requestProgressed = function (t) {\n          var e;\n          return this.progress = t, \"function\" == typeof (e = this.adapter).visitRequestProgressed ? e.visitRequestProgressed(this) : void 0;\n        }, r.prototype.requestCompletedWithResponse = function (t, r) {\n          return this.response = t, null != r && (this.redirectedToLocation = e.Location.wrap(r)), this.adapter.visitRequestCompleted(this);\n        }, r.prototype.requestFailedWithStatusCode = function (t, e) {\n          return this.response = e, this.adapter.visitRequestFailedWithStatusCode(this, t);\n        }, r.prototype.requestFinished = function () {\n          var t;\n          return this.recordTimingMetric(\"requestEnd\"), \"function\" == typeof (t = this.adapter).visitRequestFinished ? t.visitRequestFinished(this) : void 0;\n        }, r.prototype.performScroll = function () {\n          return this.scrolled ? void 0 : (\"restore\" === this.action ? this.scrollToRestoredPosition() || this.scrollToTop() : this.scrollToAnchor() || this.scrollToTop(), this.scrolled = !0);\n        }, r.prototype.scrollToRestoredPosition = function () {\n          var t, e;\n          return t = null != (e = this.restorationData) ? e.scrollPosition : void 0, null != t ? (this.controller.scrollToPosition(t), !0) : void 0;\n        }, r.prototype.scrollToAnchor = function () {\n          return null != this.location.anchor ? (this.controller.scrollToAnchor(this.location.anchor), !0) : void 0;\n        }, r.prototype.scrollToTop = function () {\n          return this.controller.scrollToPosition({\n            x: 0,\n            y: 0\n          });\n        }, r.prototype.recordTimingMetric = function (t) {\n          var e;\n          return null != (e = this.timingMetrics)[t] ? e[t] : e[t] = new Date().getTime();\n        }, r.prototype.getTimingMetrics = function () {\n          return e.copyObject(this.timingMetrics);\n        }, n = function (t) {\n          switch (t) {\n            case \"replace\":\n              return \"replaceHistoryWithLocationAndRestorationIdentifier\";\n            case \"advance\":\n            case \"restore\":\n              return \"pushHistoryWithLocationAndRestorationIdentifier\";\n          }\n        }, r.prototype.shouldIssueRequest = function () {\n          return \"restore\" === this.action ? !this.hasCachedSnapshot() : !0;\n        }, r.prototype.cacheSnapshot = function () {\n          return this.snapshotCached ? void 0 : (this.controller.cacheSnapshot(), this.snapshotCached = !0);\n        }, r.prototype.render = function (t) {\n          return this.cancelRender(), this.frame = requestAnimationFrame(function (e) {\n            return function () {\n              return e.frame = null, t.call(e);\n            };\n          }(this));\n        }, r.prototype.cancelRender = function () {\n          return this.frame ? cancelAnimationFrame(this.frame) : void 0;\n        }, r;\n      }();\n    }.call(this), function () {\n      var t = function (t, e) {\n        return function () {\n          return t.apply(e, arguments);\n        };\n      };\n      e.Controller = function () {\n        function r() {\n          this.clickBubbled = t(this.clickBubbled, this), this.clickCaptured = t(this.clickCaptured, this), this.pageLoaded = t(this.pageLoaded, this), this.history = new e.History(this), this.view = new e.View(this), this.scrollManager = new e.ScrollManager(this), this.restorationData = {}, this.clearCache(), this.setProgressBarDelay(500);\n        }\n        return r.prototype.start = function () {\n          return e.supported && !this.started ? (addEventListener(\"click\", this.clickCaptured, !0), addEventListener(\"DOMContentLoaded\", this.pageLoaded, !1), this.scrollManager.start(), this.startHistory(), this.started = !0, this.enabled = !0) : void 0;\n        }, r.prototype.disable = function () {\n          return this.enabled = !1;\n        }, r.prototype.stop = function () {\n          return this.started ? (removeEventListener(\"click\", this.clickCaptured, !0), removeEventListener(\"DOMContentLoaded\", this.pageLoaded, !1), this.scrollManager.stop(), this.stopHistory(), this.started = !1) : void 0;\n        }, r.prototype.clearCache = function () {\n          return this.cache = new e.SnapshotCache(10);\n        }, r.prototype.visit = function (t, r) {\n          var n, o;\n          return null == r && (r = {}), t = e.Location.wrap(t), this.applicationAllowsVisitingLocation(t) ? this.locationIsVisitable(t) ? (n = null != (o = r.action) ? o : \"advance\", this.adapter.visitProposedToLocationWithAction(t, n)) : window.location = t : void 0;\n        }, r.prototype.startVisitToLocationWithAction = function (t, r, n) {\n          var o;\n          return e.supported ? (o = this.getRestorationDataForIdentifier(n), this.startVisit(t, r, {\n            restorationData: o\n          })) : window.location = t;\n        }, r.prototype.setProgressBarDelay = function (t) {\n          return this.progressBarDelay = t;\n        }, r.prototype.startHistory = function () {\n          return this.location = e.Location.wrap(window.location), this.restorationIdentifier = e.uuid(), this.history.start(), this.history.replace(this.location, this.restorationIdentifier);\n        }, r.prototype.stopHistory = function () {\n          return this.history.stop();\n        }, r.prototype.pushHistoryWithLocationAndRestorationIdentifier = function (t, r) {\n          return this.restorationIdentifier = r, this.location = e.Location.wrap(t), this.history.push(this.location, this.restorationIdentifier);\n        }, r.prototype.replaceHistoryWithLocationAndRestorationIdentifier = function (t, r) {\n          return this.restorationIdentifier = r, this.location = e.Location.wrap(t), this.history.replace(this.location, this.restorationIdentifier);\n        }, r.prototype.historyPoppedToLocationWithRestorationIdentifier = function (t, r) {\n          var n;\n          return this.restorationIdentifier = r, this.enabled ? (n = this.getRestorationDataForIdentifier(this.restorationIdentifier), this.startVisit(t, \"restore\", {\n            restorationIdentifier: this.restorationIdentifier,\n            restorationData: n,\n            historyChanged: !0\n          }), this.location = e.Location.wrap(t)) : this.adapter.pageInvalidated();\n        }, r.prototype.getCachedSnapshotForLocation = function (t) {\n          var e;\n          return null != (e = this.cache.get(t)) ? e.clone() : void 0;\n        }, r.prototype.shouldCacheSnapshot = function () {\n          return this.view.getSnapshot().isCacheable();\n        }, r.prototype.cacheSnapshot = function () {\n          var t, r;\n          return this.shouldCacheSnapshot() ? (this.notifyApplicationBeforeCachingSnapshot(), r = this.view.getSnapshot(), t = this.lastRenderedLocation, e.defer(function (e) {\n            return function () {\n              return e.cache.put(t, r.clone());\n            };\n          }(this))) : void 0;\n        }, r.prototype.scrollToAnchor = function (t) {\n          var e;\n          return (e = this.view.getElementForAnchor(t)) ? this.scrollToElement(e) : this.scrollToPosition({\n            x: 0,\n            y: 0\n          });\n        }, r.prototype.scrollToElement = function (t) {\n          return this.scrollManager.scrollToElement(t);\n        }, r.prototype.scrollToPosition = function (t) {\n          return this.scrollManager.scrollToPosition(t);\n        }, r.prototype.scrollPositionChanged = function (t) {\n          var e;\n          return e = this.getCurrentRestorationData(), e.scrollPosition = t;\n        }, r.prototype.render = function (t, e) {\n          return this.view.render(t, e);\n        }, r.prototype.viewInvalidated = function () {\n          return this.adapter.pageInvalidated();\n        }, r.prototype.viewWillRender = function (t) {\n          return this.notifyApplicationBeforeRender(t);\n        }, r.prototype.viewRendered = function () {\n          return this.lastRenderedLocation = this.currentVisit.location, this.notifyApplicationAfterRender();\n        }, r.prototype.pageLoaded = function () {\n          return this.lastRenderedLocation = this.location, this.notifyApplicationAfterPageLoad();\n        }, r.prototype.clickCaptured = function () {\n          return removeEventListener(\"click\", this.clickBubbled, !1), addEventListener(\"click\", this.clickBubbled, !1);\n        }, r.prototype.clickBubbled = function (t) {\n          var e, r, n;\n          return this.enabled && this.clickEventIsSignificant(t) && (r = this.getVisitableLinkForNode(t.target)) && (n = this.getVisitableLocationForLink(r)) && this.applicationAllowsFollowingLinkToLocation(r, n) ? (t.preventDefault(), e = this.getActionForLink(r), this.visit(n, {\n            action: e\n          })) : void 0;\n        }, r.prototype.applicationAllowsFollowingLinkToLocation = function (t, e) {\n          var r;\n          return r = this.notifyApplicationAfterClickingLinkToLocation(t, e), !r.defaultPrevented;\n        }, r.prototype.applicationAllowsVisitingLocation = function (t) {\n          var e;\n          return e = this.notifyApplicationBeforeVisitingLocation(t), !e.defaultPrevented;\n        }, r.prototype.notifyApplicationAfterClickingLinkToLocation = function (t, r) {\n          return e.dispatch(\"turbolinks:click\", {\n            target: t,\n            data: {\n              url: r.absoluteURL\n            },\n            cancelable: !0\n          });\n        }, r.prototype.notifyApplicationBeforeVisitingLocation = function (t) {\n          return e.dispatch(\"turbolinks:before-visit\", {\n            data: {\n              url: t.absoluteURL\n            },\n            cancelable: !0\n          });\n        }, r.prototype.notifyApplicationAfterVisitingLocation = function (t) {\n          return e.dispatch(\"turbolinks:visit\", {\n            data: {\n              url: t.absoluteURL\n            }\n          });\n        }, r.prototype.notifyApplicationBeforeCachingSnapshot = function () {\n          return e.dispatch(\"turbolinks:before-cache\");\n        }, r.prototype.notifyApplicationBeforeRender = function (t) {\n          return e.dispatch(\"turbolinks:before-render\", {\n            data: {\n              newBody: t\n            }\n          });\n        }, r.prototype.notifyApplicationAfterRender = function () {\n          return e.dispatch(\"turbolinks:render\");\n        }, r.prototype.notifyApplicationAfterPageLoad = function (t) {\n          return null == t && (t = {}), e.dispatch(\"turbolinks:load\", {\n            data: {\n              url: this.location.absoluteURL,\n              timing: t\n            }\n          });\n        }, r.prototype.startVisit = function (t, e, r) {\n          var n;\n          return null != (n = this.currentVisit) && n.cancel(), this.currentVisit = this.createVisit(t, e, r), this.currentVisit.start(), this.notifyApplicationAfterVisitingLocation(t);\n        }, r.prototype.createVisit = function (t, r, n) {\n          var o, i, s, a, u;\n          return i = null != n ? n : {}, a = i.restorationIdentifier, s = i.restorationData, o = i.historyChanged, u = new e.Visit(this, t, r), u.restorationIdentifier = null != a ? a : e.uuid(), u.restorationData = e.copyObject(s), u.historyChanged = o, u.referrer = this.location, u;\n        }, r.prototype.visitCompleted = function (t) {\n          return this.notifyApplicationAfterPageLoad(t.getTimingMetrics());\n        }, r.prototype.clickEventIsSignificant = function (t) {\n          return !(t.defaultPrevented || t.target.isContentEditable || t.which > 1 || t.altKey || t.ctrlKey || t.metaKey || t.shiftKey);\n        }, r.prototype.getVisitableLinkForNode = function (t) {\n          return this.nodeIsVisitable(t) ? e.closest(t, \"a[href]:not([target]):not([download])\") : void 0;\n        }, r.prototype.getVisitableLocationForLink = function (t) {\n          var r;\n          return r = new e.Location(t.getAttribute(\"href\")), this.locationIsVisitable(r) ? r : void 0;\n        }, r.prototype.getActionForLink = function (t) {\n          var e;\n          return null != (e = t.getAttribute(\"data-turbolinks-action\")) ? e : \"advance\";\n        }, r.prototype.nodeIsVisitable = function (t) {\n          var r;\n          return (r = e.closest(t, \"[data-turbolinks]\")) ? \"false\" !== r.getAttribute(\"data-turbolinks\") : !0;\n        }, r.prototype.locationIsVisitable = function (t) {\n          return t.isPrefixedBy(this.view.getRootLocation()) && t.isHTML();\n        }, r.prototype.getCurrentRestorationData = function () {\n          return this.getRestorationDataForIdentifier(this.restorationIdentifier);\n        }, r.prototype.getRestorationDataForIdentifier = function (t) {\n          var e;\n          return null != (e = this.restorationData)[t] ? e[t] : e[t] = {};\n        }, r;\n      }();\n    }.call(this), function () {\n      !function () {\n        var t, e;\n        if ((t = e = document.currentScript) && !e.hasAttribute(\"data-turbolinks-suppress-warning\")) for (; t = t.parentNode;) if (t === document.body) return console.warn(\"You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\\n\\nLoad your application\\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\\n\\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\\n\\n\\u2014\\u2014\\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s\", e.outerHTML);\n      }();\n    }.call(this), function () {\n      var t, r, n;\n      e.start = function () {\n        return r() ? (null == e.controller && (e.controller = t()), e.controller.start()) : void 0;\n      }, r = function () {\n        return null == window.Turbolinks && (window.Turbolinks = e), n();\n      }, t = function () {\n        var t;\n        return t = new e.Controller(), t.adapter = new e.BrowserAdapter(t), t;\n      }, n = function () {\n        return window.Turbolinks === e;\n      }, n() && e.start();\n    }.call(this);\n  }).call(this), \"object\" == typeof module && module.exports ? module.exports = e : \"function\" == typeof define && define.amd && define(e);\n}).call(this);","var g;\n\n// This works in non-strict mode\ng = function () {\n  return this;\n}();\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACl6BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACz2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5QA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1oMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AC36BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}